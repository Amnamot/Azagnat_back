var dC=Object.defineProperty;var pg=Object.getOwnPropertySymbols;var pC=Object.prototype.hasOwnProperty,gC=Object.prototype.propertyIsEnumerable;var gg=(A,e,t)=>e in A?dC(A,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):A[e]=t,mg=(A,e)=>{for(var t in e||(e={}))pC.call(e,t)&&gg(A,t,e[t]);if(pg)for(var t of pg(e))gC.call(e,t)&&gg(A,t,e[t]);return A};function ki(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function vv(A,e){A.prototype=Object.create(e.prototype),A.prototype.constructor=A,A.__proto__=e}/*!
 * GSAP 3.9.1
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ln={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Rs={duration:.5,overwrite:!1,delay:0},Dd,Xn=1e8,at=1/Xn,yf=Math.PI*2,mC=yf/4,vC=0,wv=Math.sqrt,wC=Math.cos,BC=Math.sin,Xt=function(e){return typeof e=="string"},Wt=function(e){return typeof e=="function"},Ji=function(e){return typeof e=="number"},Id=function(e){return typeof e=="undefined"},Zi=function(e){return typeof e=="object"},_n=function(e){return e!==!1},Bv=function(){return typeof window!="undefined"},vl=function(e){return Wt(e)||Xt(e)},yv=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},on=Array.isArray,xf=/(?:-?\.?\d|\.)+/gi,xv=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_s=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,th=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Cv=/[+-]=-?[.\d]+/,_v=/[^,'"\[\]\s]+/gi,yC=/[\d.+\-=]+(?:e[-+]\d*)*/i,wt,mi,Cf,Ld,Hn={},Pc={},Ev,bv=function(e){return(Pc=Hs(e,Hn))&&_i},Qd=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Oc=function(e,t){return!t&&console.warn(e)},Mv=function(e,t){return e&&(Hn[e]=t)&&Pc&&(Pc[e]=t)||Hn},Bo=function(){return 0},Rd={},Er=[],_f={},Tv,In={},nh={},vg=30,Fc=[],Hd="",Pd=function(e){var t=e[0],n,i;if(Zi(t)||Wt(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=Fc.length;i--&&!Fc[i].targetTest(t););n=Fc[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Zv(e[i],n)))||e.splice(i,1);return e},BA=function(e){return e._gsap||Pd(Yn(e))[0]._gsap},Sv=function(e,t,n){return(n=e[t])&&Wt(n)?e[t]():Id(n)&&e.getAttribute&&e.getAttribute(t)||n},En=function(e,t){return(e=e.split(",")).forEach(t)||e},Dt=function(e){return Math.round(e*1e5)/1e5||0},an=function(e){return Math.round(e*1e7)/1e7||0},xC=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},Nc=function(){var e=Er.length,t=Er.slice(0),n,i;for(_f={},Er.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Fv=function(e,t,n,i){Er.length&&Nc(),e.render(t,n,i),Er.length&&Nc()},Uv=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(_v).length<2?t:Xt(e)?e.trim():e},Dv=function(e){return e},jn=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},CC=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},Hs=function(e,t){for(var n in t)e[n]=t[n];return e},wg=function A(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Zi(t[n])?A(e[n]||(e[n]={}),t[n]):t[n]);return e},Gc=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},so=function(e){var t=e.parent||wt,n=e.keyframes?CC(on(e.keyframes)):jn;if(_n(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},_C=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},EC=function(e,t,n,i,r){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=e[i],a;if(r)for(a=t[r];s&&s[r]>a;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=s,t.parent=t._dp=e,t},su=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var r=t._prev,s=t._next;r?r._next=s:e[n]===t&&(e[n]=s),s?s._prev=r:e[i]===t&&(e[i]=r),t._next=t._prev=t.parent=null},zi=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},yA=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},bC=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},MC=function A(e){return!e||e._ts&&A(e.parent)},Bg=function(e){return e._repeat?Ps(e._tTime,e=e.duration()+e._rDelay)*e:0},Ps=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},kc=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},au=function(e){return e._end=an(e._start+(e._tDur/Math.abs(e._ts||e._rts||at)||0))},Iv=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=an(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),au(e),n._dirty||yA(n,e)),e},Lv=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=kc(e.rawTime(),t),(!t._dur||ko(0,t.totalDuration(),n)-t._tTime>at)&&t.render(n,!0)),yA(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-at}},Bi=function(e,t,n,i){return t.parent&&zi(t),t._start=an((Ji(n)?n:n||e!==wt?Vn(e,n,t):e._time)+t._delay),t._end=an(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),EC(e,t,"_first","_last",e._sort?"_start":0),Ef(t)||(e._recent=t),i||Lv(e,t),e},Qv=function(e,t){return(Hn.ScrollTrigger||Qd("scrollTrigger",t))&&Hn.ScrollTrigger.create(t,e)},Rv=function(e,t,n,i){if(ZC(e,t),!e._initted)return 1;if(!n&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Tv!==Wn.frame)return Er.push(e),e._lazy=[t,i],1},TC=function A(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||A(t))},Ef=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},SC=function(e,t,n,i){var r=e.ratio,s=t<0||!t&&(!e._start&&TC(e)&&!(!e._initted&&Ef(e))||(e._ts<0||e._dp._ts<0)&&!Ef(e))?0:1,a=e._rDelay,o=0,l,c,u;if(a&&e._repeat&&(o=ko(0,e._tDur,t),c=Ps(o,a),e._yoyo&&c&1&&(s=1-s),c!==Ps(e._tTime,a)&&(r=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==r||i||e._zTime===at||!t&&e._zTime){if(!e._initted&&Rv(e,t,i,n))return;for(u=e._zTime,e._zTime=t||(n?at:0),n||(n=t&&!u),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=o,l=e._pt;l;)l.r(s,l.d),l=l._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!n&&Jn(e,"onUpdate"),o&&e._repeat&&!n&&e.parent&&Jn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&zi(e,1),n||(Jn(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},FC=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Os=function(e,t,n,i){var r=e._repeat,s=an(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=s/e._dur),e._dur=s,e._tDur=r?r<0?1e10:an(s*(r+1)+e._rDelay*r):s,a>0&&!i?Iv(e,e._tTime=e._tDur*a):e.parent&&au(e),n||yA(e.parent,e),e},yg=function(e){return e instanceof xn?yA(e):Os(e,e._dur)},UC={_start:0,endTime:Bo,totalDuration:Bo},Vn=function A(e,t,n){var i=e.labels,r=e._recent||UC,s=e.duration()>=Xn?r.endTime(!1):e._dur,a,o,l;return Xt(t)&&(isNaN(t)||t in i)?(o=t.charAt(0),l=t.substr(-1)==="%",a=t.indexOf("="),o==="<"||o===">"?(a>=0&&(t=t.replace(/=/,"")),(o==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(a<0?r:n).totalDuration()/100:1)):a<0?(t in i||(i[t]=s),i[t]):(o=parseFloat(t.charAt(a-1)+t.substr(a+1)),l&&n&&(o=o/100*(on(n)?n[0]:n).totalDuration()),a>1?A(e,t.substr(0,a-1),n)+o:s+o)):t==null?s:+t},ao=function(e,t,n){var i=Ji(t[1]),r=(i?2:1)+(e<2?0:1),s=t[r],a,o;if(i&&(s.duration=t[1]),s.parent=n,e){for(a=s,o=n;o&&!("immediateRender"in a);)a=o.vars.defaults||{},o=_n(o.vars.inherit)&&o.parent;s.immediateRender=_n(a.immediateRender),e<2?s.runBackwards=1:s.startAt=t[r-1]}return new zt(t[0],s,t[r+1])},zr=function(e,t){return e||e===0?t(e):t},ko=function(e,t,n){return n<e?e:n>t?t:n},yn=function(e,t){return!Xt(e)||!(t=yC.exec(e))?"":e.substr(t.index+t[0].length)},DC=function(e,t,n){return zr(n,function(i){return ko(e,t,i)})},bf=[].slice,Hv=function(e,t){return e&&Zi(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Zi(e[0]))&&!e.nodeType&&e!==mi},IC=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var r;return Xt(i)&&!t||Hv(i,1)?(r=n).push.apply(r,Yn(i)):n.push(i)})||n},Yn=function(e,t,n){return Xt(e)&&!n&&(Cf||!Ns())?bf.call((t||Ld).querySelectorAll(e),0):on(e)?IC(e,n):Hv(e)?bf.call(e,0):e?[e]:[]},LC=function(e){return e=Yn(e)[0]||Oc("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Yn(t,n.querySelectorAll?n:n===e?Oc("Invalid scope")||Ld.createElement("div"):e)}},Pv=function(e){return e.sort(function(){return .5-Math.random()})},Ov=function(e){if(Wt(e))return e;var t=Zi(e)?e:{each:e},n=xA(t.ease),i=t.from||0,r=parseFloat(t.base)||0,s={},a=i>0&&i<1,o=isNaN(i)||a,l=t.axis,c=i,u=i;return Xt(i)?c=u={center:.5,edges:.5,end:1}[i]||0:!a&&o&&(c=i[0],u=i[1]),function(h,f,d){var p=(d||t).length,v=s[p],g,m,w,B,y,C,x,E,M;if(!v){if(M=t.grid==="auto"?0:(t.grid||[1,Xn])[1],!M){for(x=-Xn;x<(x=d[M++].getBoundingClientRect().left)&&M<p;);M--}for(v=s[p]=[],g=o?Math.min(M,p)*c-.5:i%M,m=M===Xn?0:o?p*u/M-.5:i/M|0,x=0,E=Xn,C=0;C<p;C++)w=C%M-g,B=m-(C/M|0),v[C]=y=l?Math.abs(l==="y"?B:w):wv(w*w+B*B),y>x&&(x=y),y<E&&(E=y);i==="random"&&Pv(v),v.max=x-E,v.min=E,v.v=p=(parseFloat(t.amount)||parseFloat(t.each)*(M>p?p-1:l?l==="y"?p/M:M:Math.max(M,p/M))||0)*(i==="edges"?-1:1),v.b=p<0?r-p:r,v.u=yn(t.amount||t.each)||0,n=n&&p<0?Xv(n):n}return p=(v[h]-v.min)/v.max||0,an(v.b+(n?n(p):p)*v.v)+v.u}},Mf=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Math.round(parseFloat(n)/e)*e*t;return(i-i%1)/t+(Ji(n)?0:yn(n))}},Nv=function(e,t){var n=on(e),i,r;return!n&&Zi(e)&&(i=n=e.radius||Xn,e.values?(e=Yn(e.values),(r=!Ji(e[0]))&&(i*=i)):e=Mf(e.increment)),zr(t,n?Wt(e)?function(s){return r=e(s),Math.abs(r-s)<=i?r:s}:function(s){for(var a=parseFloat(r?s.x:s),o=parseFloat(r?s.y:0),l=Xn,c=0,u=e.length,h,f;u--;)r?(h=e[u].x-a,f=e[u].y-o,h=h*h+f*f):h=Math.abs(e[u]-a),h<l&&(l=h,c=u);return c=!i||l<=i?e[c]:s,r||c===s||Ji(s)?c:c+yn(s)}:Mf(e))},Gv=function(e,t,n,i){return zr(on(e)?!t:n===!0?!!(n=0):!i,function(){return on(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},QC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(r,s){return s(r)},i)}},RC=function(e,t){return function(n){return e(parseFloat(n))+(t||yn(n))}},HC=function(e,t,n){return Vv(e,t,0,1,n)},kv=function(e,t,n){return zr(n,function(i){return e[~~t(i)]})},PC=function A(e,t,n){var i=t-e;return on(e)?kv(e,A(0,e.length),t):zr(n,function(r){return(i+(r-e)%i)%i+e})},OC=function A(e,t,n){var i=t-e,r=i*2;return on(e)?kv(e,A(0,e.length-1),t):zr(n,function(s){return s=(r+(s-e)%r)%r||0,e+(s>i?r-s:s)})},yo=function(e){for(var t=0,n="",i,r,s,a;~(i=e.indexOf("random(",t));)s=e.indexOf(")",i),a=e.charAt(i+7)==="[",r=e.substr(i+7,s-i-7).match(a?_v:xf),n+=e.substr(t,i-t)+Gv(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),t=s+1;return n+e.substr(t,e.length-t)},Vv=function(e,t,n,i,r){var s=t-e,a=i-n;return zr(r,function(o){return n+((o-e)/s*a||0)})},NC=function A(e,t,n,i){var r=isNaN(e+t)?0:function(f){return(1-f)*e+f*t};if(!r){var s=Xt(e),a={},o,l,c,u,h;if(n===!0&&(i=1)&&(n=null),s)e={p:e},t={p:t};else if(on(e)&&!on(t)){for(c=[],u=e.length,h=u-2,l=1;l<u;l++)c.push(A(e[l-1],e[l]));u--,r=function(d){d*=u;var p=Math.min(h,~~d);return c[p](d-p)},n=t}else i||(e=Hs(on(e)?[]:{},e));if(!c){for(o in t)Od.call(a,e,o,"get",t[o]);r=function(d){return kd(d,a)||(s?e.p:e)}}}return zr(n,r)},xg=function(e,t,n){var i=e.labels,r=Xn,s,a,o;for(s in i)a=i[s]-t,a<0==!!n&&a&&r>(a=Math.abs(a))&&(o=s,r=a);return o},Jn=function(e,t,n){var i=e.vars,r=i[t],s,a;if(!!r)return s=i[t+"Params"],a=i.callbackScope||e,n&&Er.length&&Nc(),s?r.apply(a,s):r.call(a)},Za=function(e){return zi(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&Jn(e,"onInterrupt"),e},Es,GC=function(e){e=!e.name&&e.default||e;var t=e.name,n=Wt(e),i=t&&!n&&e.init?function(){this._props=[]}:e,r={init:Bo,render:kd,add:Od,kill:i_,modifier:n_,rawVars:0},s={targetTest:0,get:0,getSetter:Gd,aliases:{},register:0};if(Ns(),e!==i){if(In[t])return;jn(i,jn(Gc(e,r),s)),Hs(i.prototype,Hs(r,Gc(e,s))),In[i.prop=t]=i,e.targetTest&&(Fc.push(i),Rd[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Mv(t,i),e.register&&e.register(_i,i,bn)},st=255,qa={aqua:[0,st,st],lime:[0,st,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,st],navy:[0,0,128],white:[st,st,st],olive:[128,128,0],yellow:[st,st,0],orange:[st,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[st,0,0],pink:[st,192,203],cyan:[0,st,st],transparent:[st,st,st,0]},ih=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*st+.5|0},zv=function(e,t,n){var i=e?Ji(e)?[e>>16,e>>8&st,e&st]:0:qa.black,r,s,a,o,l,c,u,h,f,d;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),qa[e])i=qa[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),s=e.charAt(2),a=e.charAt(3),e="#"+r+r+s+s+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&st,i&st,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&st,e&st]}else if(e.substr(0,3)==="hsl"){if(i=d=e.match(xf),!t)o=+i[0]%360/360,l=+i[1]/100,c=+i[2]/100,s=c<=.5?c*(l+1):c+l-c*l,r=c*2-s,i.length>3&&(i[3]*=1),i[0]=ih(o+1/3,r,s),i[1]=ih(o,r,s),i[2]=ih(o-1/3,r,s);else if(~e.indexOf("="))return i=e.match(xv),n&&i.length<4&&(i[3]=1),i}else i=e.match(xf)||qa.transparent;i=i.map(Number)}return t&&!d&&(r=i[0]/st,s=i[1]/st,a=i[2]/st,u=Math.max(r,s,a),h=Math.min(r,s,a),c=(u+h)/2,u===h?o=l=0:(f=u-h,l=c>.5?f/(2-u-h):f/(u+h),o=u===r?(s-a)/f+(s<a?6:0):u===s?(a-r)/f+2:(r-s)/f+4,o*=60),i[0]=~~(o+.5),i[1]=~~(l*100+.5),i[2]=~~(c*100+.5)),n&&i.length<4&&(i[3]=1),i},Kv=function(e){var t=[],n=[],i=-1;return e.split(br).forEach(function(r){var s=r.match(_s)||[];t.push.apply(t,s),n.push(i+=s.length+1)}),t.c=n,t},Cg=function(e,t,n){var i="",r=(e+i).match(br),s=t?"hsla(":"rgba(",a=0,o,l,c,u;if(!r)return e;if(r=r.map(function(h){return(h=zv(h,t,1))&&s+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),n&&(c=Kv(e),o=n.c,o.join(i)!==c.c.join(i)))for(l=e.replace(br,"1").split(_s),u=l.length-1;a<u;a++)i+=l[a]+(~o.indexOf(a)?r.shift()||s+"0,0,0,0)":(c.length?c:r.length?r:n).shift());if(!l)for(l=e.split(br),u=l.length-1;a<u;a++)i+=l[a]+r[a];return i+l[u]},br=function(){var A="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in qa)A+="|"+e+"\\b";return new RegExp(A+")","gi")}(),kC=/hsl[a]?\(/,Wv=function(e){var t=e.join(" "),n;if(br.lastIndex=0,br.test(t))return n=kC.test(t),e[1]=Cg(e[1],n),e[0]=Cg(e[0],n,Kv(e[1])),!0},Vc,Wn=function(){var A=Date.now,e=500,t=33,n=A(),i=n,r=1e3/240,s=r,a=[],o,l,c,u,h,f,d=function p(v){var g=A()-i,m=v===!0,w,B,y,C;if(g>e&&(n+=g-t),i+=g,y=i-n,w=y-s,(w>0||m)&&(C=++u.frame,h=y-u.time*1e3,u.time=y=y/1e3,s+=w+(w>=r?4:r-w),B=1),m||(o=l(p)),B)for(f=0;f<a.length;f++)a[f](y,h,C,v)};return u={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){Ev&&(!Cf&&Bv()&&(mi=Cf=window,Ld=mi.document||{},Hn.gsap=_i,(mi.gsapVersions||(mi.gsapVersions=[])).push(_i.version),bv(Pc||mi.GreenSockGlobals||!mi.gsap&&mi||{}),c=mi.requestAnimationFrame),o&&u.sleep(),l=c||function(v){return setTimeout(v,s-u.time*1e3+1|0)},Vc=1,d(2))},sleep:function(){(c?mi.cancelAnimationFrame:clearTimeout)(o),Vc=0,l=Bo},lagSmoothing:function(v,g){e=v||1/at,t=Math.min(g,e,0)},fps:function(v){r=1e3/(v||240),s=u.time*1e3+r},add:function(v){a.indexOf(v)<0&&a.push(v),Ns()},remove:function(v,g){~(g=a.indexOf(v))&&a.splice(g,1)&&f>=g&&f--},_listeners:a},u}(),Ns=function(){return!Vc&&Wn.wake()},Ye={},VC=/^[\d.\-M][\d.\-,\s]/,zC=/["']/g,KC=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],r=1,s=n.length,a,o,l;r<s;r++)o=n[r],a=r!==s-1?o.lastIndexOf(","):o.length,l=o.substr(0,a),t[i]=isNaN(l)?l.replace(zC,"").trim():+l,i=o.substr(a+1).trim();return t},WC=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},XC=function(e){var t=(e+"").split("("),n=Ye[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[KC(t[1])]:WC(e).split(",").map(Uv)):Ye._CE&&VC.test(e)?Ye._CE("",e):n},Xv=function(e){return function(t){return 1-e(1-t)}},Yv=function A(e,t){for(var n=e._first,i;n;)n instanceof xn?A(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?A(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},xA=function(e,t){return e&&(Wt(e)?e:Ye[e]||XC(e))||t},QA=function(e,t,n,i){n===void 0&&(n=function(o){return 1-t(1-o)}),i===void 0&&(i=function(o){return o<.5?t(o*2)/2:1-t((1-o)*2)/2});var r={easeIn:t,easeOut:n,easeInOut:i},s;return En(e,function(a){Ye[a]=Hn[a]=r,Ye[s=a.toLowerCase()]=n;for(var o in r)Ye[s+(o==="easeIn"?".in":o==="easeOut"?".out":".inOut")]=Ye[a+"."+o]=r[o]}),r},Jv=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},rh=function A(e,t,n){var i=t>=1?t:1,r=(n||(e?.3:.45))/(t<1?t:1),s=r/yf*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*BC((c-s)*r)+1},o=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:Jv(a);return r=yf/r,o.config=function(l,c){return A(e,l,c)},o},Ah=function A(e,t){t===void 0&&(t=1.70158);var n=function(s){return s?--s*s*((t+1)*s+t)+1:0},i=e==="out"?n:e==="in"?function(r){return 1-n(1-r)}:Jv(n);return i.config=function(r){return A(e,r)},i};En("Linear,Quad,Cubic,Quart,Quint,Strong",function(A,e){var t=e<5?e+1:e;QA(A+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Ye.Linear.easeNone=Ye.none=Ye.Linear.easeIn;QA("Elastic",rh("in"),rh("out"),rh());(function(A,e){var t=1/e,n=2*t,i=2.5*t,r=function(a){return a<t?A*a*a:a<n?A*Math.pow(a-1.5/e,2)+.75:a<i?A*(a-=2.25/e)*a+.9375:A*Math.pow(a-2.625/e,2)+.984375};QA("Bounce",function(s){return 1-r(1-s)},r)})(7.5625,2.75);QA("Expo",function(A){return A?Math.pow(2,10*(A-1)):0});QA("Circ",function(A){return-(wv(1-A*A)-1)});QA("Sine",function(A){return A===1?1:-wC(A*mC)+1});QA("Back",Ah("in"),Ah("out"),Ah());Ye.SteppedEase=Ye.steps=Hn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),r=t?1:0,s=1-at;return function(a){return((i*ko(0,s,a)|0)+r)*n}}};Rs.ease=Ye["quad.out"];En("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(A){return Hd+=A+","+A+"Params,"});var Zv=function(e,t){this.id=vC++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Sv,this.set=t?t.getSetter:Gd},xo=function(){function A(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Os(this,+t.duration,1,1),this.data=t.data,Vc||Wn.wake()}var e=A.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Os(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(Ns(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Iv(this,n),!r._dp||r.parent||Lv(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Bi(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===at||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Fv(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Bg(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Bg(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,i){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*r,i):this._repeat?Ps(this._tTime,r)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-at?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?kc(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-at?0:this._rts,bC(this.totalTime(ko(-this._delay,this._tDur,i),!0)),au(this),this},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ns(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==at&&(this._tTime-=at)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Bi(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(_n(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?kc(i.rawTime(n),this):this._tTime:this._tTime},e.globalTime=function(n){for(var i=this,r=arguments.length?n:i.rawTime();i;)r=i._start+r/(i._ts||1),i=i._dp;return r},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,yg(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,yg(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Vn(this,n),_n(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,_n(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-at:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-at,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,r;return!!(!n||this._ts&&this._initted&&n.isActive()&&(r=n.rawTime(!0))>=i&&r<this.endTime(!0)-at)},e.eventCallback=function(n,i,r){var s=this.vars;return arguments.length>1?(i?(s[n]=i,r&&(s[n+"Params"]=r),n==="onUpdate"&&(this._onUpdate=i)):delete s[n],this):s[n]},e.then=function(n){var i=this;return new Promise(function(r){var s=Wt(n)?n:Dv,a=function(){var l=i.then;i.then=null,Wt(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=l),r(s),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Za(this)},A}();jn(xo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-at,_prom:0,_ps:!1,_rts:1});var xn=function(A){vv(e,A);function e(n,i){var r;return n===void 0&&(n={}),r=A.call(this,n)||this,r.labels={},r.smoothChildTiming=!!n.smoothChildTiming,r.autoRemoveChildren=!!n.autoRemoveChildren,r._sort=_n(n.sortChildren),wt&&Bi(n.parent||wt,ki(r),i),n.reversed&&r.reverse(),n.paused&&r.paused(!0),n.scrollTrigger&&Qv(ki(r),n.scrollTrigger),r}var t=e.prototype;return t.to=function(i,r,s){return ao(0,arguments,this),this},t.from=function(i,r,s){return ao(1,arguments,this),this},t.fromTo=function(i,r,s,a){return ao(2,arguments,this),this},t.set=function(i,r,s){return r.duration=0,r.parent=this,so(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new zt(i,r,Vn(this,s),1),this},t.call=function(i,r,s){return Bi(this,zt.delayedCall(0,i,r),s)},t.staggerTo=function(i,r,s,a,o,l,c){return s.duration=r,s.stagger=s.stagger||a,s.onComplete=l,s.onCompleteParams=c,s.parent=this,new zt(i,s,Vn(this,o)),this},t.staggerFrom=function(i,r,s,a,o,l,c){return s.runBackwards=1,so(s).immediateRender=_n(s.immediateRender),this.staggerTo(i,r,s,a,o,l,c)},t.staggerFromTo=function(i,r,s,a,o,l,c,u){return a.startAt=s,so(a).immediateRender=_n(a.immediateRender),this.staggerTo(i,r,a,o,l,c,u)},t.render=function(i,r,s){var a=this._time,o=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=i<=0?0:an(i),u=this._zTime<0!=i<0&&(this._initted||!l),h,f,d,p,v,g,m,w,B,y,C,x;if(this!==wt&&c>o&&i>=0&&(c=o),c!==this._tTime||s||u){if(a!==this._time&&l&&(c+=this._time-a,i+=this._time-a),h=c,B=this._start,w=this._ts,g=!w,u&&(l||(a=this._zTime),(i||!r)&&(this._zTime=i)),this._repeat){if(C=this._yoyo,v=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,r,s);if(h=an(c%v),c===o?(p=this._repeat,h=l):(p=~~(c/v),p&&p===c/v&&(h=l,p--),h>l&&(h=l)),y=Ps(this._tTime,v),!a&&this._tTime&&y!==p&&(y=p),C&&p&1&&(h=l-h,x=1),p!==y&&!this._lock){var E=C&&y&1,M=E===(C&&p&1);if(p<y&&(E=!E),a=E?0:l,this._lock=1,this.render(a||(x?0:an(p*v)),r,!l)._lock=0,this._tTime=c,!r&&this.parent&&Jn(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,o=this._tDur,M&&(this._lock=2,a=E?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;Yv(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(m=FC(this,an(a),an(h)),m&&(c-=h-(h=m._start))),this._tTime=c,this._time=h,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!r&&(Jn(this,"onStart"),this._tTime!==c))return this;if(h>=a&&i>=0)for(f=this._first;f;){if(d=f._next,(f._act||h>=f._start)&&f._ts&&m!==f){if(f.parent!==this)return this.render(i,r,s);if(f.render(f._ts>0?(h-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(h-f._start)*f._ts,r,s),h!==this._time||!this._ts&&!g){m=0,d&&(c+=this._zTime=-at);break}}f=d}else{f=this._last;for(var H=i<0?i:h;f;){if(d=f._prev,(f._act||H<=f._end)&&f._ts&&m!==f){if(f.parent!==this)return this.render(i,r,s);if(f.render(f._ts>0?(H-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(H-f._start)*f._ts,r,s),h!==this._time||!this._ts&&!g){m=0,d&&(c+=this._zTime=H?-at:at);break}}f=d}}if(m&&!r&&(this.pause(),m.render(h>=a?0:-at)._zTime=h>=a?1:-1,this._ts))return this._start=B,au(this),this.render(i,r,s);this._onUpdate&&!r&&Jn(this,"onUpdate",!0),(c===o&&o>=this.totalDuration()||!c&&a)&&(B===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(c===o&&this._ts>0||!c&&this._ts<0)&&zi(this,1),!r&&!(i<0&&!a)&&(c||a||!o)&&(Jn(this,c===o&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<o&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,r){var s=this;if(Ji(r)||(r=Vn(this,r,i)),!(i instanceof xo)){if(on(i))return i.forEach(function(a){return s.add(a,r)}),this;if(Xt(i))return this.addLabel(i,r);if(Wt(i))i=zt.delayedCall(0,i);else return this}return this!==i?Bi(this,i,r):this},t.getChildren=function(i,r,s,a){i===void 0&&(i=!0),r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=-Xn);for(var o=[],l=this._first;l;)l._start>=a&&(l instanceof zt?r&&o.push(l):(s&&o.push(l),i&&o.push.apply(o,l.getChildren(!0,r,s)))),l=l._next;return o},t.getById=function(i){for(var r=this.getChildren(1,1,1),s=r.length;s--;)if(r[s].vars.id===i)return r[s]},t.remove=function(i){return Xt(i)?this.removeLabel(i):Wt(i)?this.killTweensOf(i):(su(this,i),i===this._recent&&(this._recent=this._last),yA(this))},t.totalTime=function(i,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=an(Wn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),A.prototype.totalTime.call(this,i,r),this._forcing=0,this):this._tTime},t.addLabel=function(i,r){return this.labels[i]=Vn(this,r),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,r,s){var a=zt.delayedCall(0,r||Bo,s);return a.data="isPause",this._hasPause=1,Bi(this,a,Vn(this,i))},t.removePause=function(i){var r=this._first;for(i=Vn(this,i);r;)r._start===i&&r.data==="isPause"&&zi(r),r=r._next},t.killTweensOf=function(i,r,s){for(var a=this.getTweensOf(i,s),o=a.length;o--;)vr!==a[o]&&a[o].kill(i,r);return this},t.getTweensOf=function(i,r){for(var s=[],a=Yn(i),o=this._first,l=Ji(r),c;o;)o instanceof zt?xC(o._targets,a)&&(l?(!vr||o._initted&&o._ts)&&o.globalTime(0)<=r&&o.globalTime(o.totalDuration())>r:!r||o.isActive())&&s.push(o):(c=o.getTweensOf(a,r)).length&&s.push.apply(s,c),o=o._next;return s},t.tweenTo=function(i,r){r=r||{};var s=this,a=Vn(s,i),o=r,l=o.startAt,c=o.onStart,u=o.onStartParams,h=o.immediateRender,f,d=zt.to(s,jn({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(l&&"time"in l?l.time:s._time))/s.timeScale())||at,onStart:function(){if(s.pause(),!f){var v=r.duration||Math.abs((a-(l&&"time"in l?l.time:s._time))/s.timeScale());d._dur!==v&&Os(d,v,0,1).render(d._time,!0,!0),f=1}c&&c.apply(d,u||[])}},r));return h?d.render(0):d},t.tweenFromTo=function(i,r,s){return this.tweenTo(r,jn({startAt:{time:Vn(this,i)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),xg(this,Vn(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),xg(this,Vn(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+at)},t.shiftChildren=function(i,r,s){s===void 0&&(s=0);for(var a=this._first,o=this.labels,l;a;)a._start>=s&&(a._start+=i,a._end+=i),a=a._next;if(r)for(l in o)o[l]>=s&&(o[l]+=i);return yA(this)},t.invalidate=function(){var i=this._first;for(this._lock=0;i;)i.invalidate(),i=i._next;return A.prototype.invalidate.call(this)},t.clear=function(i){i===void 0&&(i=!0);for(var r=this._first,s;r;)s=r._next,this.remove(r),r=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),yA(this)},t.totalDuration=function(i){var r=0,s=this,a=s._last,o=Xn,l,c,u;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(u=s.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>o&&s._sort&&a._ts&&!s._lock?(s._lock=1,Bi(s,a,c-a._delay,1)._lock=0):o=c,c<0&&a._ts&&(r-=c,(!u&&!s._dp||u&&u.smoothChildTiming)&&(s._start+=c/s._ts,s._time-=c,s._tTime-=c),s.shiftChildren(-c,!1,-1/0),o=0),a._end>r&&a._ts&&(r=a._end),a=l;Os(s,s===wt&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(i){if(wt._ts&&(Fv(wt,kc(i,wt)),Tv=Wn.frame),Wn.frame>=vg){vg+=Ln.autoSleep||120;var r=wt._first;if((!r||!r._ts)&&Ln.autoSleep&&Wn._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Wn.sleep()}}},e}(xo);jn(xn.prototype,{_lock:0,_hasPause:0,_forcing:0});var YC=function(e,t,n,i,r,s,a){var o=new bn(this._pt,e,t,0,1,nw,null,r),l=0,c=0,u,h,f,d,p,v,g,m;for(o.b=n,o.e=i,n+="",i+="",(g=~i.indexOf("random("))&&(i=yo(i)),s&&(m=[n,i],s(m,e,t),n=m[0],i=m[1]),h=n.match(th)||[];u=th.exec(i);)d=u[0],p=i.substring(l,u.index),f?f=(f+1)%5:p.substr(-5)==="rgba("&&(f=1),d!==h[c++]&&(v=parseFloat(h[c-1])||0,o._pt={_next:o._pt,p:p||c===1?p:",",s:v,c:d.charAt(1)==="="?parseFloat(d.substr(2))*(d.charAt(0)==="-"?-1:1):parseFloat(d)-v,m:f&&f<4?Math.round:0},l=th.lastIndex);return o.c=l<i.length?i.substring(l,i.length):"",o.fp=a,(Cv.test(i)||g)&&(o.e=0),this._pt=o,o},Od=function(e,t,n,i,r,s,a,o,l){Wt(i)&&(i=i(r||0,e,s));var c=e[t],u=n!=="get"?n:Wt(c)?l?e[t.indexOf("set")||!Wt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():c,h=Wt(c)?l?$C:ew:Nd,f;if(Xt(i)&&(~i.indexOf("random(")&&(i=yo(i)),i.charAt(1)==="="&&(f=parseFloat(u)+parseFloat(i.substr(2))*(i.charAt(0)==="-"?-1:1)+(yn(u)||0),(f||f===0)&&(i=f))),u!==i)return!isNaN(u*i)&&i!==""?(f=new bn(this._pt,e,t,+u||0,i-(u||0),typeof c=="boolean"?t_:tw,0,h),l&&(f.fp=l),a&&f.modifier(a,this,e),this._pt=f):(!c&&!(t in e)&&Qd(t,i),YC.call(this,e,t,u,i,h,o||Ln.stringFilter,l))},JC=function(e,t,n,i,r){if(Wt(e)&&(e=oo(e,r,t,n,i)),!Zi(e)||e.style&&e.nodeType||on(e)||yv(e))return Xt(e)?oo(e,r,t,n,i):e;var s={},a;for(a in e)s[a]=oo(e[a],r,t,n,i);return s},qv=function(e,t,n,i,r,s){var a,o,l,c;if(In[e]&&(a=new In[e]).init(r,a.rawVars?t[e]:JC(t[e],i,r,s,n),n,i,s)!==!1&&(n._pt=o=new bn(n._pt,r,e,0,1,a.render,a,0,a.priority),n!==Es))for(l=n._ptLookup[n._targets.indexOf(r)],c=a._props.length;c--;)l[a._props[c]]=o;return a},vr,ZC=function A(e,t){var n=e.vars,i=n.ease,r=n.startAt,s=n.immediateRender,a=n.lazy,o=n.onUpdate,l=n.onUpdateParams,c=n.callbackScope,u=n.runBackwards,h=n.yoyoEase,f=n.keyframes,d=n.autoRevert,p=e._dur,v=e._startAt,g=e._targets,m=e.parent,w=m&&m.data==="nested"?m.parent._targets:g,B=e._overwrite==="auto"&&!Dd,y=e.timeline,C,x,E,M,H,N,O,Q,F,G,I,V,te;if(y&&(!f||!i)&&(i="none"),e._ease=xA(i,Rs.ease),e._yEase=h?Xv(xA(h===!0?i:h,Rs.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!y&&!!n.runBackwards,!y||f&&!n.stagger){if(Q=g[0]?BA(g[0]).harness:0,V=Q&&n[Q.prop],C=Gc(n,Rd),v&&zi(v.render(-1,!0)),r)if(zi(e._startAt=zt.set(g,jn({data:"isStart",overwrite:!1,parent:m,immediateRender:!0,lazy:_n(a),startAt:null,delay:0,onUpdate:o,onUpdateParams:l,callbackScope:c,stagger:0},r))),t<0&&!s&&!d&&e._startAt.render(-1,!0),s){if(t>0&&!d&&(e._startAt=0),p&&t<=0){t&&(e._zTime=t);return}}else d===!1&&(e._startAt=0);else if(u&&p){if(v)!d&&(e._startAt=0);else if(t&&(s=!1),E=jn({overwrite:!1,data:"isFromStart",lazy:s&&_n(a),immediateRender:s,stagger:0,parent:m},C),V&&(E[Q.prop]=V),zi(e._startAt=zt.set(g,E)),t<0&&e._startAt.render(-1,!0),e._zTime=t,!s)A(e._startAt,at);else if(!t)return}for(e._pt=0,a=p&&_n(a)||a&&!p,x=0;x<g.length;x++){if(H=g[x],O=H._gsap||Pd(g)[x]._gsap,e._ptLookup[x]=G={},_f[O.id]&&Er.length&&Nc(),I=w===g?x:w.indexOf(H),Q&&(F=new Q).init(H,V||C,e,I,w)!==!1&&(e._pt=M=new bn(e._pt,H,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(ie){G[ie]=M}),F.priority&&(N=1)),!Q||V)for(E in C)In[E]&&(F=qv(E,C,e,I,H,w))?F.priority&&(N=1):G[E]=M=Od.call(e,H,E,"get",C[E],I,w,0,n.stringFilter);e._op&&e._op[x]&&e.kill(H,e._op[x]),B&&e._pt&&(vr=e,wt.killTweensOf(H,G,e.globalTime(t)),te=!e.parent,vr=0),e._pt&&a&&(_f[O.id]=1)}N&&iw(e),e._onInit&&e._onInit(e)}e._onUpdate=o,e._initted=(!e._op||e._pt)&&!te,f&&t<=0&&y.render(Xn,!0,!0)},qC=function(e,t){var n=e[0]?BA(e[0]).harness:0,i=n&&n.aliases,r,s,a,o;if(!i)return t;r=Hs({},t);for(s in i)if(s in r)for(o=i[s].split(","),a=o.length;a--;)r[o[a]]=r[s];return r},jC=function(e,t,n,i){var r=t.ease||i||"power1.inOut",s,a;if(on(t))a=n[e]||(n[e]=[]),t.forEach(function(o,l){return a.push({t:l/(t.length-1)*100,v:o,e:r})});else for(s in t)a=n[s]||(n[s]=[]),s==="ease"||a.push({t:parseFloat(e),v:t[s],e:r})},oo=function(e,t,n,i,r){return Wt(e)?e.call(t,n,i,r):Xt(e)&&~e.indexOf("random(")?yo(e):e},jv=Hd+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",$v={};En(jv+",id,stagger,delay,duration,paused,scrollTrigger",function(A){return $v[A]=1});var zt=function(A){vv(e,A);function e(n,i,r,s){var a;typeof i=="number"&&(r.duration=i,i=r,r=null),a=A.call(this,s?i:so(i))||this;var o=a.vars,l=o.duration,c=o.delay,u=o.immediateRender,h=o.stagger,f=o.overwrite,d=o.keyframes,p=o.defaults,v=o.scrollTrigger,g=o.yoyoEase,m=i.parent||wt,w=(on(n)||yv(n)?Ji(n[0]):"length"in i)?[n]:Yn(n),B,y,C,x,E,M,H,N;if(a._targets=w.length?Pd(w):Oc("GSAP target "+n+" not found. https://greensock.com",!Ln.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,d||h||vl(l)||vl(c)){if(i=a.vars,B=a.timeline=new xn({data:"nested",defaults:p||{}}),B.kill(),B.parent=B._dp=ki(a),B._start=0,h||vl(l)||vl(c)){if(x=w.length,H=h&&Ov(h),Zi(h))for(E in h)~jv.indexOf(E)&&(N||(N={}),N[E]=h[E]);for(y=0;y<x;y++)C=Gc(i,$v),C.stagger=0,g&&(C.yoyoEase=g),N&&Hs(C,N),M=w[y],C.duration=+oo(l,ki(a),y,M,w),C.delay=(+oo(c,ki(a),y,M,w)||0)-a._delay,!h&&x===1&&C.delay&&(a._delay=c=C.delay,a._start+=c,C.delay=0),B.to(M,C,H?H(y,M,w):0),B._ease=Ye.none;B.duration()?l=c=0:a.timeline=0}else if(d){so(jn(B.vars.defaults,{ease:"none"})),B._ease=xA(d.ease||i.ease||"none");var O=0,Q,F,G;if(on(d))d.forEach(function(I){return B.to(w,I,">")});else{C={};for(E in d)E==="ease"||E==="easeEach"||jC(E,d[E],C,d.easeEach);for(E in C)for(Q=C[E].sort(function(I,V){return I.t-V.t}),O=0,y=0;y<Q.length;y++)F=Q[y],G={ease:F.e,duration:(F.t-(y?Q[y-1].t:0))/100*l},G[E]=F.v,B.to(w,G,O),O+=G.duration;B.duration()<l&&B.to({},{duration:l-B.duration()})}}l||a.duration(l=B.duration())}else a.timeline=0;return f===!0&&!Dd&&(vr=ki(a),wt.killTweensOf(w),vr=0),Bi(m,ki(a),r),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(u||!l&&!d&&a._start===an(m._time)&&_n(u)&&MC(ki(a))&&m.data!=="nested")&&(a._tTime=-at,a.render(Math.max(0,-c))),v&&Qv(ki(a),v),a}var t=e.prototype;return t.render=function(i,r,s){var a=this._time,o=this._tDur,l=this._dur,c=i>o-at&&i>=0?o:i<at?0:i,u,h,f,d,p,v,g,m,w;if(!l)SC(this,i,r,s);else if(c!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=i<0){if(u=c,m=this.timeline,this._repeat){if(d=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(d*100+i,r,s);if(u=an(c%d),c===o?(f=this._repeat,u=l):(f=~~(c/d),f&&f===c/d&&(u=l,f--),u>l&&(u=l)),v=this._yoyo&&f&1,v&&(w=this._yEase,u=l-u),p=Ps(this._tTime,d),u===a&&!s&&this._initted)return this;f!==p&&(m&&this._yEase&&Yv(m,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=s=1,this.render(an(d*f),!0).invalidate()._lock=0))}if(!this._initted){if(Rv(this,i<0?i:u,s,r))return this._tTime=0,this;if(l!==this._dur)return this.render(i,r,s)}if(this._tTime=c,this._time=u,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=g=(w||this._ease)(u/l),this._from&&(this.ratio=g=1-g),u&&!a&&!r&&(Jn(this,"onStart"),this._tTime!==c))return this;for(h=this._pt;h;)h.r(g,h.d),h=h._next;m&&m.render(i<0?i:!u&&v?-at:m._dur*m._ease(u/this._dur),r,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!r&&(i<0&&this._startAt&&this._startAt.render(i,!0,s),Jn(this,"onUpdate")),this._repeat&&f!==p&&this.vars.onRepeat&&!r&&this.parent&&Jn(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(i<0&&this._startAt&&!this._onUpdate&&this._startAt.render(i,!0,!0),(i||!l)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&zi(this,1),!r&&!(i<0&&!a)&&(c||a)&&(Jn(this,c===o?"onComplete":"onReverseComplete",!0),this._prom&&!(c<o&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),A.prototype.invalidate.call(this)},t.kill=function(i,r){if(r===void 0&&(r="all"),!i&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Za(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,r,vr&&vr.vars.overwrite!==!0)._first||Za(this),this.parent&&s!==this.timeline.totalDuration()&&Os(this,this._dur*this.timeline._tDur/s,0,1),this}var a=this._targets,o=i?Yn(i):a,l=this._ptLookup,c=this._pt,u,h,f,d,p,v,g;if((!r||r==="all")&&_C(a,o))return r==="all"&&(this._pt=0),Za(this);for(u=this._op=this._op||[],r!=="all"&&(Xt(r)&&(p={},En(r,function(m){return p[m]=1}),r=p),r=qC(a,r)),g=a.length;g--;)if(~o.indexOf(a[g])){h=l[g],r==="all"?(u[g]=r,d=h,f={}):(f=u[g]=u[g]||{},d=r);for(p in d)v=h&&h[p],v&&((!("kill"in v.d)||v.d.kill(p)===!0)&&su(this,v,"_pt"),delete h[p]),f!=="all"&&(f[p]=1)}return this._initted&&!this._pt&&c&&Za(this),this},e.to=function(i,r){return new e(i,r,arguments[2])},e.from=function(i,r){return ao(1,arguments)},e.delayedCall=function(i,r,s,a){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:r,onReverseComplete:r,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},e.fromTo=function(i,r,s){return ao(2,arguments)},e.set=function(i,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(i,r)},e.killTweensOf=function(i,r,s){return wt.killTweensOf(i,r,s)},e}(xo);jn(zt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});En("staggerTo,staggerFrom,staggerFromTo",function(A){zt[A]=function(){var e=new xn,t=bf.call(arguments,0);return t.splice(A==="staggerFromTo"?5:4,0,0),e[A].apply(e,t)}});var Nd=function(e,t,n){return e[t]=n},ew=function(e,t,n){return e[t](n)},$C=function(e,t,n,i){return e[t](i.fp,n)},e_=function(e,t,n){return e.setAttribute(t,n)},Gd=function(e,t){return Wt(e[t])?ew:Id(e[t])&&e.setAttribute?e_:Nd},tw=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},t_=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nw=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},kd=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},n_=function(e,t,n,i){for(var r=this._pt,s;r;)s=r._next,r.p===i&&r.modifier(e,t,n),r=s},i_=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?su(this,t,"_pt"):t.dep||(n=1),t=i;return!n},r_=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},iw=function(e){for(var t=e._pt,n,i,r,s;t;){for(n=t._next,i=r;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:s)?t._prev._next=t:r=t,(t._next=i)?i._prev=t:s=t,t=n}e._pt=r},bn=function(){function A(t,n,i,r,s,a,o,l,c){this.t=n,this.s=r,this.c=s,this.p=i,this.r=a||tw,this.d=o||this,this.set=l||Nd,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=A.prototype;return e.modifier=function(n,i,r){this.mSet=this.mSet||this.set,this.set=r_,this.m=n,this.mt=r,this.tween=i},A}();En(Hd+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(A){return Rd[A]=1});Hn.TweenMax=Hn.TweenLite=zt;Hn.TimelineLite=Hn.TimelineMax=xn;wt=new xn({sortChildren:!1,defaults:Rs,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ln.stringFilter=Wv;var zc={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return GC(i)})},timeline:function(e){return new xn(e)},getTweensOf:function(e,t){return wt.getTweensOf(e,t)},getProperty:function(e,t,n,i){Xt(e)&&(e=Yn(e)[0]);var r=BA(e||{}).get,s=n?Dv:Uv;return n==="native"&&(n=""),e&&(t?s((In[t]&&In[t].get||r)(e,t,n,i)):function(a,o,l){return s((In[a]&&In[a].get||r)(e,a,o,l))})},quickSetter:function(e,t,n){if(e=Yn(e),e.length>1){var i=e.map(function(c){return _i.quickSetter(c,t,n)}),r=i.length;return function(c){for(var u=r;u--;)i[u](c)}}e=e[0]||{};var s=In[t],a=BA(e),o=a.harness&&(a.harness.aliases||{})[t]||t,l=s?function(c){var u=new s;Es._pt=0,u.init(e,n?c+n:c,Es,0,[e]),u.render(1,u),Es._pt&&kd(1,Es)}:a.set(e,o);return s?l:function(c){return l(e,o,n?c+n:c,a,1)}},isTweening:function(e){return wt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=xA(e.ease,Rs.ease)),wg(Rs,e||{})},config:function(e){return wg(Ln,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,r=e.defaults,s=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!In[a]&&!Hn[a]&&Oc(t+" effect requires "+a+" plugin.")}),nh[t]=function(a,o,l){return n(Yn(a),jn(o||{},r),l)},s&&(xn.prototype[t]=function(a,o,l){return this.add(nh[t](a,Zi(o)?o:(l=o)&&{},this),l)})},registerEase:function(e,t){Ye[e]=xA(t)},parseEase:function(e,t){return arguments.length?xA(e,t):Ye},getById:function(e){return wt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new xn(e),i,r;for(n.smoothChildTiming=_n(e.smoothChildTiming),wt.remove(n),n._dp=0,n._time=n._tTime=wt._time,i=wt._first;i;)r=i._next,(t||!(!i._dur&&i instanceof zt&&i.vars.onComplete===i._targets[0]))&&Bi(n,i,i._start-i._delay),i=r;return Bi(wt,n,0),n},utils:{wrap:PC,wrapYoyo:OC,distribute:Ov,random:Gv,snap:Nv,normalize:HC,getUnit:yn,clamp:DC,splitColor:zv,toArray:Yn,selector:LC,mapRange:Vv,pipe:QC,unitize:RC,interpolate:NC,shuffle:Pv},install:bv,effects:nh,ticker:Wn,updateRoot:xn.updateRoot,plugins:In,globalTimeline:wt,core:{PropTween:bn,globals:Mv,Tween:zt,Timeline:xn,Animation:xo,getCache:BA,_removeLinkedListItem:su,suppressOverwrites:function(e){return Dd=e}}};En("to,from,fromTo,delayedCall,set,killTweensOf",function(A){return zc[A]=zt[A]});Wn.add(xn.updateRoot);Es=zc.to({},{duration:0});var A_=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},s_=function(e,t){var n=e._targets,i,r,s;for(i in t)for(r=n.length;r--;)s=e._ptLookup[r][i],s&&(s=s.d)&&(s._pt&&(s=A_(s,i)),s&&s.modifier&&s.modifier(t[i],e,n[r],i))},sh=function(e,t){return{name:e,rawVars:1,init:function(i,r,s){s._onInit=function(a){var o,l;if(Xt(r)&&(o={},En(r,function(c){return o[c]=1}),r=o),t){o={};for(l in r)o[l]=t(r[l]);r=o}s_(a,r)}}}},_i=zc.registerPlugin({name:"attr",init:function(e,t,n,i,r){var s,a;for(s in t)a=this.add(e,"setAttribute",(e.getAttribute(s)||0)+"",t[s],i,r,0,0,s),a&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},sh("roundProps",Mf),sh("modifiers"),sh("snap",Nv))||zc;zt.version=xn.version=_i.version="3.9.1";Ev=1;Bv()&&Ns();Ye.Power0;Ye.Power1;Ye.Power2;Ye.Power3;Ye.Power4;Ye.Linear;Ye.Quad;Ye.Cubic;Ye.Quart;Ye.Quint;Ye.Strong;Ye.Elastic;Ye.Back;Ye.SteppedEase;Ye.Bounce;Ye.Sine;Ye.Expo;Ye.Circ;/*!
 * CSSPlugin 3.9.1
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _g,wr,Fs,Vd,gA,Eg,a_=function(){return typeof window!="undefined"},Rr={},sA=180/Math.PI,Us=Math.PI/180,YA=Math.atan2,bg=1e8,rw=/([A-Z])/g,o_=/(?:left|right|width|margin|padding|x)/i,l_=/[\s,\(]\S/,Br={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Aw=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},c_=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},u_=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},h_=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},sw=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},aw=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},f_=function(e,t,n){return e.style[t]=n},d_=function(e,t,n){return e.style.setProperty(t,n)},p_=function(e,t,n){return e._gsap[t]=n},g_=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},m_=function(e,t,n,i,r){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(r,s)},v_=function(e,t,n,i,r){var s=e._gsap;s[t]=n,s.renderTransform(r,s)},en="transform",Hr=en+"Origin",ow,Tf=function(e,t){var n=wr.createElementNS?wr.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):wr.createElement(e);return n.style?n:wr.createElement(e)},Ki=function A(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(rw,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&A(e,Gs(t)||t,1)||""},Mg="O,Moz,ms,Ms,Webkit".split(","),Gs=function(e,t,n){var i=t||gA,r=i.style,s=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(Mg[s]+e in r););return s<0?null:(s===3?"ms":s>=0?Mg[s]:"")+e},Sf=function(){a_()&&window.document&&(_g=window,wr=_g.document,Fs=wr.documentElement,gA=Tf("div")||{style:{}},Tf("div"),en=Gs(en),Hr=en+"Origin",gA.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ow=!!Gs("perspective"),Vd=1)},ah=function A(e){var t=Tf("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,r=this.style.cssText,s;if(Fs.appendChild(t),t.appendChild(this),this.style.display="block",e)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=A}catch{}else this._gsapBBox&&(s=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),Fs.removeChild(t),this.style.cssText=r,s},Tg=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},lw=function(e){var t;try{t=e.getBBox()}catch{t=ah.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===ah||(t=ah.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Tg(e,["x","cx","x1"])||0,y:+Tg(e,["y","cy","y1"])||0,width:0,height:0}:t},cw=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&lw(e))},Co=function(e,t){if(t){var n=e.style;t in Rr&&t!==Hr&&(t=en),n.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(t.replace(rw,"-$1").toLowerCase())):n.removeAttribute(t)}},yr=function(e,t,n,i,r,s){var a=new bn(e._pt,t,n,0,1,s?aw:sw);return e._pt=a,a.b=i,a.e=r,e._props.push(n),a},Sg={deg:1,rad:1,turn:1},Pr=function A(e,t,n,i){var r=parseFloat(n)||0,s=(n+"").trim().substr((r+"").length)||"px",a=gA.style,o=o_.test(t),l=e.tagName.toLowerCase()==="svg",c=(l?"client":"offset")+(o?"Width":"Height"),u=100,h=i==="px",f=i==="%",d,p,v,g;return i===s||!r||Sg[i]||Sg[s]?r:(s!=="px"&&!h&&(r=A(e,t,n,"px")),g=e.getCTM&&cw(e),(f||s==="%")&&(Rr[t]||~t.indexOf("adius"))?(d=g?e.getBBox()[o?"width":"height"]:e[c],Dt(f?r/d*u:r/100*d)):(a[o?"width":"height"]=u+(h?s:i),p=~t.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,g&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===wr||!p.appendChild)&&(p=wr.body),v=p._gsap,v&&f&&v.width&&o&&v.time===Wn.time?Dt(r/v.width*u):((f||s==="%")&&(a.position=Ki(e,"position")),p===e&&(a.position="static"),p.appendChild(gA),d=gA[c],p.removeChild(gA),a.position="absolute",o&&f&&(v=BA(p),v.time=Wn.time,v.width=p[c]),Dt(h?d*r/u:d&&r?u/d*r:0))))},aA=function(e,t,n,i){var r;return Vd||Sf(),t in Br&&t!=="transform"&&(t=Br[t],~t.indexOf(",")&&(t=t.split(",")[0])),Rr[t]&&t!=="transform"?(r=Eo(e,i),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:Wc(Ki(e,Hr))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||i||~(r+"").indexOf("calc("))&&(r=Kc[t]&&Kc[t](e,t,n)||Ki(e,t)||Sv(e,t)||(t==="opacity"?1:0))),n&&!~(r+"").trim().indexOf(" ")?Pr(e,t,r,n)+n:r},w_=function(e,t,n,i){if(!n||n==="none"){var r=Gs(t,e,1),s=r&&Ki(e,r,1);s&&s!==n?(t=r,n=s):t==="borderColor"&&(n=Ki(e,"borderTopColor"))}var a=new bn(this._pt,e.style,t,0,1,nw),o=0,l=0,c,u,h,f,d,p,v,g,m,w,B,y,C;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(e.style[t]=i,i=Ki(e,t)||i,e.style[t]=n),c=[n,i],Wv(c),n=c[0],i=c[1],h=n.match(_s)||[],C=i.match(_s)||[],C.length){for(;u=_s.exec(i);)v=u[0],m=i.substring(o,u.index),d?d=(d+1)%5:(m.substr(-5)==="rgba("||m.substr(-5)==="hsla(")&&(d=1),v!==(p=h[l++]||"")&&(f=parseFloat(p)||0,B=p.substr((f+"").length),y=v.charAt(1)==="="?+(v.charAt(0)+"1"):0,y&&(v=v.substr(2)),g=parseFloat(v),w=v.substr((g+"").length),o=_s.lastIndex-w.length,w||(w=w||Ln.units[t]||B,o===i.length&&(i+=w,a.e+=w)),B!==w&&(f=Pr(e,t,p,w)||0),a._pt={_next:a._pt,p:m||l===1?m:",",s:f,c:y?y*g:g-f,m:d&&d<4||t==="zIndex"?Math.round:0});a.c=o<i.length?i.substring(o,i.length):""}else a.r=t==="display"&&i==="none"?aw:sw;return Cv.test(i)&&(a.e=0),this._pt=a,a},Fg={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},B_=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=Fg[n]||n,t[1]=Fg[i]||i,t.join(" ")},y_=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,r=t.u,s=n._gsap,a,o,l;if(r==="all"||r===!0)i.cssText="",o=1;else for(r=r.split(","),l=r.length;--l>-1;)a=r[l],Rr[a]&&(o=1,a=a==="transformOrigin"?Hr:en),Co(n,a);o&&(Co(n,en),s&&(s.svg&&n.removeAttribute("transform"),Eo(n,1),s.uncache=1))}},Kc={clearProps:function(e,t,n,i,r){if(r.data!=="isFromStart"){var s=e._pt=new bn(e._pt,t,n,0,0,y_);return s.u=i,s.pr=-10,s.tween=r,e._props.push(n),1}}},_o=[1,0,0,1,0,0],uw={},hw=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Ug=function(e){var t=Ki(e,en);return hw(t)?_o:t.substr(7).match(xv).map(Dt)},zd=function(e,t){var n=e._gsap||BA(e),i=e.style,r=Ug(e),s,a,o,l;return n.svg&&e.getAttribute("transform")?(o=e.transform.baseVal.consolidate().matrix,r=[o.a,o.b,o.c,o.d,o.e,o.f],r.join(",")==="1,0,0,1,0,0"?_o:r):(r===_o&&!e.offsetParent&&e!==Fs&&!n.svg&&(o=i.display,i.display="block",s=e.parentNode,(!s||!e.offsetParent)&&(l=1,a=e.nextSibling,Fs.appendChild(e)),r=Ug(e),o?i.display=o:Co(e,"display"),l&&(a?s.insertBefore(e,a):s?s.appendChild(e):Fs.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Ff=function(e,t,n,i,r,s){var a=e._gsap,o=r||zd(e,!0),l=a.xOrigin||0,c=a.yOrigin||0,u=a.xOffset||0,h=a.yOffset||0,f=o[0],d=o[1],p=o[2],v=o[3],g=o[4],m=o[5],w=t.split(" "),B=parseFloat(w[0])||0,y=parseFloat(w[1])||0,C,x,E,M;n?o!==_o&&(x=f*v-d*p)&&(E=B*(v/x)+y*(-p/x)+(p*m-v*g)/x,M=B*(-d/x)+y*(f/x)-(f*m-d*g)/x,B=E,y=M):(C=lw(e),B=C.x+(~w[0].indexOf("%")?B/100*C.width:B),y=C.y+(~(w[1]||w[0]).indexOf("%")?y/100*C.height:y)),i||i!==!1&&a.smooth?(g=B-l,m=y-c,a.xOffset=u+(g*f+m*p)-g,a.yOffset=h+(g*d+m*v)-m):a.xOffset=a.yOffset=0,a.xOrigin=B,a.yOrigin=y,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!n,e.style[Hr]="0px 0px",s&&(yr(s,a,"xOrigin",l,B),yr(s,a,"yOrigin",c,y),yr(s,a,"xOffset",u,a.xOffset),yr(s,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",B+" "+y)},Eo=function(e,t){var n=e._gsap||new Zv(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,r=n.scaleX<0,s="px",a="deg",o=Ki(e,Hr)||"0",l,c,u,h,f,d,p,v,g,m,w,B,y,C,x,E,M,H,N,O,Q,F,G,I,V,te,ie,ae,ee,fe,ne,me;return l=c=u=d=p=v=g=m=w=0,h=f=1,n.svg=!!(e.getCTM&&cw(e)),C=zd(e,n.svg),n.svg&&(I=(!n.uncache||o==="0px 0px")&&!t&&e.getAttribute("data-svg-origin"),Ff(e,I||o,!!I||n.originIsAbsolute,n.smooth!==!1,C)),B=n.xOrigin||0,y=n.yOrigin||0,C!==_o&&(H=C[0],N=C[1],O=C[2],Q=C[3],l=F=C[4],c=G=C[5],C.length===6?(h=Math.sqrt(H*H+N*N),f=Math.sqrt(Q*Q+O*O),d=H||N?YA(N,H)*sA:0,g=O||Q?YA(O,Q)*sA+d:0,g&&(f*=Math.abs(Math.cos(g*Us))),n.svg&&(l-=B-(B*H+y*O),c-=y-(B*N+y*Q))):(me=C[6],fe=C[7],ie=C[8],ae=C[9],ee=C[10],ne=C[11],l=C[12],c=C[13],u=C[14],x=YA(me,ee),p=x*sA,x&&(E=Math.cos(-x),M=Math.sin(-x),I=F*E+ie*M,V=G*E+ae*M,te=me*E+ee*M,ie=F*-M+ie*E,ae=G*-M+ae*E,ee=me*-M+ee*E,ne=fe*-M+ne*E,F=I,G=V,me=te),x=YA(-O,ee),v=x*sA,x&&(E=Math.cos(-x),M=Math.sin(-x),I=H*E-ie*M,V=N*E-ae*M,te=O*E-ee*M,ne=Q*M+ne*E,H=I,N=V,O=te),x=YA(N,H),d=x*sA,x&&(E=Math.cos(x),M=Math.sin(x),I=H*E+N*M,V=F*E+G*M,N=N*E-H*M,G=G*E-F*M,H=I,F=V),p&&Math.abs(p)+Math.abs(d)>359.9&&(p=d=0,v=180-v),h=Dt(Math.sqrt(H*H+N*N+O*O)),f=Dt(Math.sqrt(G*G+me*me)),x=YA(F,G),g=Math.abs(x)>2e-4?x*sA:0,w=ne?1/(ne<0?-ne:ne):0),n.svg&&(I=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!hw(Ki(e,en)),I&&e.setAttribute("transform",I))),Math.abs(g)>90&&Math.abs(g)<270&&(r?(h*=-1,g+=d<=0?180:-180,d+=d<=0?180:-180):(f*=-1,g+=g<=0?180:-180)),n.x=l-((n.xPercent=l&&(n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-l)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+s,n.y=c-((n.yPercent=c&&(n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-c)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+s,n.z=u+s,n.scaleX=Dt(h),n.scaleY=Dt(f),n.rotation=Dt(d)+a,n.rotationX=Dt(p)+a,n.rotationY=Dt(v)+a,n.skewX=g+a,n.skewY=m+a,n.transformPerspective=w+s,(n.zOrigin=parseFloat(o.split(" ")[2])||0)&&(i[Hr]=Wc(o)),n.xOffset=n.yOffset=0,n.force3D=Ln.force3D,n.renderTransform=n.svg?C_:ow?fw:x_,n.uncache=0,n},Wc=function(e){return(e=e.split(" "))[0]+" "+e[1]},oh=function(e,t,n){var i=yn(t);return Dt(parseFloat(t)+parseFloat(Pr(e,"x",n+"px",i)))+i},x_=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,fw(e,t)},Zr="0deg",Da="0px",qr=") ",fw=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,s=n.x,a=n.y,o=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,f=n.skewY,d=n.scaleX,p=n.scaleY,v=n.transformPerspective,g=n.force3D,m=n.target,w=n.zOrigin,B="",y=g==="auto"&&e&&e!==1||g===!0;if(w&&(u!==Zr||c!==Zr)){var C=parseFloat(c)*Us,x=Math.sin(C),E=Math.cos(C),M;C=parseFloat(u)*Us,M=Math.cos(C),s=oh(m,s,x*M*-w),a=oh(m,a,-Math.sin(C)*-w),o=oh(m,o,E*M*-w+w)}v!==Da&&(B+="perspective("+v+qr),(i||r)&&(B+="translate("+i+"%, "+r+"%) "),(y||s!==Da||a!==Da||o!==Da)&&(B+=o!==Da||y?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+qr),l!==Zr&&(B+="rotate("+l+qr),c!==Zr&&(B+="rotateY("+c+qr),u!==Zr&&(B+="rotateX("+u+qr),(h!==Zr||f!==Zr)&&(B+="skew("+h+", "+f+qr),(d!==1||p!==1)&&(B+="scale("+d+", "+p+qr),m.style[en]=B||"translate(0, 0)"},C_=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,s=n.x,a=n.y,o=n.rotation,l=n.skewX,c=n.skewY,u=n.scaleX,h=n.scaleY,f=n.target,d=n.xOrigin,p=n.yOrigin,v=n.xOffset,g=n.yOffset,m=n.forceCSS,w=parseFloat(s),B=parseFloat(a),y,C,x,E,M;o=parseFloat(o),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,o+=c),o||l?(o*=Us,l*=Us,y=Math.cos(o)*u,C=Math.sin(o)*u,x=Math.sin(o-l)*-h,E=Math.cos(o-l)*h,l&&(c*=Us,M=Math.tan(l-c),M=Math.sqrt(1+M*M),x*=M,E*=M,c&&(M=Math.tan(c),M=Math.sqrt(1+M*M),y*=M,C*=M)),y=Dt(y),C=Dt(C),x=Dt(x),E=Dt(E)):(y=u,E=h,C=x=0),(w&&!~(s+"").indexOf("px")||B&&!~(a+"").indexOf("px"))&&(w=Pr(f,"x",s,"px"),B=Pr(f,"y",a,"px")),(d||p||v||g)&&(w=Dt(w+d-(d*y+p*x)+v),B=Dt(B+p-(d*C+p*E)+g)),(i||r)&&(M=f.getBBox(),w=Dt(w+i/100*M.width),B=Dt(B+r/100*M.height)),M="matrix("+y+","+C+","+x+","+E+","+w+","+B+")",f.setAttribute("transform",M),m&&(f.style[en]=M)},__=function(e,t,n,i,r,s){var a=360,o=Xt(r),l=parseFloat(r)*(o&&~r.indexOf("rad")?sA:1),c=s?l*s:l-i,u=i+c+"deg",h,f;return o&&(h=r.split("_")[1],h==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),h==="cw"&&c<0?c=(c+a*bg)%a-~~(c/a)*a:h==="ccw"&&c>0&&(c=(c-a*bg)%a-~~(c/a)*a)),e._pt=f=new bn(e._pt,t,n,i,c,c_),f.e=u,f.u="deg",e._props.push(n),f},Dg=function(e,t){for(var n in t)e[n]=t[n];return e},E_=function(e,t,n){var i=Dg({},n._gsap),r="perspective,force3D,transformOrigin,svgOrigin",s=n.style,a,o,l,c,u,h,f,d;i.svg?(l=n.getAttribute("transform"),n.setAttribute("transform",""),s[en]=t,a=Eo(n,1),Co(n,en),n.setAttribute("transform",l)):(l=getComputedStyle(n)[en],s[en]=t,a=Eo(n,1),s[en]=l);for(o in Rr)l=i[o],c=a[o],l!==c&&r.indexOf(o)<0&&(f=yn(l),d=yn(c),u=f!==d?Pr(n,o,l,d):parseFloat(l),h=parseFloat(c),e._pt=new bn(e._pt,a,o,u,h-u,Aw),e._pt.u=d||0,e._props.push(o));Dg(a,i)};En("padding,margin,Width,Radius",function(A,e){var t="Top",n="Right",i="Bottom",r="Left",s=(e<3?[t,n,i,r]:[t+r,t+n,i+n,i+r]).map(function(a){return e<2?A+a:"border"+a+A});Kc[e>1?"border"+A:A]=function(a,o,l,c,u){var h,f;if(arguments.length<4)return h=s.map(function(d){return aA(a,d,l)}),f=h.join(" "),f.split(h[0]).length===5?h[0]:f;h=(c+"").split(" "),f={},s.forEach(function(d,p){return f[d]=h[p]=h[p]||h[(p-1)/2|0]}),a.init(o,f,u)}});var dw={name:"css",register:Sf,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,r){var s=this._props,a=e.style,o=n.vars.startAt,l,c,u,h,f,d,p,v,g,m,w,B,y,C,x;Vd||Sf();for(p in t)if(p!=="autoRound"&&(c=t[p],!(In[p]&&qv(p,t,n,i,e,r)))){if(f=typeof c,d=Kc[p],f==="function"&&(c=c.call(n,i,e,r),f=typeof c),f==="string"&&~c.indexOf("random(")&&(c=yo(c)),d)d(this,e,p,c,n)&&(x=1);else if(p.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(p)+"").trim(),c+="",br.lastIndex=0,br.test(l)||(v=yn(l),g=yn(c)),g?v!==g&&(l=Pr(e,p,l,g)+g):v&&(c+=v),this.add(a,"setProperty",l,c,i,r,0,0,p),s.push(p);else if(f!=="undefined"){if(o&&p in o?(l=typeof o[p]=="function"?o[p].call(n,i,e,r):o[p],Xt(l)&&~l.indexOf("random(")&&(l=yo(l)),yn(l+"")||(l+=Ln.units[p]||yn(aA(e,p))||""),(l+"").charAt(1)==="="&&(l=aA(e,p))):l=aA(e,p),h=parseFloat(l),m=f==="string"&&c.charAt(1)==="="?+(c.charAt(0)+"1"):0,m&&(c=c.substr(2)),u=parseFloat(c),p in Br&&(p==="autoAlpha"&&(h===1&&aA(e,"visibility")==="hidden"&&u&&(h=0),yr(this,a,"visibility",h?"inherit":"hidden",u?"inherit":"hidden",!u)),p!=="scale"&&p!=="transform"&&(p=Br[p],~p.indexOf(",")&&(p=p.split(",")[0]))),w=p in Rr,w){if(B||(y=e._gsap,y.renderTransform&&!t.parseTransform||Eo(e,t.parseTransform),C=t.smoothOrigin!==!1&&y.smooth,B=this._pt=new bn(this._pt,a,en,0,1,y.renderTransform,y,0,-1),B.dep=1),p==="scale")this._pt=new bn(this._pt,y,"scaleY",y.scaleY,(m?m*u:u-y.scaleY)||0),s.push("scaleY",p),p+="X";else if(p==="transformOrigin"){c=B_(c),y.svg?Ff(e,c,0,C,0,this):(g=parseFloat(c.split(" ")[2])||0,g!==y.zOrigin&&yr(this,y,"zOrigin",y.zOrigin,g),yr(this,a,p,Wc(l),Wc(c)));continue}else if(p==="svgOrigin"){Ff(e,c,1,C,0,this);continue}else if(p in uw){__(this,y,p,h,c,m);continue}else if(p==="smoothOrigin"){yr(this,y,"smooth",y.smooth,c);continue}else if(p==="force3D"){y[p]=c;continue}else if(p==="transform"){E_(this,c,e);continue}}else p in a||(p=Gs(p)||p);if(w||(u||u===0)&&(h||h===0)&&!l_.test(c)&&p in a)v=(l+"").substr((h+"").length),u||(u=0),g=yn(c)||(p in Ln.units?Ln.units[p]:v),v!==g&&(h=Pr(e,p,l,g)),this._pt=new bn(this._pt,w?y:a,p,h,m?m*u:u-h,!w&&(g==="px"||p==="zIndex")&&t.autoRound!==!1?h_:Aw),this._pt.u=g||0,v!==g&&g!=="%"&&(this._pt.b=l,this._pt.r=u_);else if(p in a)w_.call(this,e,p,l,c);else if(p in e)this.add(e,p,l||e[p],c,i,r);else{Qd(p,c);continue}s.push(p)}}x&&iw(this)},get:aA,aliases:Br,getSetter:function(e,t,n){var i=Br[t];return i&&i.indexOf(",")<0&&(t=i),t in Rr&&t!==Hr&&(e._gsap.x||aA(e,"x"))?n&&Eg===n?t==="scale"?g_:p_:(Eg=n||{})&&(t==="scale"?m_:v_):e.style&&!Id(e.style[t])?f_:~t.indexOf("-")?d_:Gd(e,t)},core:{_removeProperty:Co,_getMatrix:zd}};_i.utils.checkPrefix=Gs;(function(A,e,t,n){var i=En(A+","+e+","+t,function(r){Rr[r]=1});En(e,function(r){Ln.units[r]="deg",uw[r]=1}),Br[i[13]]=A+","+e,En(n,function(r){var s=r.split(":");Br[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");En("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(A){Ln.units[A]="px"});_i.registerPlugin(dw);var b_=_i.registerPlugin(dw)||_i;b_.core.Tween;/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Vo="131",oA={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},lA={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},pw=0,Uf=1,gw=2,M_=3,T_=0,Kd=1,mw=2,bs=3,Ei=0,ct=1,Cn=2,Wd=1,S_=2,Qn=0,Ds=1,Df=2,If=3,Lf=4,vw=5,fA=100,ww=101,Bw=102,Qf=103,Rf=104,yw=200,xw=201,Cw=202,_w=203,Xd=204,Yd=205,Ew=206,bw=207,Mw=208,Tw=209,Sw=210,Fw=0,Uw=1,Dw=2,Xc=3,Iw=4,Lw=5,Qw=6,Rw=7,zo=0,Hw=1,Pw=2,Mr=0,Ow=1,Nw=2,Gw=3,kw=4,Vw=5,ou=300,la=301,ca=302,bo=303,Mo=304,ua=306,Ko=307,Or=1e3,Kt=1001,ks=1002,Bt=1003,To=1004,F_=1004,So=1005,U_=1005,tt=1006,lu=1007,D_=1007,er=1008,I_=1008,bi=1009,zw=1010,Kw=1011,Fo=1012,Ww=1013,Is=1014,Vi=1015,CA=1016,Xw=1017,Yw=1018,Jw=1019,_A=1020,Zw=1021,Wi=1022,Mn=1023,qw=1024,jw=1025,$w=Mn,EA=1026,SA=1027,eB=1028,tB=1029,nB=1030,iB=1031,rB=1032,AB=1033,Hf=33776,Pf=33777,Of=33778,Nf=33779,Gf=35840,kf=35841,Vf=35842,zf=35843,sB=36196,Kf=37492,Wf=37496,aB=37808,oB=37809,lB=37810,cB=37811,uB=37812,hB=37813,fB=37814,dB=37815,pB=37816,gB=37817,mB=37818,vB=37819,wB=37820,BB=37821,yB=36492,xB=37840,CB=37841,_B=37842,EB=37843,bB=37844,MB=37845,TB=37846,SB=37847,FB=37848,UB=37849,DB=37850,IB=37851,LB=37852,QB=37853,RB=2200,HB=2201,PB=2202,Vs=2300,FA=2301,Uc=2302,mA=2400,vA=2401,Uo=2402,cu=2500,Jd=2501,OB=0,NB=1,Zd=2,dn=3e3,Nr=3001,uu=3007,hu=3002,GB=3003,qd=3004,jd=3005,$d=3006,RA=3200,ep=3201,Kr=0,kB=1,L_=0,Dc=7680,Q_=7681,R_=7682,H_=7683,P_=34055,O_=34056,N_=5386,G_=512,k_=513,V_=514,z_=515,K_=516,W_=517,X_=518,VB=519,zs=35044,Ks=35048,Y_=35040,J_=35045,Z_=35049,q_=35041,j_=35046,$_=35050,eE=35042,tE="100",Xf="300 es";class fi{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,s=i.length;r<s;r++)i[r].call(this,e);e.target=null}}}const Zt=[];for(let A=0;A<256;A++)Zt[A]=(A<16?"0":"")+A.toString(16);let wl=1234567;const bA=Math.PI/180,Do=180/Math.PI;function Rn(){const A=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Zt[A&255]+Zt[A>>8&255]+Zt[A>>16&255]+Zt[A>>24&255]+"-"+Zt[e&255]+Zt[e>>8&255]+"-"+Zt[e>>16&15|64]+Zt[e>>24&255]+"-"+Zt[t&63|128]+Zt[t>>8&255]+"-"+Zt[t>>16&255]+Zt[t>>24&255]+Zt[n&255]+Zt[n>>8&255]+Zt[n>>16&255]+Zt[n>>24&255]).toUpperCase()}function $t(A,e,t){return Math.max(e,Math.min(t,A))}function tp(A,e){return(A%e+e)%e}function nE(A,e,t,n,i){return n+(A-e)*(i-n)/(t-e)}function iE(A,e,t){return A!==e?(t-A)/(e-A):0}function lo(A,e,t){return(1-t)*A+t*e}function rE(A,e,t,n){return lo(A,e,1-Math.exp(-t*n))}function AE(A,e=1){return e-Math.abs(tp(A,e*2)-e)}function sE(A,e,t){return A<=e?0:A>=t?1:(A=(A-e)/(t-e),A*A*(3-2*A))}function aE(A,e,t){return A<=e?0:A>=t?1:(A=(A-e)/(t-e),A*A*A*(A*(A*6-15)+10))}function oE(A,e){return A+Math.floor(Math.random()*(e-A+1))}function lE(A,e){return A+Math.random()*(e-A)}function cE(A){return A*(.5-Math.random())}function uE(A){return A!==void 0&&(wl=A%2147483647),wl=wl*16807%2147483647,(wl-1)/2147483646}function hE(A){return A*bA}function fE(A){return A*Do}function Yf(A){return(A&A-1)===0&&A!==0}function zB(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))}function KB(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))}function dE(A,e,t,n,i){const r=Math.cos,s=Math.sin,a=r(t/2),o=s(t/2),l=r((e+n)/2),c=s((e+n)/2),u=r((e-n)/2),h=s((e-n)/2),f=r((n-e)/2),d=s((n-e)/2);switch(i){case"XYX":A.set(a*c,o*u,o*h,a*l);break;case"YZY":A.set(o*h,a*c,o*u,a*l);break;case"ZXZ":A.set(o*u,o*h,a*c,a*l);break;case"XZX":A.set(a*c,o*d,o*f,a*l);break;case"YXY":A.set(o*f,a*c,o*d,a*l);break;case"ZYZ":A.set(o*d,o*f,a*c,a*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var Jf=Object.freeze({__proto__:null,DEG2RAD:bA,RAD2DEG:Do,generateUUID:Rn,clamp:$t,euclideanModulo:tp,mapLinear:nE,inverseLerp:iE,lerp:lo,damp:rE,pingpong:AE,smoothstep:sE,smootherstep:aE,randInt:oE,randFloat:lE,randFloatSpread:cE,seededRandom:uE,degToRad:hE,radToDeg:fE,isPowerOfTwo:Yf,ceilPowerOfTwo:zB,floorPowerOfTwo:KB,setQuaternionFromProperEuler:dE});class ce{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}ce.prototype.isVector2=!0;class Qt{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,s,a,o,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=r,c[5]=o,c[6]=n,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[3],o=n[6],l=n[1],c=n[4],u=n[7],h=n[2],f=n[5],d=n[8],p=i[0],v=i[3],g=i[6],m=i[1],w=i[4],B=i[7],y=i[2],C=i[5],x=i[8];return r[0]=s*p+a*m+o*y,r[3]=s*v+a*w+o*C,r[6]=s*g+a*B+o*x,r[1]=l*p+c*m+u*y,r[4]=l*v+c*w+u*C,r[7]=l*g+c*B+u*x,r[2]=h*p+f*m+d*y,r[5]=h*v+f*w+d*C,r[8]=h*g+f*B+d*x,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*s*c-t*a*l-n*r*c+n*a*o+i*r*l-i*s*o}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=c*s-a*l,h=a*o-c*r,f=l*r-s*o,d=t*u+n*h+i*f;if(d===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return e[0]=u*p,e[1]=(i*l-c*n)*p,e[2]=(a*n-i*s)*p,e[3]=h*p,e[4]=(c*t-i*o)*p,e[5]=(i*r-a*t)*p,e[6]=f*p,e[7]=(n*o-l*t)*p,e[8]=(s*t-n*r)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,s,a){const o=Math.cos(r),l=Math.sin(r);return this.set(n*o,n*l,-n*(o*s+l*a)+s+e,-i*l,i*o,-i*(-l*s+o*a)+a+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],a=i[6],o=i[1],l=i[4],c=i[7];return i[0]=t*r+n*o,i[3]=t*s+n*l,i[6]=t*a+n*c,i[1]=-n*r+t*o,i[4]=-n*s+t*l,i[7]=-n*a+t*c,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Qt.prototype.isMatrix3=!0;let JA;class HA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{JA===void 0&&(JA=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),JA.width=e.width,JA.height=e.height;const n=JA.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=JA}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let pE=0;class Et extends fi{constructor(e=Et.DEFAULT_IMAGE,t=Et.DEFAULT_MAPPING,n=Kt,i=Kt,r=tt,s=er,a=Mn,o=bi,l=1,c=dn){super();Object.defineProperty(this,"id",{value:pE++}),this.uuid=Rn(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new ce(0,0),this.repeat=new ce(1,1),this.center=new ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=Rn()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?r.push(lh(i[s].image)):r.push(lh(i[s]))}else r=lh(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ou)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Or:e.x=e.x-Math.floor(e.x);break;case Kt:e.x=e.x<0?0:1;break;case ks:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Or:e.y=e.y-Math.floor(e.y);break;case Kt:e.y=e.y<0?0:1;break;case ks:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}Et.DEFAULT_IMAGE=void 0;Et.DEFAULT_MAPPING=ou;Et.prototype.isTexture=!0;function lh(A){return typeof HTMLImageElement!="undefined"&&A instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&A instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&A instanceof ImageBitmap?HA.getDataURL(A):A.data?{data:Array.prototype.slice.call(A.data),width:A.width,height:A.height,type:A.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class $e{constructor(e=0,t=0,n=0,i=1){this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const o=e.elements,l=o[0],c=o[4],u=o[8],h=o[1],f=o[5],d=o[9],p=o[2],v=o[6],g=o[10];if(Math.abs(c-h)<.01&&Math.abs(u-p)<.01&&Math.abs(d-v)<.01){if(Math.abs(c+h)<.1&&Math.abs(u+p)<.1&&Math.abs(d+v)<.1&&Math.abs(l+f+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(l+1)/2,B=(f+1)/2,y=(g+1)/2,C=(c+h)/4,x=(u+p)/4,E=(d+v)/4;return w>B&&w>y?w<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(w),i=C/n,r=x/n):B>y?B<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(B),n=C/i,r=E/i):y<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(y),n=x/r,i=E/r),this.set(n,i,r,t),this}let m=Math.sqrt((v-d)*(v-d)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(m)<.001&&(m=1),this.x=(v-d)/m,this.y=(u-p)/m,this.z=(h-c)/m,this.w=Math.acos((l+f+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}$e.prototype.isVector4=!0;class fn extends fi{constructor(e,t,n={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new $e(0,0,e,t),this.scissorTest=!1,this.viewport=new $e(0,0,e,t),this.texture=new Et(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:tt,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=mg({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}fn.prototype.isWebGLRenderTarget=!0;class WB extends fn{constructor(e,t,n){super(e,t);const i=this.texture;this.texture=[];for(let r=0;r<n;r++)this.texture[r]=i.clone()}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}WB.prototype.isWebGLMultipleRenderTargets=!0;class fu extends fn{constructor(e,t,n){super(e,t,n);this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}fu.prototype.isWebGLMultisampleRenderTarget=!0;class Ot{constructor(e=0,t=0,n=0,i=1){this._x=e,this._y=t,this._z=n,this._w=i}static slerp(e,t,n,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,i)}static slerpFlat(e,t,n,i,r,s,a){let o=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const h=r[s+0],f=r[s+1],d=r[s+2],p=r[s+3];if(a===0){e[t+0]=o,e[t+1]=l,e[t+2]=c,e[t+3]=u;return}if(a===1){e[t+0]=h,e[t+1]=f,e[t+2]=d,e[t+3]=p;return}if(u!==p||o!==h||l!==f||c!==d){let v=1-a;const g=o*h+l*f+c*d+u*p,m=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const y=Math.sqrt(w),C=Math.atan2(y,g*m);v=Math.sin(v*C)/y,a=Math.sin(a*C)/y}const B=a*m;if(o=o*v+h*B,l=l*v+f*B,c=c*v+d*B,u=u*v+p*B,v===1-a){const y=1/Math.sqrt(o*o+l*l+c*c+u*u);o*=y,l*=y,c*=y,u*=y}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,s){const a=n[i],o=n[i+1],l=n[i+2],c=n[i+3],u=r[s],h=r[s+1],f=r[s+2],d=r[s+3];return e[t]=a*d+c*u+o*f-l*h,e[t+1]=o*d+c*h+l*u-a*f,e[t+2]=l*d+c*f+a*h-o*u,e[t+3]=c*d-a*u-o*h-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,r=e._z,s=e._order,a=Math.cos,o=Math.sin,l=a(n/2),c=a(i/2),u=a(r/2),h=o(n/2),f=o(i/2),d=o(r/2);switch(s){case"XYZ":this._x=h*c*u+l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u-h*f*d;break;case"YXZ":this._x=h*c*u+l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u+h*f*d;break;case"ZXY":this._x=h*c*u-l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u-h*f*d;break;case"ZYX":this._x=h*c*u-l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u+h*f*d;break;case"YZX":this._x=h*c*u+l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u-h*f*d;break;case"XZY":this._x=h*c*u-l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],s=t[1],a=t[5],o=t[9],l=t[2],c=t[6],u=t[10],h=n+a+u;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(c-o)*f,this._y=(r-l)*f,this._z=(s-i)*f}else if(n>a&&n>u){const f=2*Math.sqrt(1+n-a-u);this._w=(c-o)/f,this._x=.25*f,this._y=(i+s)/f,this._z=(r+l)/f}else if(a>u){const f=2*Math.sqrt(1+a-n-u);this._w=(r-l)/f,this._x=(i+s)/f,this._y=.25*f,this._z=(o+c)/f}else{const f=2*Math.sqrt(1+u-n-a);this._w=(s-i)/f,this._x=(r+l)/f,this._y=(o+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($t(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,s=e._w,a=t._x,o=t._y,l=t._z,c=t._w;return this._x=n*c+s*a+i*l-r*o,this._y=i*c+s*o+r*a-n*l,this._z=r*c+s*l+n*o-i*a,this._w=s*c-n*a-i*o-r*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,r=this._z,s=this._w;let a=s*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const f=1-t;return this._w=f*s+t*this._w,this._x=f*n+t*this._x,this._y=f*i+t*this._y,this._z=f*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(o),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=s*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ot.prototype.isQuaternion=!0;class D{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ig.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ig.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,a=e.z,o=e.w,l=o*t+s*i-a*n,c=o*n+a*t-r*i,u=o*i+r*n-s*t,h=-r*t-s*n-a*i;return this.x=l*o+h*-r+c*-a-u*-s,this.y=c*o+h*-s+u*-r-l*-a,this.z=u*o+h*-a+l*-s-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,s=t.x,a=t.y,o=t.z;return this.x=i*o-r*a,this.y=r*s-n*o,this.z=n*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ch.copy(this).projectOnVector(e),this.sub(ch)}reflect(e){return this.sub(ch.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($t(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}D.prototype.isVector3=!0;const ch=new D,Ig=new Ot;class vn{constructor(e=new D(1/0,1/0,1/0),t=new D(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,l=e.length;o<l;o+=3){const c=e[o],u=e[o+1],h=e[o+2];c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>a&&(a=h)}return this.min.set(t,n,i),this.max.set(r,s,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,l=e.count;o<l;o++){const c=e.getX(o),u=e.getY(o),h=e.getZ(o);c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>a&&(a=h)}return this.min.set(t,n,i),this.max.set(r,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ia.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),uh.copy(t.boundingBox),uh.applyMatrix4(e.matrixWorld),this.union(uh));const n=e.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ia),Ia.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(La),Bl.subVectors(this.max,La),ZA.subVectors(e.a,La),qA.subVectors(e.b,La),jA.subVectors(e.c,La),Ar.subVectors(qA,ZA),sr.subVectors(jA,qA),jr.subVectors(ZA,jA);let t=[0,-Ar.z,Ar.y,0,-sr.z,sr.y,0,-jr.z,jr.y,Ar.z,0,-Ar.x,sr.z,0,-sr.x,jr.z,0,-jr.x,-Ar.y,Ar.x,0,-sr.y,sr.x,0,-jr.y,jr.x,0];return!hh(t,ZA,qA,jA,Bl)||(t=[1,0,0,0,1,0,0,0,1],!hh(t,ZA,qA,jA,Bl))?!1:(yl.crossVectors(Ar,sr),t=[yl.x,yl.y,yl.z],hh(t,ZA,qA,jA,Bl))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ia.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ia).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Li[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Li[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Li[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Li[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Li[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Li[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Li[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Li[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Li),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}vn.prototype.isBox3=!0;const Li=[new D,new D,new D,new D,new D,new D,new D,new D],Ia=new D,uh=new vn,ZA=new D,qA=new D,jA=new D,Ar=new D,sr=new D,jr=new D,La=new D,Bl=new D,yl=new D,$r=new D;function hh(A,e,t,n,i){for(let r=0,s=A.length-3;r<=s;r+=3){$r.fromArray(A,r);const a=i.x*Math.abs($r.x)+i.y*Math.abs($r.y)+i.z*Math.abs($r.z),o=e.dot($r),l=t.dot($r),c=n.dot($r);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>a)return!1}return!0}const gE=new vn,Lg=new D,fh=new D,dh=new D;class Ui{constructor(e=new D,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):gE.setFromPoints(e).getCenter(n);let i=0;for(let r=0,s=e.length;r<s;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){dh.subVectors(e,this.center);const t=dh.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.add(dh.multiplyScalar(i/n)),this.radius+=i}return this}union(e){return fh.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Lg.copy(e.center).add(fh)),this.expandByPoint(Lg.copy(e.center).sub(fh)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Qi=new D,ph=new D,xl=new D,ar=new D,gh=new D,Cl=new D,mh=new D;class Wr{constructor(e=new D,t=new D(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qi)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Qi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Qi.copy(this.direction).multiplyScalar(t).add(this.origin),Qi.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){ph.copy(e).add(t).multiplyScalar(.5),xl.copy(t).sub(e).normalize(),ar.copy(this.origin).sub(ph);const r=e.distanceTo(t)*.5,s=-this.direction.dot(xl),a=ar.dot(this.direction),o=-ar.dot(xl),l=ar.lengthSq(),c=Math.abs(1-s*s);let u,h,f,d;if(c>0)if(u=s*o-a,h=s*a-o,d=r*c,u>=0)if(h>=-d)if(h<=d){const p=1/c;u*=p,h*=p,f=u*(u+s*h+2*a)+h*(s*u+h+2*o)+l}else h=r,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*o)+l;else h=-r,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*o)+l;else h<=-d?(u=Math.max(0,-(-s*r+a)),h=u>0?-r:Math.min(Math.max(-r,-o),r),f=-u*u+h*(h+2*o)+l):h<=d?(u=0,h=Math.min(Math.max(-r,-o),r),f=h*(h+2*o)+l):(u=Math.max(0,-(s*r+a)),h=u>0?r:Math.min(Math.max(-r,-o),r),f=-u*u+h*(h+2*o)+l);else h=s>0?-r:r,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*o)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(xl).multiplyScalar(h).add(ph),f}intersectSphere(e,t){Qi.subVectors(e.center,this.origin);const n=Qi.dot(this.direction),i=Qi.dot(Qi)-n*n,r=e.radius*e.radius;if(i>r)return null;const s=Math.sqrt(r-i),a=n-s,o=n+s;return a<0&&o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,s,a,o;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),n>s||r>i||((r>n||n!==n)&&(n=r),(s<i||i!==i)&&(i=s),u>=0?(a=(e.min.z-h.z)*u,o=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,o=(e.min.z-h.z)*u),n>o||a>i)||((a>n||n!==n)&&(n=a),(o<i||i!==i)&&(i=o),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Qi)!==null}intersectTriangle(e,t,n,i,r){gh.subVectors(t,e),Cl.subVectors(n,e),mh.crossVectors(gh,Cl);let s=this.direction.dot(mh),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;ar.subVectors(this.origin,e);const o=a*this.direction.dot(Cl.crossVectors(ar,Cl));if(o<0)return null;const l=a*this.direction.dot(gh.cross(ar));if(l<0||o+l>s)return null;const c=-a*ar.dot(mh);return c<0?null:this.at(c/s,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Se{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,s,a,o,l,c,u,h,f,d,p,v){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=a,g[13]=o,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Se().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/$A.setFromMatrixColumn(e,0).length(),r=1/$A.setFromMatrixColumn(e,1).length(),s=1/$A.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if(e.order==="XYZ"){const h=s*c,f=s*u,d=a*c,p=a*u;t[0]=o*c,t[4]=-o*u,t[8]=l,t[1]=f+d*l,t[5]=h-p*l,t[9]=-a*o,t[2]=p-h*l,t[6]=d+f*l,t[10]=s*o}else if(e.order==="YXZ"){const h=o*c,f=o*u,d=l*c,p=l*u;t[0]=h+p*a,t[4]=d*a-f,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-a,t[2]=f*a-d,t[6]=p+h*a,t[10]=s*o}else if(e.order==="ZXY"){const h=o*c,f=o*u,d=l*c,p=l*u;t[0]=h-p*a,t[4]=-s*u,t[8]=d+f*a,t[1]=f+d*a,t[5]=s*c,t[9]=p-h*a,t[2]=-s*l,t[6]=a,t[10]=s*o}else if(e.order==="ZYX"){const h=s*c,f=s*u,d=a*c,p=a*u;t[0]=o*c,t[4]=d*l-f,t[8]=h*l+p,t[1]=o*u,t[5]=p*l+h,t[9]=f*l-d,t[2]=-l,t[6]=a*o,t[10]=s*o}else if(e.order==="YZX"){const h=s*o,f=s*l,d=a*o,p=a*l;t[0]=o*c,t[4]=p-h*u,t[8]=d*u+f,t[1]=u,t[5]=s*c,t[9]=-a*c,t[2]=-l*c,t[6]=f*u+d,t[10]=h-p*u}else if(e.order==="XZY"){const h=s*o,f=s*l,d=a*o,p=a*l;t[0]=o*c,t[4]=-u,t[8]=l*c,t[1]=h*u+p,t[5]=s*c,t[9]=f*u-d,t[2]=d*u-f,t[6]=a*c,t[10]=p*u+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mE,e,vE)}lookAt(e,t,n){const i=this.elements;return Fn.subVectors(e,t),Fn.lengthSq()===0&&(Fn.z=1),Fn.normalize(),or.crossVectors(n,Fn),or.lengthSq()===0&&(Math.abs(n.z)===1?Fn.x+=1e-4:Fn.z+=1e-4,Fn.normalize(),or.crossVectors(n,Fn)),or.normalize(),_l.crossVectors(Fn,or),i[0]=or.x,i[4]=_l.x,i[8]=Fn.x,i[1]=or.y,i[5]=_l.y,i[9]=Fn.y,i[2]=or.z,i[6]=_l.z,i[10]=Fn.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[4],o=n[8],l=n[12],c=n[1],u=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],g=n[14],m=n[3],w=n[7],B=n[11],y=n[15],C=i[0],x=i[4],E=i[8],M=i[12],H=i[1],N=i[5],O=i[9],Q=i[13],F=i[2],G=i[6],I=i[10],V=i[14],te=i[3],ie=i[7],ae=i[11],ee=i[15];return r[0]=s*C+a*H+o*F+l*te,r[4]=s*x+a*N+o*G+l*ie,r[8]=s*E+a*O+o*I+l*ae,r[12]=s*M+a*Q+o*V+l*ee,r[1]=c*C+u*H+h*F+f*te,r[5]=c*x+u*N+h*G+f*ie,r[9]=c*E+u*O+h*I+f*ae,r[13]=c*M+u*Q+h*V+f*ee,r[2]=d*C+p*H+v*F+g*te,r[6]=d*x+p*N+v*G+g*ie,r[10]=d*E+p*O+v*I+g*ae,r[14]=d*M+p*Q+v*V+g*ee,r[3]=m*C+w*H+B*F+y*te,r[7]=m*x+w*N+B*G+y*ie,r[11]=m*E+w*O+B*I+y*ae,r[15]=m*M+w*Q+B*V+y*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],a=e[5],o=e[9],l=e[13],c=e[2],u=e[6],h=e[10],f=e[14],d=e[3],p=e[7],v=e[11],g=e[15];return d*(+r*o*u-i*l*u-r*a*h+n*l*h+i*a*f-n*o*f)+p*(+t*o*f-t*l*h+r*s*h-i*s*f+i*l*c-r*o*c)+v*(+t*l*u-t*a*f-r*s*u+n*s*f+r*a*c-n*l*c)+g*(-i*a*c-t*o*u+t*a*h+i*s*u-n*s*h+n*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],g=e[15],m=u*v*l-p*h*l+p*o*f-a*v*f-u*o*g+a*h*g,w=d*h*l-c*v*l-d*o*f+s*v*f+c*o*g-s*h*g,B=c*p*l-d*u*l+d*a*f-s*p*f-c*a*g+s*u*g,y=d*u*o-c*p*o-d*a*h+s*p*h+c*a*v-s*u*v,C=t*m+n*w+i*B+r*y;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/C;return e[0]=m*x,e[1]=(p*h*r-u*v*r-p*i*f+n*v*f+u*i*g-n*h*g)*x,e[2]=(a*v*r-p*o*r+p*i*l-n*v*l-a*i*g+n*o*g)*x,e[3]=(u*o*r-a*h*r-u*i*l+n*h*l+a*i*f-n*o*f)*x,e[4]=w*x,e[5]=(c*v*r-d*h*r+d*i*f-t*v*f-c*i*g+t*h*g)*x,e[6]=(d*o*r-s*v*r-d*i*l+t*v*l+s*i*g-t*o*g)*x,e[7]=(s*h*r-c*o*r+c*i*l-t*h*l-s*i*f+t*o*f)*x,e[8]=B*x,e[9]=(d*u*r-c*p*r-d*n*f+t*p*f+c*n*g-t*u*g)*x,e[10]=(s*p*r-d*a*r+d*n*l-t*p*l-s*n*g+t*a*g)*x,e[11]=(c*a*r-s*u*r-c*n*l+t*u*l+s*n*f-t*a*f)*x,e[12]=y*x,e[13]=(c*p*i-d*u*i+d*n*h-t*p*h-c*n*v+t*u*v)*x,e[14]=(d*a*i-s*p*i-d*n*o+t*p*o+s*n*v-t*a*v)*x,e[15]=(s*u*i-c*a*i+c*n*o-t*u*o-s*n*h+t*a*h)*x,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,a=e.y,o=e.z,l=r*s,c=r*a;return this.set(l*s+n,l*a-i*o,l*o+i*a,0,l*a+i*o,c*a+n,c*o-i*s,0,l*o-i*a,c*o+i*s,r*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,s){return this.set(1,n,r,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,s=t._y,a=t._z,o=t._w,l=r+r,c=s+s,u=a+a,h=r*l,f=r*c,d=r*u,p=s*c,v=s*u,g=a*u,m=o*l,w=o*c,B=o*u,y=n.x,C=n.y,x=n.z;return i[0]=(1-(p+g))*y,i[1]=(f+B)*y,i[2]=(d-w)*y,i[3]=0,i[4]=(f-B)*C,i[5]=(1-(h+g))*C,i[6]=(v+m)*C,i[7]=0,i[8]=(d+w)*x,i[9]=(v-m)*x,i[10]=(1-(h+p))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=$A.set(i[0],i[1],i[2]).length();const s=$A.set(i[4],i[5],i[6]).length(),a=$A.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],ri.copy(this);const l=1/r,c=1/s,u=1/a;return ri.elements[0]*=l,ri.elements[1]*=l,ri.elements[2]*=l,ri.elements[4]*=c,ri.elements[5]*=c,ri.elements[6]*=c,ri.elements[8]*=u,ri.elements[9]*=u,ri.elements[10]*=u,t.setFromRotationMatrix(ri),n.x=r,n.y=s,n.z=a,this}makePerspective(e,t,n,i,r,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(s+r)/(s-r),f=-2*s*r/(s-r);return a[0]=o,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,i,r,s){const a=this.elements,o=1/(t-e),l=1/(n-i),c=1/(s-r),u=(t+e)*o,h=(n+i)*l,f=(s+r)*c;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}Se.prototype.isMatrix4=!0;const $A=new D,ri=new Se,mE=new D(0,0,0),vE=new D(1,1,1),or=new D,_l=new D,Fn=new D,Qg=new Se,Rg=new Ot;class PA{constructor(e=0,t=0,n=0,i=PA.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],s=i[4],a=i[8],o=i[1],l=i[5],c=i[9],u=i[2],h=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin($t(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-$t(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin($t(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-$t(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin($t(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-$t(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Qg.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Qg,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Rg.setFromEuler(this),this.setFromQuaternion(Rg,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new D(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}PA.prototype.isEuler=!0;PA.DefaultOrder="XYZ";PA.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class np{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let wE=0;const Hg=new D,es=new Ot,Ri=new Se,El=new D,Qa=new D,BE=new D,yE=new Ot,Pg=new D(1,0,0),Og=new D(0,1,0),Ng=new D(0,0,1),xE={type:"added"},Gg={type:"removed"};class ze extends fi{constructor(){super();Object.defineProperty(this,"id",{value:wE++}),this.uuid=Rn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ze.DefaultUp.clone();const e=new D,t=new PA,n=new Ot,i=new D(1,1,1);function r(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Se},normalMatrix:{value:new Qt}}),this.matrix=new Se,this.matrixWorld=new Se,this.matrixAutoUpdate=ze.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new np,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return es.setFromAxisAngle(e,t),this.quaternion.multiply(es),this}rotateOnWorldAxis(e,t){return es.setFromAxisAngle(e,t),this.quaternion.premultiply(es),this}rotateX(e){return this.rotateOnAxis(Pg,e)}rotateY(e){return this.rotateOnAxis(Og,e)}rotateZ(e){return this.rotateOnAxis(Ng,e)}translateOnAxis(e,t){return Hg.copy(e).applyQuaternion(this.quaternion),this.position.add(Hg.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Pg,e)}translateY(e){return this.translateOnAxis(Og,e)}translateZ(e){return this.translateOnAxis(Ng,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ri.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?El.copy(e):El.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Qa.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ri.lookAt(Qa,El,this.up):Ri.lookAt(El,Qa,this.up),this.quaternion.setFromRotationMatrix(Ri),i&&(Ri.extractRotation(i.matrixWorld),es.setFromRotationMatrix(Ri),this.quaternion.premultiply(es.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xE)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Gg)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Gg)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ri.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ri.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ri),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qa,e,BE),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qa,yE,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function r(a,o){return a[o.uuid]===void 0&&(a[o.uuid]=o.toJSON(e)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const o=a.shapes;if(Array.isArray(o))for(let l=0,c=o.length;l<c;l++){const u=o[l];r(e.shapes,u)}else r(e.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let o=0,l=this.material.length;o<l;o++)a.push(r(e.materials,this.material[o]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const o=this.animations[a];i.animations.push(r(e.animations,o))}}if(t){const a=s(e.geometries),o=s(e.materials),l=s(e.textures),c=s(e.images),u=s(e.shapes),h=s(e.skeletons),f=s(e.animations);a.length>0&&(n.geometries=a),o.length>0&&(n.materials=o),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),u.length>0&&(n.shapes=u),h.length>0&&(n.skeletons=h),f.length>0&&(n.animations=f)}return n.object=i,n;function s(a){const o=[];for(const l in a){const c=a[l];delete c.metadata,o.push(c)}return o}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}ze.DefaultUp=new D(0,1,0);ze.DefaultMatrixAutoUpdate=!0;ze.prototype.isObject3D=!0;const Ai=new D,Hi=new D,vh=new D,Pi=new D,ts=new D,ns=new D,kg=new D,wh=new D,Bh=new D,yh=new D;class Ft{constructor(e=new D,t=new D,n=new D){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Ai.subVectors(e,t),i.cross(Ai);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Ai.subVectors(i,t),Hi.subVectors(n,t),vh.subVectors(e,t);const s=Ai.dot(Ai),a=Ai.dot(Hi),o=Ai.dot(vh),l=Hi.dot(Hi),c=Hi.dot(vh),u=s*l-a*a;if(u===0)return r.set(-2,-1,-1);const h=1/u,f=(l*o-a*c)*h,d=(s*c-a*o)*h;return r.set(1-f-d,d,f)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Pi),Pi.x>=0&&Pi.y>=0&&Pi.x+Pi.y<=1}static getUV(e,t,n,i,r,s,a,o){return this.getBarycoord(e,t,n,i,Pi),o.set(0,0),o.addScaledVector(r,Pi.x),o.addScaledVector(s,Pi.y),o.addScaledVector(a,Pi.z),o}static isFrontFacing(e,t,n,i){return Ai.subVectors(n,t),Hi.subVectors(e,t),Ai.cross(Hi).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ai.subVectors(this.c,this.b),Hi.subVectors(this.a,this.b),Ai.cross(Hi).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ft.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ft.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return Ft.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Ft.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ft.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let s,a;ts.subVectors(i,n),ns.subVectors(r,n),wh.subVectors(e,n);const o=ts.dot(wh),l=ns.dot(wh);if(o<=0&&l<=0)return t.copy(n);Bh.subVectors(e,i);const c=ts.dot(Bh),u=ns.dot(Bh);if(c>=0&&u<=c)return t.copy(i);const h=o*u-c*l;if(h<=0&&o>=0&&c<=0)return s=o/(o-c),t.copy(n).addScaledVector(ts,s);yh.subVectors(e,r);const f=ts.dot(yh),d=ns.dot(yh);if(d>=0&&f<=d)return t.copy(r);const p=f*l-o*d;if(p<=0&&l>=0&&d<=0)return a=l/(l-d),t.copy(n).addScaledVector(ns,a);const v=c*d-f*u;if(v<=0&&u-c>=0&&f-d>=0)return kg.subVectors(r,i),a=(u-c)/(u-c+(f-d)),t.copy(i).addScaledVector(kg,a);const g=1/(v+p+h);return s=p*g,a=h*g,t.copy(n).addScaledVector(ts,s).addScaledVector(ns,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let CE=0;class Rt extends fi{constructor(){super();Object.defineProperty(this,"id",{value:CE++}),this.uuid=Rn(),this.name="",this.type="Material",this.fog=!0,this.blending=Ds,this.side=Ei,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Xd,this.blendDst=Yd,this.blendEquation=fA,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=VB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dc,this.stencilZFail=Dc,this.stencilZPass=Dc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Wd;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(n.specularTint=this.specularTint.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(n.specularTintMap=this.specularTintMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationTint!==void 0&&(n.attenuationTint=this.attenuationTint.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ds&&(n.blending=this.blending),this.side!==Ei&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const s=[];for(const a in r){const o=r[a];delete o.metadata,s.push(o)}return s}if(t){const r=i(e.textures),s=i(e.images);r.length>0&&(n.textures=r),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Rt.prototype.isMaterial=!0;const XB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},si={h:0,s:0,l:0},bl={h:0,s:0,l:0};function xh(A,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?A+(e-A)*6*t:t<1/2?e:t<2/3?A+(e-A)*6*(2/3-t):A}function Ch(A){return A<.04045?A*.0773993808:Math.pow(A*.9478672986+.0521327014,2.4)}function _h(A){return A<.0031308?A*12.92:1.055*Math.pow(A,.41666)-.055}class ve{constructor(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=tp(e,1),t=$t(t,0,1),n=$t(n,0,1),t===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=xh(r,i,e+1/3),this.g=xh(r,i,e),this.b=xh(r,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i;const r=n[1],s=n[2];switch(r){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(a,o,l)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=n[1],r=i.length;if(r===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(r===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=XB[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Ch(e.r),this.g=Ch(e.g),this.b=Ch(e.b),this}copyLinearToSRGB(e){return this.r=_h(e.r),this.g=_h(e.g),this.b=_h(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),s=Math.min(t,n,i);let a,o;const l=(s+r)/2;if(s===r)a=0,o=0;else{const c=r-s;switch(o=l<=.5?c/(r+s):c/(2-r-s),r){case t:a=(n-i)/c+(n<i?6:0);break;case n:a=(i-t)/c+2;break;case i:a=(t-n)/c+4;break}a/=6}return e.h=a,e.s=o,e.l=l,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,n){return this.getHSL(si),si.h+=e,si.s+=t,si.l+=n,this.setHSL(si.h,si.s,si.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(si),e.getHSL(bl);const n=lo(si.h,bl.h,t),i=lo(si.s,bl.s,t),r=lo(si.l,bl.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ve.NAMES=XB;ve.prototype.isColor=!0;ve.prototype.r=1;ve.prototype.g=1;ve.prototype.b=1;class hn extends Rt{constructor(e){super();this.type="MeshBasicMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}hn.prototype.isMeshBasicMaterial=!0;const lt=new D,Ml=new ce;class Pe{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=zs,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new ve),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new ce),t[n++]=s.x,t[n++]=s.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new D),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new $e),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Ml.fromBufferAttribute(this,t),Ml.applyMatrix3(e),this.setXY(t,Ml.x,Ml.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)lt.fromBufferAttribute(this,t),lt.applyMatrix3(e),this.setXYZ(t,lt.x,lt.y,lt.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)lt.x=this.getX(t),lt.y=this.getY(t),lt.z=this.getZ(t),lt.applyMatrix4(e),this.setXYZ(t,lt.x,lt.y,lt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)lt.x=this.getX(t),lt.y=this.getY(t),lt.z=this.getZ(t),lt.applyNormalMatrix(e),this.setXYZ(t,lt.x,lt.y,lt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)lt.x=this.getX(t),lt.y=this.getY(t),lt.z=this.getZ(t),lt.transformDirection(e),this.setXYZ(t,lt.x,lt.y,lt.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==zs&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Pe.prototype.isBufferAttribute=!0;class YB extends Pe{constructor(e,t,n){super(new Int8Array(e),t,n)}}class JB extends Pe{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class ZB extends Pe{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class qB extends Pe{constructor(e,t,n){super(new Int16Array(e),t,n)}}class du extends Pe{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class jB extends Pe{constructor(e,t,n){super(new Int32Array(e),t,n)}}class pu extends Pe{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class $B extends Pe{constructor(e,t,n){super(new Uint16Array(e),t,n)}}$B.prototype.isFloat16BufferAttribute=!0;class Te extends Pe{constructor(e,t,n){super(new Float32Array(e),t,n)}}class ey extends Pe{constructor(e,t,n){super(new Float64Array(e),t,n)}}function ty(A){if(A.length===0)return-1/0;let e=A[0];for(let t=1,n=A.length;t<n;++t)A[t]>e&&(e=A[t]);return e}const _E={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ms(A,e){return new _E[A](e)}let EE=0;const kn=new Se,Eh=new ze,is=new D,Un=new vn,Ra=new vn,kt=new D;class Ie extends fi{constructor(){super();Object.defineProperty(this,"id",{value:EE++}),this.uuid=Rn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ty(e)>65535?pu:du)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new Qt().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return kn.makeRotationFromQuaternion(e),this.applyMatrix4(kn),this}rotateX(e){return kn.makeRotationX(e),this.applyMatrix4(kn),this}rotateY(e){return kn.makeRotationY(e),this.applyMatrix4(kn),this}rotateZ(e){return kn.makeRotationZ(e),this.applyMatrix4(kn),this}translate(e,t,n){return kn.makeTranslation(e,t,n),this.applyMatrix4(kn),this}scale(e,t,n){return kn.makeScale(e,t,n),this.applyMatrix4(kn),this}lookAt(e){return Eh.lookAt(e),Eh.updateMatrix(),this.applyMatrix4(Eh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(is).negate(),this.translate(is.x,is.y,is.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Te(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];Un.setFromBufferAttribute(r),this.morphTargetsRelative?(kt.addVectors(this.boundingBox.min,Un.min),this.boundingBox.expandByPoint(kt),kt.addVectors(this.boundingBox.max,Un.max),this.boundingBox.expandByPoint(kt)):(this.boundingBox.expandByPoint(Un.min),this.boundingBox.expandByPoint(Un.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ui);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const n=this.boundingSphere.center;if(Un.setFromBufferAttribute(e),t)for(let r=0,s=t.length;r<s;r++){const a=t[r];Ra.setFromBufferAttribute(a),this.morphTargetsRelative?(kt.addVectors(Un.min,Ra.min),Un.expandByPoint(kt),kt.addVectors(Un.max,Ra.max),Un.expandByPoint(kt)):(Un.expandByPoint(Ra.min),Un.expandByPoint(Ra.max))}Un.getCenter(n);let i=0;for(let r=0,s=e.count;r<s;r++)kt.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(kt));if(t)for(let r=0,s=t.length;r<s;r++){const a=t[r],o=this.morphTargetsRelative;for(let l=0,c=a.count;l<c;l++)kt.fromBufferAttribute(a,l),o&&(is.fromBufferAttribute(e,l),kt.add(is)),i=Math.max(i,n.distanceToSquared(kt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,i=t.position.array,r=t.normal.array,s=t.uv.array,a=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Pe(new Float32Array(4*a),4));const o=t.tangent.array,l=[],c=[];for(let H=0;H<a;H++)l[H]=new D,c[H]=new D;const u=new D,h=new D,f=new D,d=new ce,p=new ce,v=new ce,g=new D,m=new D;function w(H,N,O){u.fromArray(i,H*3),h.fromArray(i,N*3),f.fromArray(i,O*3),d.fromArray(s,H*2),p.fromArray(s,N*2),v.fromArray(s,O*2),h.sub(u),f.sub(u),p.sub(d),v.sub(d);const Q=1/(p.x*v.y-v.x*p.y);!isFinite(Q)||(g.copy(h).multiplyScalar(v.y).addScaledVector(f,-p.y).multiplyScalar(Q),m.copy(f).multiplyScalar(p.x).addScaledVector(h,-v.x).multiplyScalar(Q),l[H].add(g),l[N].add(g),l[O].add(g),c[H].add(m),c[N].add(m),c[O].add(m))}let B=this.groups;B.length===0&&(B=[{start:0,count:n.length}]);for(let H=0,N=B.length;H<N;++H){const O=B[H],Q=O.start,F=O.count;for(let G=Q,I=Q+F;G<I;G+=3)w(n[G+0],n[G+1],n[G+2])}const y=new D,C=new D,x=new D,E=new D;function M(H){x.fromArray(r,H*3),E.copy(x);const N=l[H];y.copy(N),y.sub(x.multiplyScalar(x.dot(N))).normalize(),C.crossVectors(E,N);const Q=C.dot(c[H])<0?-1:1;o[H*4]=y.x,o[H*4+1]=y.y,o[H*4+2]=y.z,o[H*4+3]=Q}for(let H=0,N=B.length;H<N;++H){const O=B[H],Q=O.start,F=O.count;for(let G=Q,I=Q+F;G<I;G+=3)M(n[G+0]),M(n[G+1]),M(n[G+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Pe(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let h=0,f=n.count;h<f;h++)n.setXYZ(h,0,0,0);const i=new D,r=new D,s=new D,a=new D,o=new D,l=new D,c=new D,u=new D;if(e)for(let h=0,f=e.count;h<f;h+=3){const d=e.getX(h+0),p=e.getX(h+1),v=e.getX(h+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,v),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),a.fromBufferAttribute(n,d),o.fromBufferAttribute(n,p),l.fromBufferAttribute(n,v),a.add(c),o.add(c),l.add(c),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,o.x,o.y,o.z),n.setXYZ(v,l.x,l.y,l.z)}else for(let h=0,f=t.count;h<f;h+=3)i.fromBufferAttribute(t,h+0),r.fromBufferAttribute(t,h+1),s.fromBufferAttribute(t,h+2),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),n.setXYZ(h+0,c.x,c.y,c.z),n.setXYZ(h+1,c.x,c.y,c.z),n.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const s=n[i].array,a=e.attributes[i],o=a.array,l=a.itemSize*t,c=Math.min(o.length,s.length-l);for(let u=0,h=l;u<c;u++,h++)s[h]=o[u]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)kt.fromBufferAttribute(e,t),kt.normalize(),e.setXYZ(t,kt.x,kt.y,kt.z)}toNonIndexed(){function e(a,o){const l=a.array,c=a.itemSize,u=a.normalized,h=new l.constructor(o.length*c);let f=0,d=0;for(let p=0,v=o.length;p<v;p++){a.isInterleavedBufferAttribute?f=o[p]*a.data.stride+a.offset:f=o[p]*c;for(let g=0;g<c;g++)h[d++]=l[f++]}return new Pe(h,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ie,n=this.index.array,i=this.attributes;for(const a in i){const o=i[a],l=e(o,n);t.setAttribute(a,l)}const r=this.morphAttributes;for(const a in r){const o=[],l=r[a];for(let c=0,u=l.length;c<u;c++){const h=l[c],f=e(h,n);o.push(f)}t.morphAttributes[a]=o}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,o=s.length;a<o;a++){const l=s[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const l in o)o[l]!==void 0&&(e[l]=o[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const o in n){const l=n[o];e.data.attributes[o]=l.toJSON(e.data)}const i={};let r=!1;for(const o in this.morphAttributes){const l=this.morphAttributes[o],c=[];for(let u=0,h=l.length;u<h;u++){const f=l[u];c.push(f.toJSON(e.data))}c.length>0&&(i[o]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new Ie().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const c=i[l];this.setAttribute(l,c.clone(t))}const r=e.morphAttributes;for(const l in r){const c=[],u=r[l];for(let h=0,f=u.length;h<f;h++)c.push(u[h].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let l=0,c=s.length;l<c;l++){const u=s[l];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ie.prototype.isBufferGeometry=!0;const Vg=new Se,rs=new Wr,bh=new Ui,lr=new D,cr=new D,ur=new D,Mh=new D,Th=new D,Sh=new D,Tl=new D,Sl=new D,Fl=new D,Ul=new ce,Dl=new ce,Il=new ce,Fh=new D,Ll=new D;class gt extends ze{constructor(e=new Ie,t=new hn){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),bh.copy(n.boundingSphere),bh.applyMatrix4(r),e.ray.intersectsSphere(bh)===!1)||(Vg.copy(r).invert(),rs.copy(e.ray).applyMatrix4(Vg),n.boundingBox!==null&&rs.intersectsBox(n.boundingBox)===!1))return;let s;if(n.isBufferGeometry){const a=n.index,o=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,h=n.attributes.uv2,f=n.groups,d=n.drawRange;if(a!==null)if(Array.isArray(i))for(let p=0,v=f.length;p<v;p++){const g=f[p],m=i[g.materialIndex],w=Math.max(g.start,d.start),B=Math.min(g.start+g.count,d.start+d.count);for(let y=w,C=B;y<C;y+=3){const x=a.getX(y),E=a.getX(y+1),M=a.getX(y+2);s=Ql(this,m,e,rs,o,l,c,u,h,x,E,M),s&&(s.faceIndex=Math.floor(y/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const p=Math.max(0,d.start),v=Math.min(a.count,d.start+d.count);for(let g=p,m=v;g<m;g+=3){const w=a.getX(g),B=a.getX(g+1),y=a.getX(g+2);s=Ql(this,i,e,rs,o,l,c,u,h,w,B,y),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}else if(o!==void 0)if(Array.isArray(i))for(let p=0,v=f.length;p<v;p++){const g=f[p],m=i[g.materialIndex],w=Math.max(g.start,d.start),B=Math.min(g.start+g.count,d.start+d.count);for(let y=w,C=B;y<C;y+=3){const x=y,E=y+1,M=y+2;s=Ql(this,m,e,rs,o,l,c,u,h,x,E,M),s&&(s.faceIndex=Math.floor(y/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const p=Math.max(0,d.start),v=Math.min(o.count,d.start+d.count);for(let g=p,m=v;g<m;g+=3){const w=g,B=g+1,y=g+2;s=Ql(this,i,e,rs,o,l,c,u,h,w,B,y),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}gt.prototype.isMesh=!0;function bE(A,e,t,n,i,r,s,a){let o;if(e.side===ct?o=n.intersectTriangle(s,r,i,!0,a):o=n.intersectTriangle(i,r,s,e.side!==Cn,a),o===null)return null;Ll.copy(a),Ll.applyMatrix4(A.matrixWorld);const l=t.ray.origin.distanceTo(Ll);return l<t.near||l>t.far?null:{distance:l,point:Ll.clone(),object:A}}function Ql(A,e,t,n,i,r,s,a,o,l,c,u){lr.fromBufferAttribute(i,l),cr.fromBufferAttribute(i,c),ur.fromBufferAttribute(i,u);const h=A.morphTargetInfluences;if(r&&h){Tl.set(0,0,0),Sl.set(0,0,0),Fl.set(0,0,0);for(let d=0,p=r.length;d<p;d++){const v=h[d],g=r[d];v!==0&&(Mh.fromBufferAttribute(g,l),Th.fromBufferAttribute(g,c),Sh.fromBufferAttribute(g,u),s?(Tl.addScaledVector(Mh,v),Sl.addScaledVector(Th,v),Fl.addScaledVector(Sh,v)):(Tl.addScaledVector(Mh.sub(lr),v),Sl.addScaledVector(Th.sub(cr),v),Fl.addScaledVector(Sh.sub(ur),v)))}lr.add(Tl),cr.add(Sl),ur.add(Fl)}A.isSkinnedMesh&&(A.boneTransform(l,lr),A.boneTransform(c,cr),A.boneTransform(u,ur));const f=bE(A,e,t,n,lr,cr,ur,Fh);if(f){a&&(Ul.fromBufferAttribute(a,l),Dl.fromBufferAttribute(a,c),Il.fromBufferAttribute(a,u),f.uv=Ft.getUV(Fh,lr,cr,ur,Ul,Dl,Il,new ce)),o&&(Ul.fromBufferAttribute(o,l),Dl.fromBufferAttribute(o,c),Il.fromBufferAttribute(o,u),f.uv2=Ft.getUV(Fh,lr,cr,ur,Ul,Dl,Il,new ce));const d={a:l,b:c,c:u,normal:new D,materialIndex:0};Ft.getNormal(lr,cr,ur,d.normal),f.face=d}return f}class qi extends Ie{constructor(e=1,t=1,n=1,i=1,r=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};const a=this;i=Math.floor(i),r=Math.floor(r),s=Math.floor(s);const o=[],l=[],c=[],u=[];let h=0,f=0;d("z","y","x",-1,-1,n,t,e,s,r,0),d("z","y","x",1,-1,n,t,-e,s,r,1),d("x","z","y",1,1,e,n,t,i,s,2),d("x","z","y",1,-1,e,n,-t,i,s,3),d("x","y","z",1,-1,e,t,n,i,r,4),d("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(o),this.setAttribute("position",new Te(l,3)),this.setAttribute("normal",new Te(c,3)),this.setAttribute("uv",new Te(u,2));function d(p,v,g,m,w,B,y,C,x,E,M){const H=B/x,N=y/E,O=B/2,Q=y/2,F=C/2,G=x+1,I=E+1;let V=0,te=0;const ie=new D;for(let ae=0;ae<I;ae++){const ee=ae*N-Q;for(let fe=0;fe<G;fe++){const ne=fe*H-O;ie[p]=ne*m,ie[v]=ee*w,ie[g]=F,l.push(ie.x,ie.y,ie.z),ie[p]=0,ie[v]=0,ie[g]=C>0?1:-1,c.push(ie.x,ie.y,ie.z),u.push(fe/x),u.push(1-ae/E),V+=1}}for(let ae=0;ae<E;ae++)for(let ee=0;ee<x;ee++){const fe=h+ee+G*ae,ne=h+ee+G*(ae+1),me=h+(ee+1)+G*(ae+1),we=h+(ee+1)+G*ae;o.push(fe,ne,we),o.push(ne,me,we),te+=6}a.addGroup(f,te,M),f+=te,h+=V}}static fromJSON(e){return new qi(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ws(A){const e={};for(const t in A){e[t]={};for(const n in A[t]){const i=A[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function rn(A){const e={};for(let t=0;t<A.length;t++){const n=Ws(A[t]);for(const i in n)e[i]=n[i]}return e}const ip={clone:Ws,merge:rn};var ME=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,TE=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Pn extends Rt{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=ME,this.fragmentShader=TE,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ws(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}Pn.prototype.isShaderMaterial=!0;class ha extends ze{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Se,this.projectionMatrix=new Se,this.projectionMatrixInverse=new Se}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}ha.prototype.isCamera=!0;class It extends ha{constructor(e=50,t=1,n=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Do*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bA*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Do*2*Math.atan(Math.tan(bA*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(bA*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const o=s.fullWidth,l=s.fullHeight;r+=s.offsetX*i/o,t-=s.offsetY*n/l,i*=s.width/o,n*=s.height/l}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}It.prototype.isPerspectiveCamera=!0;const As=90,ss=1;class gu extends ze{constructor(e,t,n){super();if(this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new It(As,ss,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new D(1,0,0)),this.add(i);const r=new It(As,ss,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new D(-1,0,0)),this.add(r);const s=new It(As,ss,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new D(0,1,0)),this.add(s);const a=new It(As,ss,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new D(0,-1,0)),this.add(a);const o=new It(As,ss,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new D(0,0,1)),this.add(o);const l=new It(As,ss,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new D(0,0,-1)),this.add(l)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[i,r,s,a,o,l]=this.children,c=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,s),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,o),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c}}class fa extends Et{constructor(e,t,n,i,r,s,a,o,l,c){e=e!==void 0?e:[],t=t!==void 0?t:la,a=a!==void 0?a:Wi;super(e,t,n,i,r,s,a,o,l,c);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}fa.prototype.isCubeTexture=!0;class mu extends fn{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n);super(e,e,t);t=t||{},this.texture=new fa(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:tt,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Mn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new qi(5,5,5),r=new Pn({name:"CubemapFromEquirect",uniforms:Ws(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ct,blending:Qn});r.uniforms.tEquirect.value=t;const s=new gt(i,r),a=t.minFilter;return t.minFilter===er&&(t.minFilter=tt),new gu(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,i);e.setRenderTarget(r)}}mu.prototype.isWebGLCubeRenderTarget=!0;const Uh=new D,SE=new D,FE=new Qt;class wi{constructor(e=new D(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=Uh.subVectors(n,t).cross(SE.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(Uh),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(n).multiplyScalar(r).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||FE.getNormalMatrix(e),i=this.coplanarPoint(Uh).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}wi.prototype.isPlane=!0;const as=new Ui,Rl=new D;class Wo{constructor(e=new wi,t=new wi,n=new wi,i=new wi,r=new wi,s=new wi){this.planes=[e,t,n,i,r,s]}set(e,t,n,i,r,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],s=n[2],a=n[3],o=n[4],l=n[5],c=n[6],u=n[7],h=n[8],f=n[9],d=n[10],p=n[11],v=n[12],g=n[13],m=n[14],w=n[15];return t[0].setComponents(a-i,u-o,p-h,w-v).normalize(),t[1].setComponents(a+i,u+o,p+h,w+v).normalize(),t[2].setComponents(a+r,u+l,p+f,w+g).normalize(),t[3].setComponents(a-r,u-l,p-f,w-g).normalize(),t[4].setComponents(a-s,u-c,p-d,w-m).normalize(),t[5].setComponents(a+s,u+c,p+d,w+m).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),as.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(as)}intersectsSprite(e){return as.center.set(0,0,0),as.radius=.7071067811865476,as.applyMatrix4(e.matrixWorld),this.intersectsSphere(as)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Rl.x=i.normal.x>0?e.max.x:e.min.x,Rl.y=i.normal.y>0?e.max.y:e.min.y,Rl.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Rl)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ny(){let A=null,e=!1,t=null,n=null;function i(r,s){t(r,s),n=A.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=A.requestAnimationFrame(i),e=!0)},stop:function(){A.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){A=r}}}function UE(A,e){const t=e.isWebGL2,n=new WeakMap;function i(l,c){const u=l.array,h=l.usage,f=A.createBuffer();A.bindBuffer(c,f),A.bufferData(c,u,h),l.onUploadCallback();let d=5126;return u instanceof Float32Array?d=5126:u instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):u instanceof Uint16Array?l.isFloat16BufferAttribute?t?d=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):d=5123:u instanceof Int16Array?d=5122:u instanceof Uint32Array?d=5125:u instanceof Int32Array?d=5124:u instanceof Int8Array?d=5120:(u instanceof Uint8Array||u instanceof Uint8ClampedArray)&&(d=5121),{buffer:f,type:d,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version}}function r(l,c,u){const h=c.array,f=c.updateRange;A.bindBuffer(u,l),f.count===-1?A.bufferSubData(u,0,h):(t?A.bufferSubData(u,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):A.bufferSubData(u,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1)}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),n.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=n.get(l);c&&(A.deleteBuffer(c.buffer),n.delete(l))}function o(l,c){if(l.isGLBufferAttribute){const h=n.get(l);(!h||h.version<l.version)&&n.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}l.isInterleavedBufferAttribute&&(l=l.data);const u=n.get(l);u===void 0?n.set(l,i(l,c)):u.version<l.version&&(r(u.buffer,l,c),u.version=l.version)}return{get:s,remove:a,update:o}}class Mi extends Ie{constructor(e=1,t=1,n=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,s=t/2,a=Math.floor(n),o=Math.floor(i),l=a+1,c=o+1,u=e/a,h=t/o,f=[],d=[],p=[],v=[];for(let g=0;g<c;g++){const m=g*h-s;for(let w=0;w<l;w++){const B=w*u-r;d.push(B,-m,0),p.push(0,0,1),v.push(w/a),v.push(1-g/o)}}for(let g=0;g<o;g++)for(let m=0;m<a;m++){const w=m+l*g,B=m+l*(g+1),y=m+1+l*(g+1),C=m+1+l*g;f.push(w,B,C),f.push(B,y,C)}this.setIndex(f),this.setAttribute("position",new Te(d,3)),this.setAttribute("normal",new Te(p,3)),this.setAttribute("uv",new Te(v,2))}static fromJSON(e){return new Mi(e.width,e.height,e.widthSegments,e.heightSegments)}}var DE=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,IE=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LE=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,QE=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,RE=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,HE="vec3 transformed = vec3( position );",PE=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,OE=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in vec3 f90, const in float dotVH ) {
	float fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );
	return ( f90 - f0 ) * fresnel + f0;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in vec3 f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, vec3( 1.0 ), dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,NE=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,GE=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,kE=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,VE=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zE=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,KE=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,WE=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,XE=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,YE=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,JE=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,ZE=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,qE=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,jE=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,$E=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,eb=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,tb=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,nb="gl_FragColor = linearToOutputTexel( gl_FragColor );",ib=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,rb=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ab=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,sb=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ab=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ob=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,lb=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,cb=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,ub=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,hb=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,fb=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,db=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,pb=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gb=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,mb=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,vb=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,wb=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Bb=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,yb=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,xb=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Cb=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	#ifdef SPECULAR
		vec3 specularIntensityFactor = vec3( specularIntensity );
		vec3 specularTintFactor = specularTint;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARTINTMAP
			specularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;
		#endif
		material.specularColorF90 = mix( specularIntensityFactor, vec3( 1.0 ), metalnessFactor );
	#else
		vec3 specularIntensityFactor = vec3( 1.0 );
		vec3 specularTintFactor = vec3( 1.0 );
		material.specularColorF90 = vec3( 1.0 );
	#endif
	material.specularColor = mix( min( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
	material.specularColorF90 = vec3( 1.0 );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,_b=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
	vec3 specularColorF90;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), vec3( 1.0 ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularColorF90, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Eb=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,bb=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,Mb=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Tb=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Sb=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fb=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Ub=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Db=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,Ib=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Lb=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Qb=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Rb=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Hb=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Pb=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,Ob=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,Nb=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,Gb=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,kb=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Vb=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,zb=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Kb=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Wb=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Xb=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Yb=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Jb=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Zb=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qb=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,jb=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,$b=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,e1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,t1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,n1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,i1=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,r1=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,A1=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,s1=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,a1=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,o1=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,l1=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,c1=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,u1=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,h1=`#ifdef USE_TRANSMISSION
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition.xyz / vWorldPosition.w;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	float ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );
	vec3 transmission = transmissionFactor * getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationTint, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );
#endif`,f1=`#ifdef USE_TRANSMISSION
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec4 vWorldPosition;
	vec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {
		vec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);
		vec3 modelScale;
		modelScale.x = length(vec3(modelMatrix[0].xyz));
		modelScale.y = length(vec3(modelMatrix[1].xyz));
		modelScale.z = length(vec3(modelMatrix[2].xyz));
		return normalize(refractionVector) * thickness * modelScale;
	}
	float applyIorToRoughness(float roughness, float ior) {
		return roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);
	}
	vec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {
		float framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);
		return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;
	}
	vec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {
		if (attenuationDistance == 0.0) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;
			vec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);			return transmittance * radiance;
		}
	}
	vec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance) {
		vec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);
		vec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);
		return (1.0 - specularColor) * attenuatedColor * baseColor;
	}
#endif`,d1=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,p1=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,g1=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,m1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,v1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,w1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,B1=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,y1=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,x1=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,C1=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_1=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,E1=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,b1=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,M1=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,T1=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,S1=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,F1=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,U1=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,D1=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,I1=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,L1=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Q1=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R1=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H1=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,P1=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
		#ifdef USE_TANGENT
			vTangent = normalize( transformedTangent );
			vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
		#endif
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,O1=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N1=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,G1=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k1=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,V1=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationTint;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularTint;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARTINTMAP
		uniform sampler2D specularTintMap;
	#endif
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <transmission_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z1=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#ifdef USE_TRANSMISSION
	varying vec4 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition;
#endif
}`,K1=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,W1=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,X1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Y1=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,J1=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Z1=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,q1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,j1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Ve={alphamap_fragment:DE,alphamap_pars_fragment:IE,alphatest_fragment:LE,aomap_fragment:QE,aomap_pars_fragment:RE,begin_vertex:HE,beginnormal_vertex:PE,bsdfs:OE,bumpmap_pars_fragment:NE,clipping_planes_fragment:GE,clipping_planes_pars_fragment:kE,clipping_planes_pars_vertex:VE,clipping_planes_vertex:zE,color_fragment:KE,color_pars_fragment:WE,color_pars_vertex:XE,color_vertex:YE,common:JE,cube_uv_reflection_fragment:ZE,defaultnormal_vertex:qE,displacementmap_pars_vertex:jE,displacementmap_vertex:$E,emissivemap_fragment:eb,emissivemap_pars_fragment:tb,encodings_fragment:nb,encodings_pars_fragment:ib,envmap_fragment:rb,envmap_common_pars_fragment:Ab,envmap_pars_fragment:sb,envmap_pars_vertex:ab,envmap_physical_pars_fragment:vb,envmap_vertex:ob,fog_vertex:lb,fog_pars_vertex:cb,fog_fragment:ub,fog_pars_fragment:hb,gradientmap_pars_fragment:fb,lightmap_fragment:db,lightmap_pars_fragment:pb,lights_lambert_vertex:gb,lights_pars_begin:mb,lights_toon_fragment:wb,lights_toon_pars_fragment:Bb,lights_phong_fragment:yb,lights_phong_pars_fragment:xb,lights_physical_fragment:Cb,lights_physical_pars_fragment:_b,lights_fragment_begin:Eb,lights_fragment_maps:bb,lights_fragment_end:Mb,logdepthbuf_fragment:Tb,logdepthbuf_pars_fragment:Sb,logdepthbuf_pars_vertex:Fb,logdepthbuf_vertex:Ub,map_fragment:Db,map_pars_fragment:Ib,map_particle_fragment:Lb,map_particle_pars_fragment:Qb,metalnessmap_fragment:Rb,metalnessmap_pars_fragment:Hb,morphnormal_vertex:Pb,morphtarget_pars_vertex:Ob,morphtarget_vertex:Nb,normal_fragment_begin:Gb,normal_fragment_maps:kb,normalmap_pars_fragment:Vb,clearcoat_normal_fragment_begin:zb,clearcoat_normal_fragment_maps:Kb,clearcoat_pars_fragment:Wb,packing:Xb,premultiplied_alpha_fragment:Yb,project_vertex:Jb,dithering_fragment:Zb,dithering_pars_fragment:qb,roughnessmap_fragment:jb,roughnessmap_pars_fragment:$b,shadowmap_pars_fragment:e1,shadowmap_pars_vertex:t1,shadowmap_vertex:n1,shadowmask_pars_fragment:i1,skinbase_vertex:r1,skinning_pars_vertex:A1,skinning_vertex:s1,skinnormal_vertex:a1,specularmap_fragment:o1,specularmap_pars_fragment:l1,tonemapping_fragment:c1,tonemapping_pars_fragment:u1,transmission_fragment:h1,transmission_pars_fragment:f1,uv_pars_fragment:d1,uv_pars_vertex:p1,uv_vertex:g1,uv2_pars_fragment:m1,uv2_pars_vertex:v1,uv2_vertex:w1,worldpos_vertex:B1,background_frag:y1,background_vert:x1,cube_frag:C1,cube_vert:_1,depth_frag:E1,depth_vert:b1,distanceRGBA_frag:M1,distanceRGBA_vert:T1,equirect_frag:S1,equirect_vert:F1,linedashed_frag:U1,linedashed_vert:D1,meshbasic_frag:I1,meshbasic_vert:L1,meshlambert_frag:Q1,meshlambert_vert:R1,meshmatcap_frag:H1,meshmatcap_vert:P1,meshtoon_frag:O1,meshtoon_vert:N1,meshphong_frag:G1,meshphong_vert:k1,meshphysical_frag:V1,meshphysical_vert:z1,normal_frag:K1,normal_vert:W1,points_frag:X1,points_vert:Y1,shadow_frag:J1,shadow_vert:Z1,sprite_frag:q1,sprite_vert:j1},ye={common:{diffuse:{value:new ve(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Qt},uv2Transform:{value:new Qt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ve(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ve(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Qt}},sprite:{diffuse:{value:new ve(16777215)},opacity:{value:1},center:{value:new ce(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Qt}}},ci={basic:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.fog]),vertexShader:Ve.meshbasic_vert,fragmentShader:Ve.meshbasic_frag},lambert:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.fog,ye.lights,{emissive:{value:new ve(0)}}]),vertexShader:Ve.meshlambert_vert,fragmentShader:Ve.meshlambert_frag},phong:{uniforms:rn([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new ve(0)},specular:{value:new ve(1118481)},shininess:{value:30}}]),vertexShader:Ve.meshphong_vert,fragmentShader:Ve.meshphong_frag},standard:{uniforms:rn([ye.common,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.roughnessmap,ye.metalnessmap,ye.fog,ye.lights,{emissive:{value:new ve(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ve.meshphysical_vert,fragmentShader:Ve.meshphysical_frag},toon:{uniforms:rn([ye.common,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.gradientmap,ye.fog,ye.lights,{emissive:{value:new ve(0)}}]),vertexShader:Ve.meshtoon_vert,fragmentShader:Ve.meshtoon_frag},matcap:{uniforms:rn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,{matcap:{value:null}}]),vertexShader:Ve.meshmatcap_vert,fragmentShader:Ve.meshmatcap_frag},points:{uniforms:rn([ye.points,ye.fog]),vertexShader:Ve.points_vert,fragmentShader:Ve.points_frag},dashed:{uniforms:rn([ye.common,ye.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ve.linedashed_vert,fragmentShader:Ve.linedashed_frag},depth:{uniforms:rn([ye.common,ye.displacementmap]),vertexShader:Ve.depth_vert,fragmentShader:Ve.depth_frag},normal:{uniforms:rn([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,{opacity:{value:1}}]),vertexShader:Ve.normal_vert,fragmentShader:Ve.normal_frag},sprite:{uniforms:rn([ye.sprite,ye.fog]),vertexShader:Ve.sprite_vert,fragmentShader:Ve.sprite_frag},background:{uniforms:{uvTransform:{value:new Qt},t2D:{value:null}},vertexShader:Ve.background_vert,fragmentShader:Ve.background_frag},cube:{uniforms:rn([ye.envmap,{opacity:{value:1}}]),vertexShader:Ve.cube_vert,fragmentShader:Ve.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ve.equirect_vert,fragmentShader:Ve.equirect_frag},distanceRGBA:{uniforms:rn([ye.common,ye.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ve.distanceRGBA_vert,fragmentShader:Ve.distanceRGBA_frag},shadow:{uniforms:rn([ye.lights,ye.fog,{color:{value:new ve(0)},opacity:{value:1}}]),vertexShader:Ve.shadow_vert,fragmentShader:Ve.shadow_frag}};ci.physical={uniforms:rn([ci.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ce(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ve(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ce},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new ve(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new ve(1,1,1)},specularTintMap:{value:null}}]),vertexShader:Ve.meshphysical_vert,fragmentShader:Ve.meshphysical_frag};function $1(A,e,t,n,i){const r=new ve(0);let s=0,a,o,l=null,c=0,u=null;function h(d,p){let v=!1,g=p.isScene===!0?p.background:null;g&&g.isTexture&&(g=e.get(g));const m=A.xr,w=m.getSession&&m.getSession();w&&w.environmentBlendMode==="additive"&&(g=null),g===null?f(r,s):g&&g.isColor&&(f(g,1),v=!0),(A.autoClear||v)&&A.clear(A.autoClearColor,A.autoClearDepth,A.autoClearStencil),g&&(g.isCubeTexture||g.mapping===ua)?(o===void 0&&(o=new gt(new qi(1,1,1),new Pn({name:"BackgroundCubeMaterial",uniforms:Ws(ci.cube.uniforms),vertexShader:ci.cube.vertexShader,fragmentShader:ci.cube.fragmentShader,side:ct,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(B,y,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o)),o.material.uniforms.envMap.value=g,o.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g.isRenderTargetTexture===!1?-1:1,(l!==g||c!==g.version||u!==A.toneMapping)&&(o.material.needsUpdate=!0,l=g,c=g.version,u=A.toneMapping),d.unshift(o,o.geometry,o.material,0,0,null)):g&&g.isTexture&&(a===void 0&&(a=new gt(new Mi(2,2),new Pn({name:"BackgroundMaterial",uniforms:Ws(ci.background.uniforms),vertexShader:ci.background.vertexShader,fragmentShader:ci.background.fragmentShader,side:Ei,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=g,g.matrixAutoUpdate===!0&&g.updateMatrix(),a.material.uniforms.uvTransform.value.copy(g.matrix),(l!==g||c!==g.version||u!==A.toneMapping)&&(a.material.needsUpdate=!0,l=g,c=g.version,u=A.toneMapping),d.unshift(a,a.geometry,a.material,0,0,null))}function f(d,p){t.buffers.color.setClear(d.r,d.g,d.b,p,i)}return{getClearColor:function(){return r},setClearColor:function(d,p=1){r.set(d),s=p,f(r,s)},getClearAlpha:function(){return s},setClearAlpha:function(d){s=d,f(r,s)},render:h}}function eM(A,e,t,n){const i=A.getParameter(34921),r=n.isWebGL2?null:e.get("OES_vertex_array_object"),s=n.isWebGL2||r!==null,a={},o=p(null);let l=o;function c(Q,F,G,I,V){let te=!1;if(s){const ie=d(I,G,F);l!==ie&&(l=ie,h(l.object)),te=v(I,V),te&&g(I,V)}else{const ie=F.wireframe===!0;(l.geometry!==I.id||l.program!==G.id||l.wireframe!==ie)&&(l.geometry=I.id,l.program=G.id,l.wireframe=ie,te=!0)}Q.isInstancedMesh===!0&&(te=!0),V!==null&&t.update(V,34963),te&&(x(Q,F,G,I),V!==null&&A.bindBuffer(34963,t.get(V).buffer))}function u(){return n.isWebGL2?A.createVertexArray():r.createVertexArrayOES()}function h(Q){return n.isWebGL2?A.bindVertexArray(Q):r.bindVertexArrayOES(Q)}function f(Q){return n.isWebGL2?A.deleteVertexArray(Q):r.deleteVertexArrayOES(Q)}function d(Q,F,G){const I=G.wireframe===!0;let V=a[Q.id];V===void 0&&(V={},a[Q.id]=V);let te=V[F.id];te===void 0&&(te={},V[F.id]=te);let ie=te[I];return ie===void 0&&(ie=p(u()),te[I]=ie),ie}function p(Q){const F=[],G=[],I=[];for(let V=0;V<i;V++)F[V]=0,G[V]=0,I[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:G,attributeDivisors:I,object:Q,attributes:{},index:null}}function v(Q,F){const G=l.attributes,I=Q.attributes;let V=0;for(const te in I){const ie=G[te],ae=I[te];if(ie===void 0||ie.attribute!==ae||ie.data!==ae.data)return!0;V++}return l.attributesNum!==V||l.index!==F}function g(Q,F){const G={},I=Q.attributes;let V=0;for(const te in I){const ie=I[te],ae={};ae.attribute=ie,ie.data&&(ae.data=ie.data),G[te]=ae,V++}l.attributes=G,l.attributesNum=V,l.index=F}function m(){const Q=l.newAttributes;for(let F=0,G=Q.length;F<G;F++)Q[F]=0}function w(Q){B(Q,0)}function B(Q,F){const G=l.newAttributes,I=l.enabledAttributes,V=l.attributeDivisors;G[Q]=1,I[Q]===0&&(A.enableVertexAttribArray(Q),I[Q]=1),V[Q]!==F&&((n.isWebGL2?A:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Q,F),V[Q]=F)}function y(){const Q=l.newAttributes,F=l.enabledAttributes;for(let G=0,I=F.length;G<I;G++)F[G]!==Q[G]&&(A.disableVertexAttribArray(G),F[G]=0)}function C(Q,F,G,I,V,te){n.isWebGL2===!0&&(G===5124||G===5125)?A.vertexAttribIPointer(Q,F,G,V,te):A.vertexAttribPointer(Q,F,G,I,V,te)}function x(Q,F,G,I){if(n.isWebGL2===!1&&(Q.isInstancedMesh||I.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;m();const V=I.attributes,te=G.getAttributes(),ie=F.defaultAttributeValues;for(const ae in te){const ee=te[ae];if(ee>=0){const fe=V[ae];if(fe!==void 0){const ne=fe.normalized,me=fe.itemSize,we=t.get(fe);if(we===void 0)continue;const j=we.buffer,Fe=we.type,xe=we.bytesPerElement;if(fe.isInterleavedBufferAttribute){const Ce=fe.data,W=Ce.stride,b=fe.offset;Ce&&Ce.isInstancedInterleavedBuffer?(B(ee,Ce.meshPerAttribute),I._maxInstanceCount===void 0&&(I._maxInstanceCount=Ce.meshPerAttribute*Ce.count)):w(ee),A.bindBuffer(34962,j),C(ee,me,Fe,ne,W*xe,b*xe)}else fe.isInstancedBufferAttribute?(B(ee,fe.meshPerAttribute),I._maxInstanceCount===void 0&&(I._maxInstanceCount=fe.meshPerAttribute*fe.count)):w(ee),A.bindBuffer(34962,j),C(ee,me,Fe,ne,0,0)}else if(ae==="instanceMatrix"){const ne=t.get(Q.instanceMatrix);if(ne===void 0)continue;const me=ne.buffer,we=ne.type;B(ee+0,1),B(ee+1,1),B(ee+2,1),B(ee+3,1),A.bindBuffer(34962,me),A.vertexAttribPointer(ee+0,4,we,!1,64,0),A.vertexAttribPointer(ee+1,4,we,!1,64,16),A.vertexAttribPointer(ee+2,4,we,!1,64,32),A.vertexAttribPointer(ee+3,4,we,!1,64,48)}else if(ae==="instanceColor"){const ne=t.get(Q.instanceColor);if(ne===void 0)continue;const me=ne.buffer,we=ne.type;B(ee,1),A.bindBuffer(34962,me),A.vertexAttribPointer(ee,3,we,!1,12,0)}else if(ie!==void 0){const ne=ie[ae];if(ne!==void 0)switch(ne.length){case 2:A.vertexAttrib2fv(ee,ne);break;case 3:A.vertexAttrib3fv(ee,ne);break;case 4:A.vertexAttrib4fv(ee,ne);break;default:A.vertexAttrib1fv(ee,ne)}}}}y()}function E(){N();for(const Q in a){const F=a[Q];for(const G in F){const I=F[G];for(const V in I)f(I[V].object),delete I[V];delete F[G]}delete a[Q]}}function M(Q){if(a[Q.id]===void 0)return;const F=a[Q.id];for(const G in F){const I=F[G];for(const V in I)f(I[V].object),delete I[V];delete F[G]}delete a[Q.id]}function H(Q){for(const F in a){const G=a[F];if(G[Q.id]===void 0)continue;const I=G[Q.id];for(const V in I)f(I[V].object),delete I[V];delete G[Q.id]}}function N(){O(),l!==o&&(l=o,h(l.object))}function O(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:c,reset:N,resetDefaultState:O,dispose:E,releaseStatesOfGeometry:M,releaseStatesOfProgram:H,initAttributes:m,enableAttribute:w,disableUnusedAttributes:y}}function tM(A,e,t,n){const i=n.isWebGL2;let r;function s(l){r=l}function a(l,c){A.drawArrays(r,l,c),t.update(c,r,1)}function o(l,c,u){if(u===0)return;let h,f;if(i)h=A,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[f](r,l,c,u),t.update(c,r,u)}this.setMode=s,this.render=a,this.renderInstances=o}function nM(A,e,t){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const x=e.get("EXT_texture_filter_anisotropic");n=A.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function r(x){if(x==="highp"){if(A.getShaderPrecisionFormat(35633,36338).precision>0&&A.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";x="mediump"}return x==="mediump"&&A.getShaderPrecisionFormat(35633,36337).precision>0&&A.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext!="undefined"&&A instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&A instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const o=r(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const l=s||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,u=A.getParameter(34930),h=A.getParameter(35660),f=A.getParameter(3379),d=A.getParameter(34076),p=A.getParameter(34921),v=A.getParameter(36347),g=A.getParameter(36348),m=A.getParameter(36349),w=h>0,B=s||e.has("OES_texture_float"),y=w&&B,C=s?A.getParameter(36183):0;return{isWebGL2:s,drawBuffers:l,getMaxAnisotropy:i,getMaxPrecision:r,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:m,vertexTextures:w,floatFragmentTextures:B,floatVertexTextures:y,maxSamples:C}}function iM(A){const e=this;let t=null,n=0,i=!1,r=!1;const s=new wi,a=new Qt,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h,f){const d=u.length!==0||h||n!==0||i;return i=h,t=c(u,f,0),n=u.length,d},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,l()},this.setState=function(u,h,f){const d=u.clippingPlanes,p=u.clipIntersection,v=u.clipShadows,g=A.get(u);if(!i||d===null||d.length===0||r&&!v)r?c(null):l();else{const m=r?0:n,w=m*4;let B=g.clippingState||null;o.value=B,B=c(d,h,w,f);for(let y=0;y!==w;++y)B[y]=t[y];g.clippingState=B,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=m}};function l(){o.value!==t&&(o.value=t,o.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(u,h,f,d){const p=u!==null?u.length:0;let v=null;if(p!==0){if(v=o.value,d!==!0||v===null){const g=f+p*4,m=h.matrixWorldInverse;a.getNormalMatrix(m),(v===null||v.length<g)&&(v=new Float32Array(g));for(let w=0,B=f;w!==p;++w,B+=4)s.copy(u[w]).applyMatrix4(m,a),s.normal.toArray(v,B),v[B+3]=s.constant}o.value=v,o.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,v}}function rM(A){let e=new WeakMap;function t(s,a){return a===bo?s.mapping=la:a===Mo&&(s.mapping=ca),s}function n(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===bo||a===Mo)if(e.has(s)){const o=e.get(s).texture;return t(o,s.mapping)}else{const o=s.image;if(o&&o.height>0){const l=A.getRenderTarget(),c=new mu(o.height/2);return c.fromEquirectangularTexture(A,s),e.set(s,c),A.setRenderTarget(l),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const o=e.get(a);o!==void 0&&(e.delete(a),o.dispose())}function r(){e=new WeakMap}return{get:n,dispose:r}}class da extends ha{constructor(e=-1,t=1,n=1,i=-1,r=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,s=n+e,a=i+t,o=i-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,s=r+l*this.view.width,a-=c*this.view.offsetY,o=a-c*this.view.height}this.projectionMatrix.makeOrthographic(r,s,a,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}da.prototype.isOrthographicCamera=!0;class pa extends Pn{constructor(e){super(e);this.type="RawShaderMaterial"}}pa.prototype.isRawShaderMaterial=!0;const Ls=4,Tr=8,vi=Math.pow(2,Tr),iy=[.125,.215,.35,.446,.526,.582],ry=Tr-Ls+1+iy.length,os=20,yi={[dn]:0,[Nr]:1,[hu]:2,[qd]:3,[jd]:4,[$d]:5,[uu]:6},cA=new hn({side:ct,depthWrite:!1,depthTest:!1}),AM=new gt(new qi,cA),Dh=new da,{_lodPlanes:Ha,_sizeLods:zg,_sigmas:Hl}=aM(),Kg=new ve;let Ih=null;const uA=(1+Math.sqrt(5))/2,ls=1/uA,Wg=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,uA,ls),new D(0,uA,-ls),new D(ls,0,uA),new D(-ls,0,uA),new D(uA,ls,0),new D(-uA,ls,0)];function Xg(A){const e=Math.max(A.r,A.g,A.b),t=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);return A.multiplyScalar(Math.pow(2,-t)),(t+128)/255}class Ay{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=oM(os),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){Ih=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=Zg(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=Jg(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Ha.length;e++)Ha[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Ih),e.scissorTest=!1,Pl(e,0,0,e.width,e.height)}_fromTexture(e){Ih=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:Bt,minFilter:Bt,generateMipmaps:!1,type:bi,format:$w,encoding:sM(e)?e.encoding:hu,depthBuffer:!1},n=Yg(t);return n.depthBuffer=!e,this._pingPongRenderTarget=Yg(t),n}_compileMaterial(e){const t=new gt(Ha[0],e);this._renderer.compile(t,Dh)}_sceneToCubeUV(e,t,n,i){const a=new It(90,1,t,n),o=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,h=c.outputEncoding,f=c.toneMapping;c.getClearColor(Kg),c.toneMapping=Mr,c.outputEncoding=dn,c.autoClear=!1;let d=!1;const p=e.background;if(p){if(p.isColor){cA.color.copy(p).convertSRGBToLinear(),e.background=null;const v=Xg(cA.color);cA.opacity=v,d=!0}}else{cA.color.copy(Kg).convertSRGBToLinear();const v=Xg(cA.color);cA.opacity=v,d=!0}for(let v=0;v<6;v++){const g=v%3;g==0?(a.up.set(0,o[v],0),a.lookAt(l[v],0,0)):g==1?(a.up.set(0,0,o[v]),a.lookAt(0,l[v],0)):(a.up.set(0,o[v],0),a.lookAt(0,0,l[v])),Pl(i,g*vi,v>2?vi:0,vi,vi),c.setRenderTarget(i),d&&c.render(AM,a),c.render(e,a)}c.toneMapping=f,c.outputEncoding=h,c.autoClear=u}_textureToCubeUV(e,t){const n=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=Zg()):this._equirectShader==null&&(this._equirectShader=Jg());const i=e.isCubeTexture?this._cubemapShader:this._equirectShader,r=new gt(Ha[0],i),s=i.uniforms;s.envMap.value=e,e.isCubeTexture||s.texelSize.value.set(1/e.image.width,1/e.image.height),s.inputEncoding.value=yi[e.encoding],s.outputEncoding.value=yi[t.texture.encoding],Pl(t,0,0,3*vi,2*vi),n.setRenderTarget(t),n.render(r,Dh)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<ry;i++){const r=Math.sqrt(Hl[i]*Hl[i]-Hl[i-1]*Hl[i-1]),s=Wg[(i-1)%Wg.length];this._blur(e,i-1,i,r,s)}t.autoClear=n}_blur(e,t,n,i,r){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",r),this._halfBlur(s,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,s,a){const o=this._renderer,l=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new gt(Ha[i],l),h=l.uniforms,f=zg[n]-1,d=isFinite(r)?Math.PI/(2*f):2*Math.PI/(2*os-1),p=r/d,v=isFinite(r)?1+Math.floor(c*p):os;v>os&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${os}`);const g=[];let m=0;for(let C=0;C<os;++C){const x=C/p,E=Math.exp(-x*x/2);g.push(E),C==0?m+=E:C<v&&(m+=2*E)}for(let C=0;C<g.length;C++)g[C]=g[C]/m;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=g,h.latitudinal.value=s==="latitudinal",a&&(h.poleAxis.value=a),h.dTheta.value=d,h.mipInt.value=Tr-n,h.inputEncoding.value=yi[e.texture.encoding],h.outputEncoding.value=yi[e.texture.encoding];const w=zg[i],B=3*Math.max(0,vi-2*w),y=(i===0?0:2*vi)+2*w*(i>Tr-Ls?i-Tr+Ls:0);Pl(t,B,y,3*w,2*w),o.setRenderTarget(t),o.render(u,Dh)}}function sM(A){return A===void 0||A.type!==bi?!1:A.encoding===dn||A.encoding===Nr||A.encoding===uu}function aM(){const A=[],e=[],t=[];let n=Tr;for(let i=0;i<ry;i++){const r=Math.pow(2,n);e.push(r);let s=1/r;i>Tr-Ls?s=iy[i-Tr+Ls-1]:i==0&&(s=0),t.push(s);const a=1/(r-1),o=-a/2,l=1+a/2,c=[o,o,l,o,l,l,o,o,l,l,o,l],u=6,h=6,f=3,d=2,p=1,v=new Float32Array(f*h*u),g=new Float32Array(d*h*u),m=new Float32Array(p*h*u);for(let B=0;B<u;B++){const y=B%3*2/3-1,C=B>2?0:-1,x=[y,C,0,y+2/3,C,0,y+2/3,C+1,0,y,C,0,y+2/3,C+1,0,y,C+1,0];v.set(x,f*h*B),g.set(c,d*h*B);const E=[B,B,B,B,B,B];m.set(E,p*h*B)}const w=new Ie;w.setAttribute("position",new Pe(v,f)),w.setAttribute("uv",new Pe(g,d)),w.setAttribute("faceIndex",new Pe(m,p)),A.push(w),n>Ls&&n--}return{_lodPlanes:A,_sizeLods:e,_sigmas:t}}function Yg(A){const e=new fn(3*vi,3*vi,A);return e.texture.mapping=ua,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Pl(A,e,t,n,i){A.viewport.set(e,t,n,i),A.scissor.set(e,t,n,i)}function oM(A){const e=new Float32Array(A),t=new D(0,1,0);return new pa({name:"SphericalGaussianBlur",defines:{n:A},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:yi[dn]},outputEncoding:{value:yi[dn]}},vertexShader:rp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Ap()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Qn,depthTest:!1,depthWrite:!1})}function Jg(){const A=new ce(1,1);return new pa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:A},inputEncoding:{value:yi[dn]},outputEncoding:{value:yi[dn]}},vertexShader:rp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Ap()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Qn,depthTest:!1,depthWrite:!1})}function Zg(){return new pa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:yi[dn]},outputEncoding:{value:yi[dn]}},vertexShader:rp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Ap()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Qn,depthTest:!1,depthWrite:!1})}function rp(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ap(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function lM(A){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping,l=o===bo||o===Mo,c=o===la||o===ca;if(l||c){if(e.has(a))return e.get(a).texture;{const u=a.image;if(l&&u&&u.height>0||c&&u&&i(u)){const h=A.getRenderTarget();t===null&&(t=new Ay(A));const f=l?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),A.setRenderTarget(h),a.addEventListener("dispose",r),f.texture}else return null}}}return a}function i(a){let o=0;const l=6;for(let c=0;c<l;c++)a[c]!==void 0&&o++;return o===l}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(l.delete(o),l.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function cM(A){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=A.getExtension("WEBGL_depth_texture")||A.getExtension("MOZ_WEBGL_depth_texture")||A.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=A.getExtension("EXT_texture_filter_anisotropic")||A.getExtension("MOZ_EXT_texture_filter_anisotropic")||A.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=A.getExtension("WEBGL_compressed_texture_s3tc")||A.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||A.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=A.getExtension("WEBGL_compressed_texture_pvrtc")||A.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=A.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(n){const i=t(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function uM(A,e,t,n){const i={},r=new WeakMap;function s(u){const h=u.target;h.index!==null&&e.remove(h.index);for(const d in h.attributes)e.remove(h.attributes[d]);h.removeEventListener("dispose",s),delete i[h.id];const f=r.get(h);f&&(e.remove(f),r.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(u,h){return i[h.id]===!0||(h.addEventListener("dispose",s),i[h.id]=!0,t.memory.geometries++),h}function o(u){const h=u.attributes;for(const d in h)e.update(h[d],34962);const f=u.morphAttributes;for(const d in f){const p=f[d];for(let v=0,g=p.length;v<g;v++)e.update(p[v],34962)}}function l(u){const h=[],f=u.index,d=u.attributes.position;let p=0;if(f!==null){const m=f.array;p=f.version;for(let w=0,B=m.length;w<B;w+=3){const y=m[w+0],C=m[w+1],x=m[w+2];h.push(y,C,C,x,x,y)}}else{const m=d.array;p=d.version;for(let w=0,B=m.length/3-1;w<B;w+=3){const y=w+0,C=w+1,x=w+2;h.push(y,C,C,x,x,y)}}const v=new(ty(h)>65535?pu:du)(h,1);v.version=p;const g=r.get(u);g&&e.remove(g),r.set(u,v)}function c(u){const h=r.get(u);if(h){const f=u.index;f!==null&&h.version<f.version&&l(u)}else l(u);return r.get(u)}return{get:a,update:o,getWireframeAttribute:c}}function hM(A,e,t,n){const i=n.isWebGL2;let r;function s(h){r=h}let a,o;function l(h){a=h.type,o=h.bytesPerElement}function c(h,f){A.drawElements(r,f,a,h*o),t.update(f,r,1)}function u(h,f,d){if(d===0)return;let p,v;if(i)p=A,v="drawElementsInstanced";else if(p=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",p===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[v](r,f,a,h*o,d),t.update(f,r,d)}this.setMode=s,this.setIndex=l,this.render=c,this.renderInstances=u}function fM(A){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(r,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(r/3);break;case 1:t.lines+=a*(r/2);break;case 3:t.lines+=a*(r-1);break;case 2:t.lines+=a*r;break;case 0:t.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function dM(A,e){return A[0]-e[0]}function pM(A,e){return Math.abs(e[1])-Math.abs(A[1])}function gM(A){const e={},t=new Float32Array(8),n=[];for(let r=0;r<8;r++)n[r]=[r,0];function i(r,s,a,o){const l=r.morphTargetInfluences,c=l===void 0?0:l.length;let u=e[s.id];if(u===void 0||u.length!==c){u=[];for(let v=0;v<c;v++)u[v]=[v,0];e[s.id]=u}for(let v=0;v<c;v++){const g=u[v];g[0]=v,g[1]=l[v]}u.sort(pM);for(let v=0;v<8;v++)v<c&&u[v][1]?(n[v][0]=u[v][0],n[v][1]=u[v][1]):(n[v][0]=Number.MAX_SAFE_INTEGER,n[v][1]=0);n.sort(dM);const h=s.morphAttributes.position,f=s.morphAttributes.normal;let d=0;for(let v=0;v<8;v++){const g=n[v],m=g[0],w=g[1];m!==Number.MAX_SAFE_INTEGER&&w?(h&&s.getAttribute("morphTarget"+v)!==h[m]&&s.setAttribute("morphTarget"+v,h[m]),f&&s.getAttribute("morphNormal"+v)!==f[m]&&s.setAttribute("morphNormal"+v,f[m]),t[v]=w,d+=w):(h&&s.hasAttribute("morphTarget"+v)===!0&&s.deleteAttribute("morphTarget"+v),f&&s.hasAttribute("morphNormal"+v)===!0&&s.deleteAttribute("morphNormal"+v),t[v]=0)}const p=s.morphTargetsRelative?1:1-d;o.getUniforms().setValue(A,"morphTargetBaseInfluence",p),o.getUniforms().setValue(A,"morphTargetInfluences",t)}return{update:i}}function mM(A,e,t,n){let i=new WeakMap;function r(o){const l=n.render.frame,c=o.geometry,u=e.get(o,c);return i.get(u)!==l&&(e.update(u),i.set(u,l)),o.isInstancedMesh&&(o.hasEventListener("dispose",a)===!1&&o.addEventListener("dispose",a),t.update(o.instanceMatrix,34962),o.instanceColor!==null&&t.update(o.instanceColor,34962)),u}function s(){i=new WeakMap}function a(o){const l=o.target;l.removeEventListener("dispose",a),t.remove(l.instanceMatrix),l.instanceColor!==null&&t.remove(l.instanceColor)}return{update:r,dispose:s}}class sp extends Et{constructor(e=null,t=1,n=1,i=1){super(null);this.image={data:e,width:t,height:n,depth:i},this.magFilter=Bt,this.minFilter=Bt,this.wrapR=Kt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}sp.prototype.isDataTexture2DArray=!0;class ap extends Et{constructor(e=null,t=1,n=1,i=1){super(null);this.image={data:e,width:t,height:n,depth:i},this.magFilter=Bt,this.minFilter=Bt,this.wrapR=Kt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}ap.prototype.isDataTexture3D=!0;const sy=new Et,vM=new sp,wM=new ap,ay=new fa,qg=[],jg=[],$g=new Float32Array(16),em=new Float32Array(9),tm=new Float32Array(4);function ga(A,e,t){const n=A[0];if(n<=0||n>0)return A;const i=e*t;let r=qg[i];if(r===void 0&&(r=new Float32Array(i),qg[i]=r),e!==0){n.toArray(r,0);for(let s=1,a=0;s!==e;++s)a+=t,A[s].toArray(r,a)}return r}function pn(A,e){if(A.length!==e.length)return!1;for(let t=0,n=A.length;t<n;t++)if(A[t]!==e[t])return!1;return!0}function ln(A,e){for(let t=0,n=e.length;t<n;t++)A[t]=e[t]}function oy(A,e){let t=jg[e];t===void 0&&(t=new Int32Array(e),jg[e]=t);for(let n=0;n!==e;++n)t[n]=A.allocateTextureUnit();return t}function BM(A,e){const t=this.cache;t[0]!==e&&(A.uniform1f(this.addr,e),t[0]=e)}function yM(A,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(A.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(pn(t,e))return;A.uniform2fv(this.addr,e),ln(t,e)}}function xM(A,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(A.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(A.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(pn(t,e))return;A.uniform3fv(this.addr,e),ln(t,e)}}function CM(A,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(A.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(pn(t,e))return;A.uniform4fv(this.addr,e),ln(t,e)}}function _M(A,e){const t=this.cache,n=e.elements;if(n===void 0){if(pn(t,e))return;A.uniformMatrix2fv(this.addr,!1,e),ln(t,e)}else{if(pn(t,n))return;tm.set(n),A.uniformMatrix2fv(this.addr,!1,tm),ln(t,n)}}function EM(A,e){const t=this.cache,n=e.elements;if(n===void 0){if(pn(t,e))return;A.uniformMatrix3fv(this.addr,!1,e),ln(t,e)}else{if(pn(t,n))return;em.set(n),A.uniformMatrix3fv(this.addr,!1,em),ln(t,n)}}function bM(A,e){const t=this.cache,n=e.elements;if(n===void 0){if(pn(t,e))return;A.uniformMatrix4fv(this.addr,!1,e),ln(t,e)}else{if(pn(t,n))return;$g.set(n),A.uniformMatrix4fv(this.addr,!1,$g),ln(t,n)}}function MM(A,e){const t=this.cache;t[0]!==e&&(A.uniform1i(this.addr,e),t[0]=e)}function TM(A,e){const t=this.cache;pn(t,e)||(A.uniform2iv(this.addr,e),ln(t,e))}function SM(A,e){const t=this.cache;pn(t,e)||(A.uniform3iv(this.addr,e),ln(t,e))}function FM(A,e){const t=this.cache;pn(t,e)||(A.uniform4iv(this.addr,e),ln(t,e))}function UM(A,e){const t=this.cache;t[0]!==e&&(A.uniform1ui(this.addr,e),t[0]=e)}function DM(A,e){const t=this.cache;pn(t,e)||(A.uniform2uiv(this.addr,e),ln(t,e))}function IM(A,e){const t=this.cache;pn(t,e)||(A.uniform3uiv(this.addr,e),ln(t,e))}function LM(A,e){const t=this.cache;pn(t,e)||(A.uniform4uiv(this.addr,e),ln(t,e))}function QM(A,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(A.uniform1i(this.addr,i),n[0]=i),t.safeSetTexture2D(e||sy,i)}function RM(A,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(A.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||wM,i)}function HM(A,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(A.uniform1i(this.addr,i),n[0]=i),t.safeSetTextureCube(e||ay,i)}function PM(A,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(A.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||vM,i)}function OM(A){switch(A){case 5126:return BM;case 35664:return yM;case 35665:return xM;case 35666:return CM;case 35674:return _M;case 35675:return EM;case 35676:return bM;case 5124:case 35670:return MM;case 35667:case 35671:return TM;case 35668:case 35672:return SM;case 35669:case 35673:return FM;case 5125:return UM;case 36294:return DM;case 36295:return IM;case 36296:return LM;case 35678:case 36198:case 36298:case 36306:case 35682:return QM;case 35679:case 36299:case 36307:return RM;case 35680:case 36300:case 36308:case 36293:return HM;case 36289:case 36303:case 36311:case 36292:return PM}}function NM(A,e){A.uniform1fv(this.addr,e)}function GM(A,e){const t=ga(e,this.size,2);A.uniform2fv(this.addr,t)}function kM(A,e){const t=ga(e,this.size,3);A.uniform3fv(this.addr,t)}function VM(A,e){const t=ga(e,this.size,4);A.uniform4fv(this.addr,t)}function zM(A,e){const t=ga(e,this.size,4);A.uniformMatrix2fv(this.addr,!1,t)}function KM(A,e){const t=ga(e,this.size,9);A.uniformMatrix3fv(this.addr,!1,t)}function WM(A,e){const t=ga(e,this.size,16);A.uniformMatrix4fv(this.addr,!1,t)}function XM(A,e){A.uniform1iv(this.addr,e)}function YM(A,e){A.uniform2iv(this.addr,e)}function JM(A,e){A.uniform3iv(this.addr,e)}function ZM(A,e){A.uniform4iv(this.addr,e)}function qM(A,e){A.uniform1uiv(this.addr,e)}function jM(A,e){A.uniform2uiv(this.addr,e)}function $M(A,e){A.uniform3uiv(this.addr,e)}function eT(A,e){A.uniform4uiv(this.addr,e)}function tT(A,e,t){const n=e.length,i=oy(t,n);A.uniform1iv(this.addr,i);for(let r=0;r!==n;++r)t.safeSetTexture2D(e[r]||sy,i[r])}function nT(A,e,t){const n=e.length,i=oy(t,n);A.uniform1iv(this.addr,i);for(let r=0;r!==n;++r)t.safeSetTextureCube(e[r]||ay,i[r])}function iT(A){switch(A){case 5126:return NM;case 35664:return GM;case 35665:return kM;case 35666:return VM;case 35674:return zM;case 35675:return KM;case 35676:return WM;case 5124:case 35670:return XM;case 35667:case 35671:return YM;case 35668:case 35672:return JM;case 35669:case 35673:return ZM;case 5125:return qM;case 36294:return jM;case 36295:return $M;case 36296:return eT;case 35678:case 36198:case 36298:case 36306:case 35682:return tT;case 35680:case 36300:case 36308:case 36293:return nT}}function rT(A,e,t){this.id=A,this.addr=t,this.cache=[],this.setValue=OM(e.type)}function ly(A,e,t){this.id=A,this.addr=t,this.cache=[],this.size=e.size,this.setValue=iT(e.type)}ly.prototype.updateCache=function(A){const e=this.cache;A instanceof Float32Array&&e.length!==A.length&&(this.cache=new Float32Array(A.length)),ln(e,A)};function cy(A){this.id=A,this.seq=[],this.map={}}cy.prototype.setValue=function(A,e,t){const n=this.seq;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.setValue(A,e[s.id],t)}};const Lh=/(\w+)(\])?(\[|\.)?/g;function nm(A,e){A.seq.push(e),A.map[e.id]=e}function AT(A,e,t){const n=A.name,i=n.length;for(Lh.lastIndex=0;;){const r=Lh.exec(n),s=Lh.lastIndex;let a=r[1];const o=r[2]==="]",l=r[3];if(o&&(a=a|0),l===void 0||l==="["&&s+2===i){nm(t,l===void 0?new rT(a,A,e):new ly(a,A,e));break}else{let u=t.map[a];u===void 0&&(u=new cy(a),nm(t,u)),t=u}}}function Sr(A,e){this.seq=[],this.map={};const t=A.getProgramParameter(e,35718);for(let n=0;n<t;++n){const i=A.getActiveUniform(e,n),r=A.getUniformLocation(e,i.name);AT(i,r,this)}}Sr.prototype.setValue=function(A,e,t,n){const i=this.map[e];i!==void 0&&i.setValue(A,t,n)};Sr.prototype.setOptional=function(A,e,t){const n=e[t];n!==void 0&&this.setValue(A,t,n)};Sr.upload=function(A,e,t,n){for(let i=0,r=e.length;i!==r;++i){const s=e[i],a=t[s.id];a.needsUpdate!==!1&&s.setValue(A,a.value,n)}};Sr.seqWithValue=function(A,e){const t=[];for(let n=0,i=A.length;n!==i;++n){const r=A[n];r.id in e&&t.push(r)}return t};function im(A,e,t){const n=A.createShader(e);return A.shaderSource(n,t),A.compileShader(n),n}let sT=0;function aT(A){const e=A.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function uy(A){switch(A){case dn:return["Linear","( value )"];case Nr:return["sRGB","( value )"];case hu:return["RGBE","( value )"];case qd:return["RGBM","( value, 7.0 )"];case jd:return["RGBM","( value, 16.0 )"];case $d:return["RGBD","( value, 256.0 )"];case uu:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case GB:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",A),["Linear","( value )"]}}function rm(A,e,t){const n=A.getShaderParameter(e,35713),i=A.getShaderInfoLog(e).trim();if(n&&i==="")return"";const r=A.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+t+`
`+i+aT(r)}function cs(A,e){const t=uy(e);return"vec4 "+A+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function oT(A,e){const t=uy(e);return"vec4 "+A+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function lT(A,e){let t;switch(e){case Ow:t="Linear";break;case Nw:t="Reinhard";break;case Gw:t="OptimizedCineon";break;case kw:t="ACESFilmic";break;case Vw:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+A+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function cT(A){return[A.extensionDerivatives||A.envMapCubeUV||A.bumpMap||A.tangentSpaceNormalMap||A.clearcoatNormalMap||A.flatShading||A.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(A.extensionFragDepth||A.logarithmicDepthBuffer)&&A.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",A.extensionDrawBuffers&&A.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(A.extensionShaderTextureLOD||A.envMap||A.transmission>0)&&A.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ja).join(`
`)}function uT(A){const e=[];for(const t in A){const n=A[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function hT(A,e){const t={},n=A.getProgramParameter(e,35721);for(let i=0;i<n;i++){const s=A.getActiveAttrib(e,i).name;t[s]=A.getAttribLocation(e,s)}return t}function ja(A){return A!==""}function Am(A,e){return A.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sm(A,e){return A.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fT=/^[ \t]*#include +<([\w\d./]+)>/gm;function Zf(A){return A.replace(fT,dT)}function dT(A,e){const t=Ve[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Zf(t)}const pT=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,gT=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function am(A){return A.replace(gT,hy).replace(pT,mT)}function mT(A,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),hy(A,e,t,n)}function hy(A,e,t,n){let i="";for(let r=parseInt(e);r<parseInt(t);r++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function om(A){let e="precision "+A.precision+` float;
precision `+A.precision+" int;";return A.precision==="highp"?e+=`
#define HIGH_PRECISION`:A.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:A.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vT(A){let e="SHADOWMAP_TYPE_BASIC";return A.shadowMapType===Kd?e="SHADOWMAP_TYPE_PCF":A.shadowMapType===mw?e="SHADOWMAP_TYPE_PCF_SOFT":A.shadowMapType===bs&&(e="SHADOWMAP_TYPE_VSM"),e}function wT(A){let e="ENVMAP_TYPE_CUBE";if(A.envMap)switch(A.envMapMode){case la:case ca:e="ENVMAP_TYPE_CUBE";break;case ua:case Ko:e="ENVMAP_TYPE_CUBE_UV";break}return e}function BT(A){let e="ENVMAP_MODE_REFLECTION";if(A.envMap)switch(A.envMapMode){case ca:case Ko:e="ENVMAP_MODE_REFRACTION";break}return e}function yT(A){let e="ENVMAP_BLENDING_NONE";if(A.envMap)switch(A.combine){case zo:e="ENVMAP_BLENDING_MULTIPLY";break;case Hw:e="ENVMAP_BLENDING_MIX";break;case Pw:e="ENVMAP_BLENDING_ADD";break}return e}function xT(A,e,t,n){const i=A.getContext(),r=t.defines;let s=t.vertexShader,a=t.fragmentShader;const o=vT(t),l=wT(t),c=BT(t),u=yT(t),h=A.gammaFactor>0?A.gammaFactor:1,f=t.isWebGL2?"":cT(t),d=uT(r),p=i.createProgram();let v,g,m=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[d].filter(ja).join(`
`),v.length>0&&(v+=`
`),g=[f,d].filter(ja).join(`
`),g.length>0&&(g+=`
`)):(v=[om(t),"#define SHADER_NAME "+t.shaderName,d,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+h,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ja).join(`
`),g=[f,om(t),"#define SHADER_NAME "+t.shaderName,d,t.alphaTest?"#define ALPHATEST "+t.alphaTest+(t.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+h,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.sheen?"#define USE_SHEEN":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Mr?"#define TONE_MAPPING":"",t.toneMapping!==Mr?Ve.tonemapping_pars_fragment:"",t.toneMapping!==Mr?lT("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",Ve.encodings_pars_fragment,t.map?cs("mapTexelToLinear",t.mapEncoding):"",t.matcap?cs("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?cs("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?cs("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularTintMap?cs("specularTintMapTexelToLinear",t.specularTintMapEncoding):"",t.lightMap?cs("lightMapTexelToLinear",t.lightMapEncoding):"",oT("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ja).join(`
`)),s=Zf(s),s=Am(s,t),s=sm(s,t),a=Zf(a),a=Am(a,t),a=sm(a,t),s=am(s),a=am(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,v=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",t.glslVersion===Xf?"":"out highp vec4 pc_fragColor;",t.glslVersion===Xf?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const w=m+v+s,B=m+g+a,y=im(i,35633,w),C=im(i,35632,B);if(i.attachShader(p,y),i.attachShader(p,C),t.index0AttributeName!==void 0?i.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p),A.debug.checkShaderErrors){const M=i.getProgramInfoLog(p).trim(),H=i.getShaderInfoLog(y).trim(),N=i.getShaderInfoLog(C).trim();let O=!0,Q=!0;if(i.getProgramParameter(p,35714)===!1){O=!1;const F=rm(i,y,"vertex"),G=rm(i,C,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(p,35715),"gl.getProgramInfoLog",M,F,G)}else M!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):(H===""||N==="")&&(Q=!1);Q&&(this.diagnostics={runnable:O,programLog:M,vertexShader:{log:H,prefix:v},fragmentShader:{log:N,prefix:g}})}i.deleteShader(y),i.deleteShader(C);let x;this.getUniforms=function(){return x===void 0&&(x=new Sr(i,p)),x};let E;return this.getAttributes=function(){return E===void 0&&(E=hT(i,p)),E},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.name=t.shaderName,this.id=sT++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=y,this.fragmentShader=C,this}function CT(A,e,t,n,i,r,s){const a=[],o=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,u=i.maxVertexUniforms,h=i.vertexTextures;let f=i.precision;const d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function v(x){const M=x.skeleton.bones;if(c)return 1024;{const N=Math.floor((u-20)/4),O=Math.min(N,M.length);return O<M.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+M.length+" bones. This GPU supports "+O+"."),0):O}}function g(x){let E;return x&&x.isTexture?E=x.encoding:x&&x.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),E=x.texture.encoding):E=dn,E}function m(x,E,M,H,N){const O=H.fog,Q=x.isMeshStandardMaterial?H.environment:null,F=(x.isMeshStandardMaterial?t:e).get(x.envMap||Q),G=d[x.type],I=N.isSkinnedMesh?v(N):0;x.precision!==null&&(f=i.getMaxPrecision(x.precision),f!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",f,"instead."));let V,te;if(G){const ee=ci[G];V=ee.vertexShader,te=ee.fragmentShader}else V=x.vertexShader,te=x.fragmentShader;const ie=A.getRenderTarget();return{isWebGL2:o,shaderID:G,shaderName:x.type,vertexShader:V,fragmentShader:te,defines:x.defines,isRawShaderMaterial:x.isRawShaderMaterial===!0,glslVersion:x.glslVersion,precision:f,instancing:N.isInstancedMesh===!0,instancingColor:N.isInstancedMesh===!0&&N.instanceColor!==null,supportsVertexTextures:h,outputEncoding:ie!==null?g(ie.texture):A.outputEncoding,map:!!x.map,mapEncoding:g(x.map),matcap:!!x.matcap,matcapEncoding:g(x.matcap),envMap:!!F,envMapMode:F&&F.mapping,envMapEncoding:g(F),envMapCubeUV:!!F&&(F.mapping===ua||F.mapping===Ko),lightMap:!!x.lightMap,lightMapEncoding:g(x.lightMap),aoMap:!!x.aoMap,emissiveMap:!!x.emissiveMap,emissiveMapEncoding:g(x.emissiveMap),bumpMap:!!x.bumpMap,normalMap:!!x.normalMap,objectSpaceNormalMap:x.normalMapType===kB,tangentSpaceNormalMap:x.normalMapType===Kr,clearcoatMap:!!x.clearcoatMap,clearcoatRoughnessMap:!!x.clearcoatRoughnessMap,clearcoatNormalMap:!!x.clearcoatNormalMap,displacementMap:!!x.displacementMap,roughnessMap:!!x.roughnessMap,metalnessMap:!!x.metalnessMap,specularMap:!!x.specularMap,specularIntensityMap:!!x.specularIntensityMap,specularTintMap:!!x.specularTintMap,specularTintMapEncoding:g(x.specularTintMap),alphaMap:!!x.alphaMap,gradientMap:!!x.gradientMap,sheen:!!x.sheen,transmission:!!x.transmission,transmissionMap:!!x.transmissionMap,thicknessMap:!!x.thicknessMap,combine:x.combine,vertexTangents:!!x.normalMap&&!!N.geometry&&!!N.geometry.attributes.tangent,vertexColors:x.vertexColors,vertexAlphas:x.vertexColors===!0&&!!N.geometry&&!!N.geometry.attributes.color&&N.geometry.attributes.color.itemSize===4,vertexUvs:!!x.map||!!x.bumpMap||!!x.normalMap||!!x.specularMap||!!x.alphaMap||!!x.emissiveMap||!!x.roughnessMap||!!x.metalnessMap||!!x.clearcoatMap||!!x.clearcoatRoughnessMap||!!x.clearcoatNormalMap||!!x.displacementMap||!!x.transmissionMap||!!x.thicknessMap||!!x.specularIntensityMap||!!x.specularTintMap,uvsVertexOnly:!(!!x.map||!!x.bumpMap||!!x.normalMap||!!x.specularMap||!!x.alphaMap||!!x.emissiveMap||!!x.roughnessMap||!!x.metalnessMap||!!x.clearcoatNormalMap||!!x.transmission||!!x.transmissionMap||!!x.thicknessMap||!!x.specularIntensityMap||!!x.specularTintMap)&&!!x.displacementMap,fog:!!O,useFog:x.fog,fogExp2:O&&O.isFogExp2,flatShading:!!x.flatShading,sizeAttenuation:x.sizeAttenuation,logarithmicDepthBuffer:l,skinning:N.isSkinnedMesh===!0&&I>0,maxBones:I,useVertexTexture:c,morphTargets:!!N.geometry&&!!N.geometry.morphAttributes.position,morphNormals:!!N.geometry&&!!N.geometry.morphAttributes.normal,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:x.dithering,shadowMapEnabled:A.shadowMap.enabled&&M.length>0,shadowMapType:A.shadowMap.type,toneMapping:x.toneMapped?A.toneMapping:Mr,physicallyCorrectLights:A.physicallyCorrectLights,premultipliedAlpha:x.premultipliedAlpha,alphaTest:x.alphaTest,doubleSided:x.side===Cn,flipSided:x.side===ct,depthPacking:x.depthPacking!==void 0?x.depthPacking:!1,index0AttributeName:x.index0AttributeName,extensionDerivatives:x.extensions&&x.extensions.derivatives,extensionFragDepth:x.extensions&&x.extensions.fragDepth,extensionDrawBuffers:x.extensions&&x.extensions.drawBuffers,extensionShaderTextureLOD:x.extensions&&x.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:o||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||n.has("EXT_shader_texture_lod"),customProgramCacheKey:x.customProgramCacheKey()}}function w(x){const E=[];if(x.shaderID?E.push(x.shaderID):(E.push(x.fragmentShader),E.push(x.vertexShader)),x.defines!==void 0)for(const M in x.defines)E.push(M),E.push(x.defines[M]);if(x.isRawShaderMaterial===!1){for(let M=0;M<p.length;M++)E.push(x[p[M]]);E.push(A.outputEncoding),E.push(A.gammaFactor)}return E.push(x.customProgramCacheKey),E.join()}function B(x){const E=d[x.type];let M;if(E){const H=ci[E];M=ip.clone(H.uniforms)}else M=x.uniforms;return M}function y(x,E){let M;for(let H=0,N=a.length;H<N;H++){const O=a[H];if(O.cacheKey===E){M=O,++M.usedTimes;break}}return M===void 0&&(M=new xT(A,E,x,r),a.push(M)),M}function C(x){if(--x.usedTimes===0){const E=a.indexOf(x);a[E]=a[a.length-1],a.pop(),x.destroy()}}return{getParameters:m,getProgramCacheKey:w,getUniforms:B,acquireProgram:y,releaseProgram:C,programs:a}}function _T(){let A=new WeakMap;function e(r){let s=A.get(r);return s===void 0&&(s={},A.set(r,s)),s}function t(r){A.delete(r)}function n(r,s,a){A.get(r)[s]=a}function i(){A=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function ET(A,e){return A.groupOrder!==e.groupOrder?A.groupOrder-e.groupOrder:A.renderOrder!==e.renderOrder?A.renderOrder-e.renderOrder:A.program!==e.program?A.program.id-e.program.id:A.material.id!==e.material.id?A.material.id-e.material.id:A.z!==e.z?A.z-e.z:A.id-e.id}function lm(A,e){return A.groupOrder!==e.groupOrder?A.groupOrder-e.groupOrder:A.renderOrder!==e.renderOrder?A.renderOrder-e.renderOrder:A.z!==e.z?e.z-A.z:A.id-e.id}function cm(A){const e=[];let t=0;const n=[],i=[],r=[],s={id:-1};function a(){t=0,n.length=0,i.length=0,r.length=0}function o(f,d,p,v,g,m){let w=e[t];const B=A.get(p);return w===void 0?(w={id:f.id,object:f,geometry:d,material:p,program:B.program||s,groupOrder:v,renderOrder:f.renderOrder,z:g,group:m},e[t]=w):(w.id=f.id,w.object=f,w.geometry=d,w.material=p,w.program=B.program||s,w.groupOrder=v,w.renderOrder=f.renderOrder,w.z=g,w.group=m),t++,w}function l(f,d,p,v,g,m){const w=o(f,d,p,v,g,m);p.transmission>0?i.push(w):p.transparent===!0?r.push(w):n.push(w)}function c(f,d,p,v,g,m){const w=o(f,d,p,v,g,m);p.transmission>0?i.unshift(w):p.transparent===!0?r.unshift(w):n.unshift(w)}function u(f,d){n.length>1&&n.sort(f||ET),i.length>1&&i.sort(d||lm),r.length>1&&r.sort(d||lm)}function h(){for(let f=t,d=e.length;f<d;f++){const p=e[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.program=null,p.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:l,unshift:c,finish:h,sort:u}}function bT(A){let e=new WeakMap;function t(i,r){let s;return e.has(i)===!1?(s=new cm(A),e.set(i,[s])):r>=e.get(i).length?(s=new cm(A),e.get(i).push(s)):s=e.get(i)[r],s}function n(){e=new WeakMap}return{get:t,dispose:n}}function MT(){const A={};return{get:function(e){if(A[e.id]!==void 0)return A[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new D,color:new ve};break;case"SpotLight":t={position:new D,direction:new D,color:new ve,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new D,color:new ve,distance:0,decay:0};break;case"HemisphereLight":t={direction:new D,skyColor:new ve,groundColor:new ve};break;case"RectAreaLight":t={color:new ve,position:new D,halfWidth:new D,halfHeight:new D};break}return A[e.id]=t,t}}}function TT(){const A={};return{get:function(e){if(A[e.id]!==void 0)return A[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ce};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ce};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ce,shadowCameraNear:1,shadowCameraFar:1e3};break}return A[e.id]=t,t}}}let ST=0;function FT(A,e){return(e.castShadow?1:0)-(A.castShadow?1:0)}function UT(A,e){const t=new MT,n=TT(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)i.probe.push(new D);const r=new D,s=new Se,a=new Se;function o(c){let u=0,h=0,f=0;for(let x=0;x<9;x++)i.probe[x].set(0,0,0);let d=0,p=0,v=0,g=0,m=0,w=0,B=0,y=0;c.sort(FT);for(let x=0,E=c.length;x<E;x++){const M=c[x],H=M.color,N=M.intensity,O=M.distance,Q=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)u+=H.r*N,h+=H.g*N,f+=H.b*N;else if(M.isLightProbe)for(let F=0;F<9;F++)i.probe[F].addScaledVector(M.sh.coefficients[F],N);else if(M.isDirectionalLight){const F=t.get(M);if(F.color.copy(M.color).multiplyScalar(M.intensity),M.castShadow){const G=M.shadow,I=n.get(M);I.shadowBias=G.bias,I.shadowNormalBias=G.normalBias,I.shadowRadius=G.radius,I.shadowMapSize=G.mapSize,i.directionalShadow[d]=I,i.directionalShadowMap[d]=Q,i.directionalShadowMatrix[d]=M.shadow.matrix,w++}i.directional[d]=F,d++}else if(M.isSpotLight){const F=t.get(M);if(F.position.setFromMatrixPosition(M.matrixWorld),F.color.copy(H).multiplyScalar(N),F.distance=O,F.coneCos=Math.cos(M.angle),F.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),F.decay=M.decay,M.castShadow){const G=M.shadow,I=n.get(M);I.shadowBias=G.bias,I.shadowNormalBias=G.normalBias,I.shadowRadius=G.radius,I.shadowMapSize=G.mapSize,i.spotShadow[v]=I,i.spotShadowMap[v]=Q,i.spotShadowMatrix[v]=M.shadow.matrix,y++}i.spot[v]=F,v++}else if(M.isRectAreaLight){const F=t.get(M);F.color.copy(H).multiplyScalar(N),F.halfWidth.set(M.width*.5,0,0),F.halfHeight.set(0,M.height*.5,0),i.rectArea[g]=F,g++}else if(M.isPointLight){const F=t.get(M);if(F.color.copy(M.color).multiplyScalar(M.intensity),F.distance=M.distance,F.decay=M.decay,M.castShadow){const G=M.shadow,I=n.get(M);I.shadowBias=G.bias,I.shadowNormalBias=G.normalBias,I.shadowRadius=G.radius,I.shadowMapSize=G.mapSize,I.shadowCameraNear=G.camera.near,I.shadowCameraFar=G.camera.far,i.pointShadow[p]=I,i.pointShadowMap[p]=Q,i.pointShadowMatrix[p]=M.shadow.matrix,B++}i.point[p]=F,p++}else if(M.isHemisphereLight){const F=t.get(M);F.skyColor.copy(M.color).multiplyScalar(N),F.groundColor.copy(M.groundColor).multiplyScalar(N),i.hemi[m]=F,m++}}g>0&&(e.isWebGL2||A.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ye.LTC_FLOAT_1,i.rectAreaLTC2=ye.LTC_FLOAT_2):A.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ye.LTC_HALF_1,i.rectAreaLTC2=ye.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=u,i.ambient[1]=h,i.ambient[2]=f;const C=i.hash;(C.directionalLength!==d||C.pointLength!==p||C.spotLength!==v||C.rectAreaLength!==g||C.hemiLength!==m||C.numDirectionalShadows!==w||C.numPointShadows!==B||C.numSpotShadows!==y)&&(i.directional.length=d,i.spot.length=v,i.rectArea.length=g,i.point.length=p,i.hemi.length=m,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=B,i.spotShadowMatrix.length=y,C.directionalLength=d,C.pointLength=p,C.spotLength=v,C.rectAreaLength=g,C.hemiLength=m,C.numDirectionalShadows=w,C.numPointShadows=B,C.numSpotShadows=y,i.version=ST++)}function l(c,u){let h=0,f=0,d=0,p=0,v=0;const g=u.matrixWorldInverse;for(let m=0,w=c.length;m<w;m++){const B=c[m];if(B.isDirectionalLight){const y=i.directional[h];y.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),y.direction.sub(r),y.direction.transformDirection(g),h++}else if(B.isSpotLight){const y=i.spot[d];y.position.setFromMatrixPosition(B.matrixWorld),y.position.applyMatrix4(g),y.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),y.direction.sub(r),y.direction.transformDirection(g),d++}else if(B.isRectAreaLight){const y=i.rectArea[p];y.position.setFromMatrixPosition(B.matrixWorld),y.position.applyMatrix4(g),a.identity(),s.copy(B.matrixWorld),s.premultiply(g),a.extractRotation(s),y.halfWidth.set(B.width*.5,0,0),y.halfHeight.set(0,B.height*.5,0),y.halfWidth.applyMatrix4(a),y.halfHeight.applyMatrix4(a),p++}else if(B.isPointLight){const y=i.point[f];y.position.setFromMatrixPosition(B.matrixWorld),y.position.applyMatrix4(g),f++}else if(B.isHemisphereLight){const y=i.hemi[v];y.direction.setFromMatrixPosition(B.matrixWorld),y.direction.transformDirection(g),y.direction.normalize(),v++}}}return{setup:o,setupView:l,state:i}}function um(A,e){const t=new UT(A,e),n=[],i=[];function r(){n.length=0,i.length=0}function s(u){n.push(u)}function a(u){i.push(u)}function o(){t.setup(n)}function l(u){t.setupView(n,u)}return{init:r,state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function DT(A,e){let t=new WeakMap;function n(r,s=0){let a;return t.has(r)===!1?(a=new um(A,e),t.set(r,[a])):s>=t.get(r).length?(a=new um(A,e),t.get(r).push(a)):a=t.get(r)[s],a}function i(){t=new WeakMap}return{get:n,dispose:i}}class Xo extends Rt{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=RA,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Xo.prototype.isMeshDepthMaterial=!0;class Yo extends Rt{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Yo.prototype.isMeshDistanceMaterial=!0;var IT=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,LT=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function fy(A,e,t){let n=new Wo;const i=new ce,r=new ce,s=new $e,a=new Xo({depthPacking:ep}),o=new Yo,l={},c=t.maxTextureSize,u={0:ct,1:Ei,2:Cn},h=new Pn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ce},radius:{value:4}},vertexShader:LT,fragmentShader:IT}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const d=new Ie;d.setAttribute("position",new Pe(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new gt(d,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Kd,this.render=function(B,y,C){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||B.length===0)return;const x=A.getRenderTarget(),E=A.getActiveCubeFace(),M=A.getActiveMipmapLevel(),H=A.state;H.setBlending(Qn),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);for(let N=0,O=B.length;N<O;N++){const Q=B[N],F=Q.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const G=F.getFrameExtents();if(i.multiply(G),r.copy(F.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(r.x=Math.floor(c/G.x),i.x=r.x*G.x,F.mapSize.x=r.x),i.y>c&&(r.y=Math.floor(c/G.y),i.y=r.y*G.y,F.mapSize.y=r.y)),F.map===null&&!F.isPointLightShadow&&this.type===bs){const V={minFilter:tt,magFilter:tt,format:Mn};F.map=new fn(i.x,i.y,V),F.map.texture.name=Q.name+".shadowMap",F.mapPass=new fn(i.x,i.y,V),F.camera.updateProjectionMatrix()}if(F.map===null){const V={minFilter:Bt,magFilter:Bt,format:Mn};F.map=new fn(i.x,i.y,V),F.map.texture.name=Q.name+".shadowMap",F.camera.updateProjectionMatrix()}A.setRenderTarget(F.map),A.clear();const I=F.getViewportCount();for(let V=0;V<I;V++){const te=F.getViewport(V);s.set(r.x*te.x,r.y*te.y,r.x*te.z,r.y*te.w),H.viewport(s),F.updateMatrices(Q,V),n=F.getFrustum(),w(y,C,F.camera,Q,this.type)}!F.isPointLightShadow&&this.type===bs&&g(F,C),F.needsUpdate=!1}v.needsUpdate=!1,A.setRenderTarget(x,E,M)};function g(B,y){const C=e.update(p);h.uniforms.shadow_pass.value=B.map.texture,h.uniforms.resolution.value=B.mapSize,h.uniforms.radius.value=B.radius,A.setRenderTarget(B.mapPass),A.clear(),A.renderBufferDirect(y,null,C,h,p,null),f.uniforms.shadow_pass.value=B.mapPass.texture,f.uniforms.resolution.value=B.mapSize,f.uniforms.radius.value=B.radius,A.setRenderTarget(B.map),A.clear(),A.renderBufferDirect(y,null,C,f,p,null)}function m(B,y,C,x,E,M,H){let N=null;const O=x.isPointLight===!0?B.customDistanceMaterial:B.customDepthMaterial;if(O!==void 0?N=O:N=x.isPointLight===!0?o:a,A.localClippingEnabled&&C.clipShadows===!0&&C.clippingPlanes.length!==0){const Q=N.uuid,F=C.uuid;let G=l[Q];G===void 0&&(G={},l[Q]=G);let I=G[F];I===void 0&&(I=N.clone(),G[F]=I),N=I}return N.visible=C.visible,N.wireframe=C.wireframe,H===bs?N.side=C.shadowSide!==null?C.shadowSide:C.side:N.side=C.shadowSide!==null?C.shadowSide:u[C.side],N.clipShadows=C.clipShadows,N.clippingPlanes=C.clippingPlanes,N.clipIntersection=C.clipIntersection,N.wireframeLinewidth=C.wireframeLinewidth,N.linewidth=C.linewidth,x.isPointLight===!0&&N.isMeshDistanceMaterial===!0&&(N.referencePosition.setFromMatrixPosition(x.matrixWorld),N.nearDistance=E,N.farDistance=M),N}function w(B,y,C,x,E){if(B.visible===!1)return;if(B.layers.test(y.layers)&&(B.isMesh||B.isLine||B.isPoints)&&(B.castShadow||B.receiveShadow&&E===bs)&&(!B.frustumCulled||n.intersectsObject(B))){B.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,B.matrixWorld);const N=e.update(B),O=B.material;if(Array.isArray(O)){const Q=N.groups;for(let F=0,G=Q.length;F<G;F++){const I=Q[F],V=O[I.materialIndex];if(V&&V.visible){const te=m(B,N,V,x,C.near,C.far,E);A.renderBufferDirect(C,null,N,te,B,I)}}}else if(O.visible){const Q=m(B,N,O,x,C.near,C.far,E);A.renderBufferDirect(C,null,N,Q,B,null)}}const H=B.children;for(let N=0,O=H.length;N<O;N++)w(H[N],y,C,x,E)}}function QT(A,e,t){const n=t.isWebGL2;function i(){let X=!1;const re=new $e;let $=null;const ge=new $e(0,0,0,0);return{setMask:function(k){$!==k&&!X&&(A.colorMask(k,k,k,k),$=k)},setLocked:function(k){X=k},setClear:function(k,he,De,Be,_e){_e===!0&&(k*=Be,he*=Be,De*=Be),re.set(k,he,De,Be),ge.equals(re)===!1&&(A.clearColor(k,he,De,Be),ge.copy(re))},reset:function(){X=!1,$=null,ge.set(-1,0,0,0)}}}function r(){let X=!1,re=null,$=null,ge=null;return{setTest:function(k){k?me(2929):we(2929)},setMask:function(k){re!==k&&!X&&(A.depthMask(k),re=k)},setFunc:function(k){if($!==k){if(k)switch(k){case Fw:A.depthFunc(512);break;case Uw:A.depthFunc(519);break;case Dw:A.depthFunc(513);break;case Xc:A.depthFunc(515);break;case Iw:A.depthFunc(514);break;case Lw:A.depthFunc(518);break;case Qw:A.depthFunc(516);break;case Rw:A.depthFunc(517);break;default:A.depthFunc(515)}else A.depthFunc(515);$=k}},setLocked:function(k){X=k},setClear:function(k){ge!==k&&(A.clearDepth(k),ge=k)},reset:function(){X=!1,re=null,$=null,ge=null}}}function s(){let X=!1,re=null,$=null,ge=null,k=null,he=null,De=null,Be=null,_e=null;return{setTest:function(Le){X||(Le?me(2960):we(2960))},setMask:function(Le){re!==Le&&!X&&(A.stencilMask(Le),re=Le)},setFunc:function(Le,Oe,ot){($!==Le||ge!==Oe||k!==ot)&&(A.stencilFunc(Le,Oe,ot),$=Le,ge=Oe,k=ot)},setOp:function(Le,Oe,ot){(he!==Le||De!==Oe||Be!==ot)&&(A.stencilOp(Le,Oe,ot),he=Le,De=Oe,Be=ot)},setLocked:function(Le){X=Le},setClear:function(Le){_e!==Le&&(A.clearStencil(Le),_e=Le)},reset:function(){X=!1,re=null,$=null,ge=null,k=null,he=null,De=null,Be=null,_e=null}}}const a=new i,o=new r,l=new s;let c={},u=null,h={},f=null,d=!1,p=null,v=null,g=null,m=null,w=null,B=null,y=null,C=!1,x=null,E=null,M=null,H=null,N=null;const O=A.getParameter(35661);let Q=!1,F=0;const G=A.getParameter(7938);G.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(G)[1]),Q=F>=1):G.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),Q=F>=2);let I=null,V={};const te=A.getParameter(3088),ie=A.getParameter(2978),ae=new $e().fromArray(te),ee=new $e().fromArray(ie);function fe(X,re,$){const ge=new Uint8Array(4),k=A.createTexture();A.bindTexture(X,k),A.texParameteri(X,10241,9728),A.texParameteri(X,10240,9728);for(let he=0;he<$;he++)A.texImage2D(re+he,0,6408,1,1,0,6408,5121,ge);return k}const ne={};ne[3553]=fe(3553,3553,1),ne[34067]=fe(34067,34069,6),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),me(2929),o.setFunc(Xc),U(!1),P(Uf),me(2884),b(Qn);function me(X){c[X]!==!0&&(A.enable(X),c[X]=!0)}function we(X){c[X]!==!1&&(A.disable(X),c[X]=!1)}function j(X){X!==u&&(A.bindFramebuffer(36160,X),u=X)}function Fe(X,re){return re===null&&u!==null&&(re=u),h[X]!==re?(A.bindFramebuffer(X,re),h[X]=re,n&&(X===36009&&(h[36160]=re),X===36160&&(h[36009]=re)),!0):!1}function xe(X){return f!==X?(A.useProgram(X),f=X,!0):!1}const Ce={[fA]:32774,[ww]:32778,[Bw]:32779};if(n)Ce[Qf]=32775,Ce[Rf]=32776;else{const X=e.get("EXT_blend_minmax");X!==null&&(Ce[Qf]=X.MIN_EXT,Ce[Rf]=X.MAX_EXT)}const W={[yw]:0,[xw]:1,[Cw]:768,[Xd]:770,[Sw]:776,[Mw]:774,[Ew]:772,[_w]:769,[Yd]:771,[Tw]:775,[bw]:773};function b(X,re,$,ge,k,he,De,Be){if(X===Qn){d===!0&&(we(3042),d=!1);return}if(d===!1&&(me(3042),d=!0),X!==vw){if(X!==p||Be!==C){if((v!==fA||w!==fA)&&(A.blendEquation(32774),v=fA,w=fA),Be)switch(X){case Ds:A.blendFuncSeparate(1,771,1,771);break;case Df:A.blendFunc(1,1);break;case If:A.blendFuncSeparate(0,0,769,771);break;case Lf:A.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case Ds:A.blendFuncSeparate(770,771,1,771);break;case Df:A.blendFunc(770,1);break;case If:A.blendFunc(0,769);break;case Lf:A.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}g=null,m=null,B=null,y=null,p=X,C=Be}return}k=k||re,he=he||$,De=De||ge,(re!==v||k!==w)&&(A.blendEquationSeparate(Ce[re],Ce[k]),v=re,w=k),($!==g||ge!==m||he!==B||De!==y)&&(A.blendFuncSeparate(W[$],W[ge],W[he],W[De]),g=$,m=ge,B=he,y=De),p=X,C=null}function S(X,re){X.side===Cn?we(2884):me(2884);let $=X.side===ct;re&&($=!$),U($),X.blending===Ds&&X.transparent===!1?b(Qn):b(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),o.setFunc(X.depthFunc),o.setTest(X.depthTest),o.setMask(X.depthWrite),a.setMask(X.colorWrite);const ge=X.stencilWrite;l.setTest(ge),ge&&(l.setMask(X.stencilWriteMask),l.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),l.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),R(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?me(32926):we(32926)}function U(X){x!==X&&(X?A.frontFace(2304):A.frontFace(2305),x=X)}function P(X){X!==pw?(me(2884),X!==E&&(X===Uf?A.cullFace(1029):X===gw?A.cullFace(1028):A.cullFace(1032))):we(2884),E=X}function z(X){X!==M&&(Q&&A.lineWidth(X),M=X)}function R(X,re,$){X?(me(32823),(H!==re||N!==$)&&(A.polygonOffset(re,$),H=re,N=$)):we(32823)}function T(X){X?me(3089):we(3089)}function _(X){X===void 0&&(X=33984+O-1),I!==X&&(A.activeTexture(X),I=X)}function K(X,re){I===null&&_();let $=V[I];$===void 0&&($={type:void 0,texture:void 0},V[I]=$),($.type!==X||$.texture!==re)&&(A.bindTexture(X,re||ne[X]),$.type=X,$.texture=re)}function Y(){const X=V[I];X!==void 0&&X.type!==void 0&&(A.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function J(){try{A.compressedTexImage2D.apply(A,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function se(){try{A.texImage2D.apply(A,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function oe(){try{A.texImage3D.apply(A,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function le(X){ae.equals(X)===!1&&(A.scissor(X.x,X.y,X.z,X.w),ae.copy(X))}function ue(X){ee.equals(X)===!1&&(A.viewport(X.x,X.y,X.z,X.w),ee.copy(X))}function pe(){A.disable(3042),A.disable(2884),A.disable(2929),A.disable(32823),A.disable(3089),A.disable(2960),A.disable(32926),A.blendEquation(32774),A.blendFunc(1,0),A.blendFuncSeparate(1,0,1,0),A.colorMask(!0,!0,!0,!0),A.clearColor(0,0,0,0),A.depthMask(!0),A.depthFunc(513),A.clearDepth(1),A.stencilMask(4294967295),A.stencilFunc(519,0,4294967295),A.stencilOp(7680,7680,7680),A.clearStencil(0),A.cullFace(1029),A.frontFace(2305),A.polygonOffset(0,0),A.activeTexture(33984),A.bindFramebuffer(36160,null),n===!0&&(A.bindFramebuffer(36009,null),A.bindFramebuffer(36008,null)),A.useProgram(null),A.lineWidth(1),A.scissor(0,0,A.canvas.width,A.canvas.height),A.viewport(0,0,A.canvas.width,A.canvas.height),c={},I=null,V={},u=null,h={},f=null,d=!1,p=null,v=null,g=null,m=null,w=null,B=null,y=null,C=!1,x=null,E=null,M=null,H=null,N=null,ae.set(0,0,A.canvas.width,A.canvas.height),ee.set(0,0,A.canvas.width,A.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:me,disable:we,bindFramebuffer:Fe,bindXRFramebuffer:j,useProgram:xe,setBlending:b,setMaterial:S,setFlipSided:U,setCullFace:P,setLineWidth:z,setPolygonOffset:R,setScissorTest:T,activeTexture:_,bindTexture:K,unbindTexture:Y,compressedTexImage2D:J,texImage2D:se,texImage3D:oe,scissor:le,viewport:ue,reset:pe}}function RT(A,e,t,n,i,r,s){const a=i.isWebGL2,o=i.maxTextures,l=i.maxCubemapSize,c=i.maxTextureSize,u=i.maxSamples,h=new WeakMap;let f,d=!1;try{d=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(T,_){return d?new OffscreenCanvas(T,_):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(T,_,K,Y){let J=1;if((T.width>Y||T.height>Y)&&(J=Y/Math.max(T.width,T.height)),J<1||_===!0)if(typeof HTMLImageElement!="undefined"&&T instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&T instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&T instanceof ImageBitmap){const se=_?KB:Math.floor,oe=se(J*T.width),le=se(J*T.height);f===void 0&&(f=p(oe,le));const ue=K?p(oe,le):f;return ue.width=oe,ue.height=le,ue.getContext("2d").drawImage(T,0,0,oe,le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+T.width+"x"+T.height+") to ("+oe+"x"+le+")."),ue}else return"data"in T&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+T.width+"x"+T.height+")."),T;return T}function g(T){return Yf(T.width)&&Yf(T.height)}function m(T){return a?!1:T.wrapS!==Kt||T.wrapT!==Kt||T.minFilter!==Bt&&T.minFilter!==tt}function w(T,_){return T.generateMipmaps&&_&&T.minFilter!==Bt&&T.minFilter!==tt}function B(T,_,K,Y,J=1){A.generateMipmap(T);const se=n.get(_);se.__maxMipLevel=Math.log2(Math.max(K,Y,J))}function y(T,_,K){if(a===!1)return _;if(T!==null){if(A[T]!==void 0)return A[T];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+T+"'")}let Y=_;return _===6403&&(K===5126&&(Y=33326),K===5131&&(Y=33325),K===5121&&(Y=33321)),_===6407&&(K===5126&&(Y=34837),K===5131&&(Y=34843),K===5121&&(Y=32849)),_===6408&&(K===5126&&(Y=34836),K===5131&&(Y=34842),K===5121&&(Y=32856)),(Y===33325||Y===33326||Y===34842||Y===34836)&&e.get("EXT_color_buffer_float"),Y}function C(T){return T===Bt||T===To||T===So?9728:9729}function x(T){const _=T.target;_.removeEventListener("dispose",x),M(_),_.isVideoTexture&&h.delete(_),s.memory.textures--}function E(T){const _=T.target;_.removeEventListener("dispose",E),H(_)}function M(T){const _=n.get(T);_.__webglInit!==void 0&&(A.deleteTexture(_.__webglTexture),n.remove(T))}function H(T){const _=T.texture,K=n.get(T),Y=n.get(_);if(!!T){if(Y.__webglTexture!==void 0&&(A.deleteTexture(Y.__webglTexture),s.memory.textures--),T.depthTexture&&T.depthTexture.dispose(),T.isWebGLCubeRenderTarget)for(let J=0;J<6;J++)A.deleteFramebuffer(K.__webglFramebuffer[J]),K.__webglDepthbuffer&&A.deleteRenderbuffer(K.__webglDepthbuffer[J]);else A.deleteFramebuffer(K.__webglFramebuffer),K.__webglDepthbuffer&&A.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&A.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer&&A.deleteRenderbuffer(K.__webglColorRenderbuffer),K.__webglDepthRenderbuffer&&A.deleteRenderbuffer(K.__webglDepthRenderbuffer);if(T.isWebGLMultipleRenderTargets)for(let J=0,se=_.length;J<se;J++){const oe=n.get(_[J]);oe.__webglTexture&&(A.deleteTexture(oe.__webglTexture),s.memory.textures--),n.remove(_[J])}n.remove(_),n.remove(T)}}let N=0;function O(){N=0}function Q(){const T=N;return T>=o&&console.warn("THREE.WebGLTextures: Trying to use "+T+" texture units while this GPU supports only "+o),N+=1,T}function F(T,_){const K=n.get(T);if(T.isVideoTexture&&S(T),T.version>0&&K.__version!==T.version){const Y=T.image;if(Y===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Y.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{fe(K,T,_);return}}t.activeTexture(33984+_),t.bindTexture(3553,K.__webglTexture)}function G(T,_){const K=n.get(T);if(T.version>0&&K.__version!==T.version){fe(K,T,_);return}t.activeTexture(33984+_),t.bindTexture(35866,K.__webglTexture)}function I(T,_){const K=n.get(T);if(T.version>0&&K.__version!==T.version){fe(K,T,_);return}t.activeTexture(33984+_),t.bindTexture(32879,K.__webglTexture)}function V(T,_){const K=n.get(T);if(T.version>0&&K.__version!==T.version){ne(K,T,_);return}t.activeTexture(33984+_),t.bindTexture(34067,K.__webglTexture)}const te={[Or]:10497,[Kt]:33071,[ks]:33648},ie={[Bt]:9728,[To]:9984,[So]:9986,[tt]:9729,[lu]:9985,[er]:9987};function ae(T,_,K){if(K?(A.texParameteri(T,10242,te[_.wrapS]),A.texParameteri(T,10243,te[_.wrapT]),(T===32879||T===35866)&&A.texParameteri(T,32882,te[_.wrapR]),A.texParameteri(T,10240,ie[_.magFilter]),A.texParameteri(T,10241,ie[_.minFilter])):(A.texParameteri(T,10242,33071),A.texParameteri(T,10243,33071),(T===32879||T===35866)&&A.texParameteri(T,32882,33071),(_.wrapS!==Kt||_.wrapT!==Kt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),A.texParameteri(T,10240,C(_.magFilter)),A.texParameteri(T,10241,C(_.minFilter)),_.minFilter!==Bt&&_.minFilter!==tt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Y=e.get("EXT_texture_filter_anisotropic");if(_.type===Vi&&e.has("OES_texture_float_linear")===!1||a===!1&&_.type===CA&&e.has("OES_texture_half_float_linear")===!1)return;(_.anisotropy>1||n.get(_).__currentAnisotropy)&&(A.texParameterf(T,Y.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(_.anisotropy,i.getMaxAnisotropy())),n.get(_).__currentAnisotropy=_.anisotropy)}}function ee(T,_){T.__webglInit===void 0&&(T.__webglInit=!0,_.addEventListener("dispose",x),T.__webglTexture=A.createTexture(),s.memory.textures++)}function fe(T,_,K){let Y=3553;_.isDataTexture2DArray&&(Y=35866),_.isDataTexture3D&&(Y=32879),ee(T,_),t.activeTexture(33984+K),t.bindTexture(Y,T.__webglTexture),A.pixelStorei(37440,_.flipY),A.pixelStorei(37441,_.premultiplyAlpha),A.pixelStorei(3317,_.unpackAlignment),A.pixelStorei(37443,0);const J=m(_)&&g(_.image)===!1,se=v(_.image,J,!1,c),oe=g(se)||a,le=r.convert(_.format);let ue=r.convert(_.type),pe=y(_.internalFormat,le,ue);ae(Y,_,oe);let X;const re=_.mipmaps;if(_.isDepthTexture)pe=6402,a?_.type===Vi?pe=36012:_.type===Is?pe=33190:_.type===_A?pe=35056:pe=33189:_.type===Vi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),_.format===EA&&pe===6402&&_.type!==Fo&&_.type!==Is&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),_.type=Fo,ue=r.convert(_.type)),_.format===SA&&pe===6402&&(pe=34041,_.type!==_A&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),_.type=_A,ue=r.convert(_.type))),t.texImage2D(3553,0,pe,se.width,se.height,0,le,ue,null);else if(_.isDataTexture)if(re.length>0&&oe){for(let $=0,ge=re.length;$<ge;$++)X=re[$],t.texImage2D(3553,$,pe,X.width,X.height,0,le,ue,X.data);_.generateMipmaps=!1,T.__maxMipLevel=re.length-1}else t.texImage2D(3553,0,pe,se.width,se.height,0,le,ue,se.data),T.__maxMipLevel=0;else if(_.isCompressedTexture){for(let $=0,ge=re.length;$<ge;$++)X=re[$],_.format!==Mn&&_.format!==Wi?le!==null?t.compressedTexImage2D(3553,$,pe,X.width,X.height,0,X.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,$,pe,X.width,X.height,0,le,ue,X.data);T.__maxMipLevel=re.length-1}else if(_.isDataTexture2DArray)t.texImage3D(35866,0,pe,se.width,se.height,se.depth,0,le,ue,se.data),T.__maxMipLevel=0;else if(_.isDataTexture3D)t.texImage3D(32879,0,pe,se.width,se.height,se.depth,0,le,ue,se.data),T.__maxMipLevel=0;else if(re.length>0&&oe){for(let $=0,ge=re.length;$<ge;$++)X=re[$],t.texImage2D(3553,$,pe,le,ue,X);_.generateMipmaps=!1,T.__maxMipLevel=re.length-1}else t.texImage2D(3553,0,pe,le,ue,se),T.__maxMipLevel=0;w(_,oe)&&B(Y,_,se.width,se.height),T.__version=_.version,_.onUpdate&&_.onUpdate(_)}function ne(T,_,K){if(_.image.length!==6)return;ee(T,_),t.activeTexture(33984+K),t.bindTexture(34067,T.__webglTexture),A.pixelStorei(37440,_.flipY),A.pixelStorei(37441,_.premultiplyAlpha),A.pixelStorei(3317,_.unpackAlignment),A.pixelStorei(37443,0);const Y=_&&(_.isCompressedTexture||_.image[0].isCompressedTexture),J=_.image[0]&&_.image[0].isDataTexture,se=[];for(let $=0;$<6;$++)!Y&&!J?se[$]=v(_.image[$],!1,!0,l):se[$]=J?_.image[$].image:_.image[$];const oe=se[0],le=g(oe)||a,ue=r.convert(_.format),pe=r.convert(_.type),X=y(_.internalFormat,ue,pe);ae(34067,_,le);let re;if(Y){for(let $=0;$<6;$++){re=se[$].mipmaps;for(let ge=0;ge<re.length;ge++){const k=re[ge];_.format!==Mn&&_.format!==Wi?ue!==null?t.compressedTexImage2D(34069+$,ge,X,k.width,k.height,0,k.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+$,ge,X,k.width,k.height,0,ue,pe,k.data)}}T.__maxMipLevel=re.length-1}else{re=_.mipmaps;for(let $=0;$<6;$++)if(J){t.texImage2D(34069+$,0,X,se[$].width,se[$].height,0,ue,pe,se[$].data);for(let ge=0;ge<re.length;ge++){const he=re[ge].image[$].image;t.texImage2D(34069+$,ge+1,X,he.width,he.height,0,ue,pe,he.data)}}else{t.texImage2D(34069+$,0,X,ue,pe,se[$]);for(let ge=0;ge<re.length;ge++){const k=re[ge];t.texImage2D(34069+$,ge+1,X,ue,pe,k.image[$])}}T.__maxMipLevel=re.length}w(_,le)&&B(34067,_,oe.width,oe.height),T.__version=_.version,_.onUpdate&&_.onUpdate(_)}function me(T,_,K,Y,J){const se=r.convert(K.format),oe=r.convert(K.type),le=y(K.internalFormat,se,oe);J===32879||J===35866?t.texImage3D(J,0,le,_.width,_.height,_.depth,0,se,oe,null):t.texImage2D(J,0,le,_.width,_.height,0,se,oe,null),t.bindFramebuffer(36160,T),A.framebufferTexture2D(36160,Y,J,n.get(K).__webglTexture,0),t.bindFramebuffer(36160,null)}function we(T,_,K){if(A.bindRenderbuffer(36161,T),_.depthBuffer&&!_.stencilBuffer){let Y=33189;if(K){const J=_.depthTexture;J&&J.isDepthTexture&&(J.type===Vi?Y=36012:J.type===Is&&(Y=33190));const se=b(_);A.renderbufferStorageMultisample(36161,se,Y,_.width,_.height)}else A.renderbufferStorage(36161,Y,_.width,_.height);A.framebufferRenderbuffer(36160,36096,36161,T)}else if(_.depthBuffer&&_.stencilBuffer){if(K){const Y=b(_);A.renderbufferStorageMultisample(36161,Y,35056,_.width,_.height)}else A.renderbufferStorage(36161,34041,_.width,_.height);A.framebufferRenderbuffer(36160,33306,36161,T)}else{const Y=_.isWebGLMultipleRenderTargets===!0?_.texture[0]:_.texture,J=r.convert(Y.format),se=r.convert(Y.type),oe=y(Y.internalFormat,J,se);if(K){const le=b(_);A.renderbufferStorageMultisample(36161,le,oe,_.width,_.height)}else A.renderbufferStorage(36161,oe,_.width,_.height)}A.bindRenderbuffer(36161,null)}function j(T,_){if(_&&_.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,T),!(_.depthTexture&&_.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(_.depthTexture).__webglTexture||_.depthTexture.image.width!==_.width||_.depthTexture.image.height!==_.height)&&(_.depthTexture.image.width=_.width,_.depthTexture.image.height=_.height,_.depthTexture.needsUpdate=!0),F(_.depthTexture,0);const Y=n.get(_.depthTexture).__webglTexture;if(_.depthTexture.format===EA)A.framebufferTexture2D(36160,36096,3553,Y,0);else if(_.depthTexture.format===SA)A.framebufferTexture2D(36160,33306,3553,Y,0);else throw new Error("Unknown depthTexture format")}function Fe(T){const _=n.get(T),K=T.isWebGLCubeRenderTarget===!0;if(T.depthTexture){if(K)throw new Error("target.depthTexture not supported in Cube render targets");j(_.__webglFramebuffer,T)}else if(K){_.__webglDepthbuffer=[];for(let Y=0;Y<6;Y++)t.bindFramebuffer(36160,_.__webglFramebuffer[Y]),_.__webglDepthbuffer[Y]=A.createRenderbuffer(),we(_.__webglDepthbuffer[Y],T,!1)}else t.bindFramebuffer(36160,_.__webglFramebuffer),_.__webglDepthbuffer=A.createRenderbuffer(),we(_.__webglDepthbuffer,T,!1);t.bindFramebuffer(36160,null)}function xe(T){const _=T.texture,K=n.get(T),Y=n.get(_);T.addEventListener("dispose",E),T.isWebGLMultipleRenderTargets!==!0&&(Y.__webglTexture=A.createTexture(),Y.__version=_.version,s.memory.textures++);const J=T.isWebGLCubeRenderTarget===!0,se=T.isWebGLMultipleRenderTargets===!0,oe=T.isWebGLMultisampleRenderTarget===!0,le=_.isDataTexture3D||_.isDataTexture2DArray,ue=g(T)||a;if(a&&_.format===Wi&&(_.type===Vi||_.type===CA)&&(_.format=Mn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),J){K.__webglFramebuffer=[];for(let pe=0;pe<6;pe++)K.__webglFramebuffer[pe]=A.createFramebuffer()}else if(K.__webglFramebuffer=A.createFramebuffer(),se)if(i.drawBuffers){const pe=T.texture;for(let X=0,re=pe.length;X<re;X++){const $=n.get(pe[X]);$.__webglTexture===void 0&&($.__webglTexture=A.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(oe)if(a){K.__webglMultisampledFramebuffer=A.createFramebuffer(),K.__webglColorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(36161,K.__webglColorRenderbuffer);const pe=r.convert(_.format),X=r.convert(_.type),re=y(_.internalFormat,pe,X),$=b(T);A.renderbufferStorageMultisample(36161,$,re,T.width,T.height),t.bindFramebuffer(36160,K.__webglMultisampledFramebuffer),A.framebufferRenderbuffer(36160,36064,36161,K.__webglColorRenderbuffer),A.bindRenderbuffer(36161,null),T.depthBuffer&&(K.__webglDepthRenderbuffer=A.createRenderbuffer(),we(K.__webglDepthRenderbuffer,T,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(J){t.bindTexture(34067,Y.__webglTexture),ae(34067,_,ue);for(let pe=0;pe<6;pe++)me(K.__webglFramebuffer[pe],T,_,36064,34069+pe);w(_,ue)&&B(34067,_,T.width,T.height),t.bindTexture(34067,null)}else if(se){const pe=T.texture;for(let X=0,re=pe.length;X<re;X++){const $=pe[X],ge=n.get($);t.bindTexture(3553,ge.__webglTexture),ae(3553,$,ue),me(K.__webglFramebuffer,T,$,36064+X,3553),w($,ue)&&B(3553,$,T.width,T.height)}t.bindTexture(3553,null)}else{let pe=3553;le&&(a?pe=_.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(pe,Y.__webglTexture),ae(pe,_,ue),me(K.__webglFramebuffer,T,_,36064,pe),w(_,ue)&&B(pe,_,T.width,T.height,T.depth),t.bindTexture(pe,null)}T.depthBuffer&&Fe(T)}function Ce(T){const _=g(T)||a,K=T.isWebGLMultipleRenderTargets===!0?T.texture:[T.texture];for(let Y=0,J=K.length;Y<J;Y++){const se=K[Y];if(w(se,_)){const oe=T.isWebGLCubeRenderTarget?34067:3553,le=n.get(se).__webglTexture;t.bindTexture(oe,le),B(oe,se,T.width,T.height),t.bindTexture(oe,null)}}}function W(T){if(T.isWebGLMultisampleRenderTarget)if(a){const _=T.width,K=T.height;let Y=16384;T.depthBuffer&&(Y|=256),T.stencilBuffer&&(Y|=1024);const J=n.get(T);t.bindFramebuffer(36008,J.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,J.__webglFramebuffer),A.blitFramebuffer(0,0,_,K,0,0,_,K,Y,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,J.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function b(T){return a&&T.isWebGLMultisampleRenderTarget?Math.min(u,T.samples):0}function S(T){const _=s.render.frame;h.get(T)!==_&&(h.set(T,_),T.update())}let U=!1,P=!1;function z(T,_){T&&T.isWebGLRenderTarget&&(U===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),U=!0),T=T.texture),F(T,_)}function R(T,_){T&&T.isWebGLCubeRenderTarget&&(P===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),P=!0),T=T.texture),V(T,_)}this.allocateTextureUnit=Q,this.resetTextureUnits=O,this.setTexture2D=F,this.setTexture2DArray=G,this.setTexture3D=I,this.setTextureCube=V,this.setupRenderTarget=xe,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=W,this.safeSetTexture2D=z,this.safeSetTextureCube=R}function dy(A,e,t){const n=t.isWebGL2;function i(r){let s;if(r===bi)return 5121;if(r===Xw)return 32819;if(r===Yw)return 32820;if(r===Jw)return 33635;if(r===zw)return 5120;if(r===Kw)return 5122;if(r===Fo)return 5123;if(r===Ww)return 5124;if(r===Is)return 5125;if(r===Vi)return 5126;if(r===CA)return n?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(r===Zw)return 6406;if(r===Wi)return 6407;if(r===Mn)return 6408;if(r===qw)return 6409;if(r===jw)return 6410;if(r===EA)return 6402;if(r===SA)return 34041;if(r===eB)return 6403;if(r===tB)return 36244;if(r===nB)return 33319;if(r===iB)return 33320;if(r===rB)return 36248;if(r===AB)return 36249;if(r===Hf||r===Pf||r===Of||r===Nf)if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Hf)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Pf)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Of)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Nf)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Gf||r===kf||r===Vf||r===zf)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===Gf)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===kf)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Vf)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===zf)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===sB)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((r===Kf||r===Wf)&&(s=e.get("WEBGL_compressed_texture_etc"),s!==null)){if(r===Kf)return s.COMPRESSED_RGB8_ETC2;if(r===Wf)return s.COMPRESSED_RGBA8_ETC2_EAC}if(r===aB||r===oB||r===lB||r===cB||r===uB||r===hB||r===fB||r===dB||r===pB||r===gB||r===mB||r===vB||r===wB||r===BB||r===xB||r===CB||r===_B||r===EB||r===bB||r===MB||r===TB||r===SB||r===FB||r===UB||r===DB||r===IB||r===LB||r===QB)return s=e.get("WEBGL_compressed_texture_astc"),s!==null?r:null;if(r===yB)return s=e.get("EXT_texture_compression_bptc"),s!==null?r:null;if(r===_A)return n?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class op extends It{constructor(e=[]){super();this.cameras=e}}op.prototype.isArrayCamera=!0;class xi extends ze{constructor(){super();this.type="Group"}}xi.prototype.isGroup=!0;const HT={type:"move"};class Qh{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,s=null;const a=this._targetRay,o=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(HT))),l&&e.hand){s=!0;for(const p of e.hand.values()){const v=t.getJointPose(p,n);if(l.joints[p.jointName]===void 0){const m=new xi;m.matrixAutoUpdate=!1,m.visible=!1,l.joints[p.jointName]=m,l.add(m)}const g=l.joints[p.jointName];v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=v.radius),g.visible=v!==null}const c=l.joints["index-finger-tip"],u=l.joints["thumb-tip"],h=c.position.distanceTo(u.position),f=.02,d=.005;l.inputState.pinching&&h>f+d?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=f-d&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else o!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),this}}class PT extends fi{constructor(e,t){super();const n=this,i=e.state;let r=null,s=1,a=null,o="local-floor",l=null,c=null,u=null,h=null,f=null;const d=[],p=new Map,v=new It;v.layers.enable(1),v.viewport=new $e;const g=new It;g.layers.enable(2),g.viewport=new $e;const m=[v,g],w=new op;w.layers.enable(1),w.layers.enable(2);let B=null,y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(I){let V=d[I];return V===void 0&&(V=new Qh,d[I]=V),V.getTargetRaySpace()},this.getControllerGrip=function(I){let V=d[I];return V===void 0&&(V=new Qh,d[I]=V),V.getGripSpace()},this.getHand=function(I){let V=d[I];return V===void 0&&(V=new Qh,d[I]=V),V.getHandSpace()};function C(I){const V=p.get(I.inputSource);V&&V.dispatchEvent({type:I.type,data:I.inputSource})}function x(){p.forEach(function(I,V){I.disconnect(V)}),p.clear(),B=null,y=null,i.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),G.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(I){s=I,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(I){o=I,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return r},this.setSession=async function(I){if(r=I,r!==null){r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",x),r.addEventListener("inputsourceschange",E);const V=t.getContextAttributes();if(V.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0){const te={antialias:V.antialias,alpha:V.alpha,depth:V.depth,stencil:V.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,t,te),r.updateRenderState({baseLayer:f})}else{let te=0;if(V.antialias){const ie={antialias:!0,alpha:V.alpha,depth:V.depth,stencil:V.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,t,ie),r.updateRenderState({layers:[f]})}else{V.depth&&(te=V.stencil?34041:6402);const ie={colorFormat:V.alpha?6408:6407,depthFormat:te,scaleFactor:s};c=new XRWebGLBinding(r,t),h=c.createProjectionLayer(ie),u=t.createFramebuffer(),r.updateRenderState({layers:[h]})}}a=await r.requestReferenceSpace(o),G.setContext(r),G.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function E(I){const V=r.inputSources;for(let te=0;te<d.length;te++)p.set(V[te],d[te]);for(let te=0;te<I.removed.length;te++){const ie=I.removed[te],ae=p.get(ie);ae&&(ae.dispatchEvent({type:"disconnected",data:ie}),p.delete(ie))}for(let te=0;te<I.added.length;te++){const ie=I.added[te],ae=p.get(ie);ae&&ae.dispatchEvent({type:"connected",data:ie})}}const M=new D,H=new D;function N(I,V,te){M.setFromMatrixPosition(V.matrixWorld),H.setFromMatrixPosition(te.matrixWorld);const ie=M.distanceTo(H),ae=V.projectionMatrix.elements,ee=te.projectionMatrix.elements,fe=ae[14]/(ae[10]-1),ne=ae[14]/(ae[10]+1),me=(ae[9]+1)/ae[5],we=(ae[9]-1)/ae[5],j=(ae[8]-1)/ae[0],Fe=(ee[8]+1)/ee[0],xe=fe*j,Ce=fe*Fe,W=ie/(-j+Fe),b=W*-j;V.matrixWorld.decompose(I.position,I.quaternion,I.scale),I.translateX(b),I.translateZ(W),I.matrixWorld.compose(I.position,I.quaternion,I.scale),I.matrixWorldInverse.copy(I.matrixWorld).invert();const S=fe+W,U=ne+W,P=xe-b,z=Ce+(ie-b),R=me*ne/U*S,T=we*ne/U*S;I.projectionMatrix.makePerspective(P,z,R,T,S,U)}function O(I,V){V===null?I.matrixWorld.copy(I.matrix):I.matrixWorld.multiplyMatrices(V.matrixWorld,I.matrix),I.matrixWorldInverse.copy(I.matrixWorld).invert()}this.updateCamera=function(I){if(r===null)return;w.near=g.near=v.near=I.near,w.far=g.far=v.far=I.far,(B!==w.near||y!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),B=w.near,y=w.far);const V=I.parent,te=w.cameras;O(w,V);for(let ae=0;ae<te.length;ae++)O(te[ae],V);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),I.position.copy(w.position),I.quaternion.copy(w.quaternion),I.scale.copy(w.scale),I.matrix.copy(w.matrix),I.matrixWorld.copy(w.matrixWorld);const ie=I.children;for(let ae=0,ee=ie.length;ae<ee;ae++)ie[ae].updateMatrixWorld(!0);te.length===2?N(w,v,g):w.projectionMatrix.copy(v.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(I){h!==null&&(h.fixedFoveation=I),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=I)};let Q=null;function F(I,V){if(l=V.getViewerPose(a),l!==null){const ie=l.views;f!==null&&i.bindXRFramebuffer(f.framebuffer);let ae=!1;ie.length!==w.cameras.length&&(w.cameras.length=0,ae=!0);for(let ee=0;ee<ie.length;ee++){const fe=ie[ee];let ne=null;if(f!==null)ne=f.getViewport(fe);else{const we=c.getViewSubImage(h,fe);i.bindXRFramebuffer(u),we.depthStencilTexture!==void 0&&t.framebufferTexture2D(36160,36096,3553,we.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,we.colorTexture,0),ne=we.viewport}const me=m[ee];me.matrix.fromArray(fe.transform.matrix),me.projectionMatrix.fromArray(fe.projectionMatrix),me.viewport.set(ne.x,ne.y,ne.width,ne.height),ee===0&&w.matrix.copy(me.matrix),ae===!0&&w.cameras.push(me)}}const te=r.inputSources;for(let ie=0;ie<d.length;ie++){const ae=d[ie],ee=te[ie];ae.update(ee,V,a)}Q&&Q(I,V)}const G=new ny;G.setAnimationLoop(F),this.setAnimationLoop=function(I){Q=I},this.dispose=function(){}}}function OT(A){function e(g,m){g.fogColor.value.copy(m.color),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)}function t(g,m,w,B,y){m.isMeshBasicMaterial?n(g,m):m.isMeshLambertMaterial?(n(g,m),o(g,m)):m.isMeshToonMaterial?(n(g,m),c(g,m)):m.isMeshPhongMaterial?(n(g,m),l(g,m)):m.isMeshStandardMaterial?(n(g,m),m.isMeshPhysicalMaterial?h(g,m,y):u(g,m)):m.isMeshMatcapMaterial?(n(g,m),f(g,m)):m.isMeshDepthMaterial?(n(g,m),d(g,m)):m.isMeshDistanceMaterial?(n(g,m),p(g,m)):m.isMeshNormalMaterial?(n(g,m),v(g,m)):m.isLineBasicMaterial?(i(g,m),m.isLineDashedMaterial&&r(g,m)):m.isPointsMaterial?s(g,m,w,B):m.isSpriteMaterial?a(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function n(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.specularMap&&(g.specularMap.value=m.specularMap);const w=A.get(m).envMap;if(w){g.envMap.value=w,g.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=m.reflectivity,g.refractionRatio.value=m.refractionRatio;const C=A.get(w).__maxMipLevel;C!==void 0&&(g.maxMipLevel.value=C)}m.lightMap&&(g.lightMap.value=m.lightMap,g.lightMapIntensity.value=m.lightMapIntensity),m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity);let B;m.map?B=m.map:m.specularMap?B=m.specularMap:m.displacementMap?B=m.displacementMap:m.normalMap?B=m.normalMap:m.bumpMap?B=m.bumpMap:m.roughnessMap?B=m.roughnessMap:m.metalnessMap?B=m.metalnessMap:m.alphaMap?B=m.alphaMap:m.emissiveMap?B=m.emissiveMap:m.clearcoatMap?B=m.clearcoatMap:m.clearcoatNormalMap?B=m.clearcoatNormalMap:m.clearcoatRoughnessMap?B=m.clearcoatRoughnessMap:m.specularIntensityMap?B=m.specularIntensityMap:m.specularTintMap&&(B=m.specularTintMap),B!==void 0&&(B.isWebGLRenderTarget&&(B=B.texture),B.matrixAutoUpdate===!0&&B.updateMatrix(),g.uvTransform.value.copy(B.matrix));let y;m.aoMap?y=m.aoMap:m.lightMap&&(y=m.lightMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),g.uv2Transform.value.copy(y.matrix))}function i(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity}function r(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}function s(g,m,w,B){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*w,g.scale.value=B*.5,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let y;m.map?y=m.map:m.alphaMap&&(y=m.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),g.uvTransform.value.copy(y.matrix))}function a(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let w;m.map?w=m.map:m.alphaMap&&(w=m.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function o(g,m){m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap)}function l(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===ct&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===ct&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function c(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===ct&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===ct&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function u(g,m){g.roughness.value=m.roughness,g.metalness.value=m.metalness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===ct&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===ct&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),A.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}function h(g,m,w){u(g,m),g.reflectivity.value=m.reflectivity,g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.sheen&&g.sheen.value.copy(m.sheen),m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),g.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===ct&&g.clearcoatNormalScale.value.negate()),g.transmission.value=m.transmission,m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap),m.transmission>0&&(g.transmissionSamplerMap.value=w.texture,g.transmissionSamplerSize.value.set(w.width,w.height)),g.thickness.value=m.thickness,m.thicknessMap&&(g.thicknessMap.value=m.thicknessMap),g.attenuationDistance.value=m.attenuationDistance,g.attenuationTint.value.copy(m.attenuationTint),g.specularIntensity.value=m.specularIntensity,g.specularTint.value.copy(m.specularTint),m.specularIntensityMap&&(g.specularIntensityMap.value=m.specularIntensityMap),m.specularTintMap&&(g.specularTintMap.value=m.specularTintMap)}function f(g,m){m.matcap&&(g.matcap.value=m.matcap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===ct&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===ct&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function d(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function p(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),g.referencePosition.value.copy(m.referencePosition),g.nearDistance.value=m.nearDistance,g.farDistance.value=m.farDistance}function v(g,m){m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===ct&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===ct&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function NT(){const A=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return A.style.display="block",A}function rt(A={}){const e=A.canvas!==void 0?A.canvas:NT(),t=A.context!==void 0?A.context:null,n=A.alpha!==void 0?A.alpha:!1,i=A.depth!==void 0?A.depth:!0,r=A.stencil!==void 0?A.stencil:!0,s=A.antialias!==void 0?A.antialias:!1,a=A.premultipliedAlpha!==void 0?A.premultipliedAlpha:!0,o=A.preserveDrawingBuffer!==void 0?A.preserveDrawingBuffer:!1,l=A.powerPreference!==void 0?A.powerPreference:"default",c=A.failIfMajorPerformanceCaveat!==void 0?A.failIfMajorPerformanceCaveat:!1;let u=null,h=null;const f=[],d=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=dn,this.physicallyCorrectLights=!1,this.toneMapping=Mr,this.toneMappingExposure=1;const p=this;let v=!1,g=0,m=0,w=null,B=-1,y=null;const C=new $e,x=new $e;let E=null,M=e.width,H=e.height,N=1,O=null,Q=null;const F=new $e(0,0,M,H),G=new $e(0,0,M,H);let I=!1;const V=[],te=new Wo;let ie=!1,ae=!1,ee=null;const fe=new Se,ne=new D,me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function we(){return w===null?N:1}let j=t;function Fe(L,q){for(let Z=0;Z<L.length;Z++){const Ae=L[Z],de=e.getContext(Ae,q);if(de!==null)return de}return null}try{const L={alpha:n,depth:i,stencil:r,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:c};if(e.addEventListener("webglcontextlost",De,!1),e.addEventListener("webglcontextrestored",Be,!1),j===null){const q=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&q.shift(),j=Fe(q,L),j===null)throw Fe(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}let xe,Ce,W,b,S,U,P,z,R,T,_,K,Y,J,se,oe,le,ue,pe,X,re,$,ge;function k(){xe=new cM(j),Ce=new nM(j,xe,A),xe.init(Ce),$=new dy(j,xe,Ce),W=new QT(j,xe,Ce),V[0]=1029,b=new fM(j),S=new _T,U=new RT(j,xe,W,S,Ce,$,b),P=new rM(p),z=new lM(p),R=new UE(j,Ce),ge=new eM(j,xe,R,Ce),T=new uM(j,R,b,ge),_=new mM(j,T,R,b),pe=new gM(j),oe=new iM(S),K=new CT(p,P,z,xe,Ce,ge,oe),Y=new OT(S),J=new bT(S),se=new DT(xe,Ce),ue=new $1(p,P,W,_,a),le=new fy(p,_,Ce),X=new tM(j,xe,b,Ce),re=new hM(j,xe,b,Ce),b.programs=K.programs,p.capabilities=Ce,p.extensions=xe,p.properties=S,p.renderLists=J,p.shadowMap=le,p.state=W,p.info=b}k();const he=new PT(p,j);this.xr=he,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const L=xe.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=xe.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(L){L!==void 0&&(N=L,this.setSize(M,H,!1))},this.getSize=function(L){return L.set(M,H)},this.setSize=function(L,q,Z){if(he.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=L,H=q,e.width=Math.floor(L*N),e.height=Math.floor(q*N),Z!==!1&&(e.style.width=L+"px",e.style.height=q+"px"),this.setViewport(0,0,L,q)},this.getDrawingBufferSize=function(L){return L.set(M*N,H*N).floor()},this.setDrawingBufferSize=function(L,q,Z){M=L,H=q,N=Z,e.width=Math.floor(L*Z),e.height=Math.floor(q*Z),this.setViewport(0,0,L,q)},this.getCurrentViewport=function(L){return L.copy(C)},this.getViewport=function(L){return L.copy(F)},this.setViewport=function(L,q,Z,Ae){L.isVector4?F.set(L.x,L.y,L.z,L.w):F.set(L,q,Z,Ae),W.viewport(C.copy(F).multiplyScalar(N).floor())},this.getScissor=function(L){return L.copy(G)},this.setScissor=function(L,q,Z,Ae){L.isVector4?G.set(L.x,L.y,L.z,L.w):G.set(L,q,Z,Ae),W.scissor(x.copy(G).multiplyScalar(N).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function(L){W.setScissorTest(I=L)},this.setOpaqueSort=function(L){O=L},this.setTransparentSort=function(L){Q=L},this.getClearColor=function(L){return L.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(L,q,Z){let Ae=0;(L===void 0||L)&&(Ae|=16384),(q===void 0||q)&&(Ae|=256),(Z===void 0||Z)&&(Ae|=1024),j.clear(Ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",De,!1),e.removeEventListener("webglcontextrestored",Be,!1),J.dispose(),se.dispose(),S.dispose(),P.dispose(),z.dispose(),_.dispose(),ge.dispose(),he.dispose(),he.removeEventListener("sessionstart",$n),he.removeEventListener("sessionend",tr),ee&&(ee.dispose(),ee=null),ht.stop()};function De(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Be(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const L=b.autoReset,q=le.enabled,Z=le.autoUpdate,Ae=le.needsUpdate,de=le.type;k(),b.autoReset=L,le.enabled=q,le.autoUpdate=Z,le.needsUpdate=Ae,le.type=de}function _e(L){const q=L.target;q.removeEventListener("dispose",_e),Le(q)}function Le(L){Oe(L),S.remove(L)}function Oe(L){const q=S.get(L).programs;q!==void 0&&q.forEach(function(Z){K.releaseProgram(Z)})}function ot(L,q){L.render(function(Z){p.renderBufferImmediate(Z,q)})}this.renderBufferImmediate=function(L,q){ge.initAttributes();const Z=S.get(L);L.hasPositions&&!Z.position&&(Z.position=j.createBuffer()),L.hasNormals&&!Z.normal&&(Z.normal=j.createBuffer()),L.hasUvs&&!Z.uv&&(Z.uv=j.createBuffer()),L.hasColors&&!Z.color&&(Z.color=j.createBuffer());const Ae=q.getAttributes();L.hasPositions&&(j.bindBuffer(34962,Z.position),j.bufferData(34962,L.positionArray,35048),ge.enableAttribute(Ae.position),j.vertexAttribPointer(Ae.position,3,5126,!1,0,0)),L.hasNormals&&(j.bindBuffer(34962,Z.normal),j.bufferData(34962,L.normalArray,35048),ge.enableAttribute(Ae.normal),j.vertexAttribPointer(Ae.normal,3,5126,!1,0,0)),L.hasUvs&&(j.bindBuffer(34962,Z.uv),j.bufferData(34962,L.uvArray,35048),ge.enableAttribute(Ae.uv),j.vertexAttribPointer(Ae.uv,2,5126,!1,0,0)),L.hasColors&&(j.bindBuffer(34962,Z.color),j.bufferData(34962,L.colorArray,35048),ge.enableAttribute(Ae.color),j.vertexAttribPointer(Ae.color,3,5126,!1,0,0)),ge.disableUnusedAttributes(),j.drawArrays(4,0,L.count),L.count=0},this.renderBufferDirect=function(L,q,Z,Ae,de,Re){q===null&&(q=me);const He=de.isMesh&&de.matrixWorld.determinant()<0,Ue=Gt(L,q,Ae,de);W.setMaterial(Ae,He);let Ne=Z.index;const je=Z.attributes.position;if(Ne===null){if(je===void 0||je.count===0)return}else if(Ne.count===0)return;let Ge=1;Ae.wireframe===!0&&(Ne=T.getWireframeAttribute(Z),Ge=2),(Z.morphAttributes.position!==void 0||Z.morphAttributes.normal!==void 0)&&pe.update(de,Z,Ae,Ue),ge.setup(de,Ae,Ue,Z,Ne);let ke,Qe=X;Ne!==null&&(ke=R.get(Ne),Qe=re,Qe.setIndex(ke));const ei=Ne!==null?Ne.count:je.count,ft=Z.drawRange.start*Ge,Tn=Z.drawRange.count*Ge,cn=Re!==null?Re.start*Ge:0,ti=Re!==null?Re.count*Ge:1/0,Me=Math.max(ft,cn),mt=Math.min(ei,ft+Tn,cn+ti)-1,Gn=Math.max(0,mt-Me+1);if(Gn!==0){if(de.isMesh)Ae.wireframe===!0?(W.setLineWidth(Ae.wireframeLinewidth*we()),Qe.setMode(1)):Qe.setMode(4);else if(de.isLine){let xt=Ae.linewidth;xt===void 0&&(xt=1),W.setLineWidth(xt*we()),de.isLineSegments?Qe.setMode(1):de.isLineLoop?Qe.setMode(2):Qe.setMode(3)}else de.isPoints?Qe.setMode(0):de.isSprite&&Qe.setMode(4);if(de.isInstancedMesh)Qe.renderInstances(Me,Gn,de.count);else if(Z.isInstancedBufferGeometry){const xt=Math.min(Z.instanceCount,Z._maxInstanceCount);Qe.renderInstances(Me,Gn,xt)}else Qe.render(Me,Gn)}},this.compile=function(L,q){h=se.get(L),h.init(),d.push(h),L.traverseVisible(function(Z){Z.isLight&&Z.layers.test(q.layers)&&(h.pushLight(Z),Z.castShadow&&h.pushShadow(Z))}),h.setupLights(),L.traverse(function(Z){const Ae=Z.material;if(Ae)if(Array.isArray(Ae))for(let de=0;de<Ae.length;de++){const Re=Ae[de];Jt(Re,L,Z)}else Jt(Ae,L,Z)}),d.pop(),h=null};let Ke=null;function Je(L){Ke&&Ke(L)}function $n(){ht.stop()}function tr(){ht.start()}const ht=new ny;ht.setAnimationLoop(Je),typeof window!="undefined"&&ht.setContext(window),this.setAnimationLoop=function(L){Ke=L,he.setAnimationLoop(L),L===null?ht.stop():ht.start()},he.addEventListener("sessionstart",$n),he.addEventListener("sessionend",tr),this.render=function(L,q){if(q!==void 0&&q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;L.autoUpdate===!0&&L.updateMatrixWorld(),q.parent===null&&q.updateMatrixWorld(),he.enabled===!0&&he.isPresenting===!0&&(he.cameraAutoUpdate===!0&&he.updateCamera(q),q=he.getCamera()),L.isScene===!0&&L.onBeforeRender(p,L,q,w),h=se.get(L,d.length),h.init(),d.push(h),fe.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),te.setFromProjectionMatrix(fe),ae=this.localClippingEnabled,ie=oe.init(this.clippingPlanes,ae,q),u=J.get(L,f.length),u.init(),f.push(u),nr(L,q,0,p.sortObjects),u.finish(),p.sortObjects===!0&&u.sort(O,Q),ie===!0&&oe.beginShadows();const Z=h.state.shadowsArray;le.render(Z,L,q),h.setupLights(),h.setupLightsView(q),ie===!0&&oe.endShadows(),this.info.autoReset===!0&&this.info.reset(),ue.render(u,L);const Ae=u.opaque,de=u.transmissive,Re=u.transparent;Ae.length>0&&Xe(Ae,L,q),de.length>0&&At(Ae,de,L,q),Re.length>0&&Xe(Re,L,q),w!==null&&(U.updateMultisampleRenderTarget(w),U.updateRenderTargetMipmap(w)),L.isScene===!0&&L.onAfterRender(p,L,q),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),ge.resetDefaultState(),B=-1,y=null,d.pop(),d.length>0?h=d[d.length-1]:h=null,f.pop(),f.length>0?u=f[f.length-1]:u=null};function nr(L,q,Z,Ae){if(L.visible===!1)return;if(L.layers.test(q.layers)){if(L.isGroup)Z=L.renderOrder;else if(L.isLOD)L.autoUpdate===!0&&L.update(q);else if(L.isLight)h.pushLight(L),L.castShadow&&h.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||te.intersectsSprite(L)){Ae&&ne.setFromMatrixPosition(L.matrixWorld).applyMatrix4(fe);const He=_.update(L),Ue=L.material;Ue.visible&&u.push(L,He,Ue,Z,ne.z,null)}}else if(L.isImmediateRenderObject)Ae&&ne.setFromMatrixPosition(L.matrixWorld).applyMatrix4(fe),u.push(L,null,L.material,Z,ne.z,null);else if((L.isMesh||L.isLine||L.isPoints)&&(L.isSkinnedMesh&&L.skeleton.frame!==b.render.frame&&(L.skeleton.update(),L.skeleton.frame=b.render.frame),!L.frustumCulled||te.intersectsObject(L))){Ae&&ne.setFromMatrixPosition(L.matrixWorld).applyMatrix4(fe);const He=_.update(L),Ue=L.material;if(Array.isArray(Ue)){const Ne=He.groups;for(let je=0,Ge=Ne.length;je<Ge;je++){const ke=Ne[je],Qe=Ue[ke.materialIndex];Qe&&Qe.visible&&u.push(L,He,Qe,Z,ne.z,ke)}}else Ue.visible&&u.push(L,He,Ue,Z,ne.z,null)}}const Re=L.children;for(let He=0,Ue=Re.length;He<Ue;He++)nr(Re[He],q,Z,Ae)}function At(L,q,Z,Ae){if(ee===null){const Ue=s===!0&&Ce.isWebGL2===!0?fu:fn;ee=new Ue(1024,1024,{generateMipmaps:!0,type:$.convert(CA)!==null?CA:bi,minFilter:er,magFilter:Bt,wrapS:Kt,wrapT:Kt})}const de=p.getRenderTarget();p.setRenderTarget(ee),p.clear();const Re=p.toneMapping;p.toneMapping=Mr,Xe(L,Z,Ae),p.toneMapping=Re,U.updateMultisampleRenderTarget(ee),U.updateRenderTargetMipmap(ee),p.setRenderTarget(de),Xe(q,Z,Ae)}function Xe(L,q,Z){const Ae=q.isScene===!0?q.overrideMaterial:null;if(Z.isArrayCamera){const de=Z.cameras;for(let Re=0,He=de.length;Re<He;Re++){const Ue=de[Re];W.viewport(C.copy(Ue.viewport)),h.setupLightsView(Ue);for(let Ne=0,je=L.length;Ne<je;Ne++){const Ge=L[Ne],ke=Ge.object,Qe=Ge.geometry,ei=Ae===null?Ge.material:Ae,ft=Ge.group;ke.layers.test(Ue.layers)&&Ut(ke,q,Ue,Qe,ei,ft)}}}else for(let de=0,Re=L.length;de<Re;de++){const He=L[de],Ue=He.object,Ne=He.geometry,je=Ae===null?He.material:Ae,Ge=He.group;Ut(Ue,q,Z,Ne,je,Ge)}}function Ut(L,q,Z,Ae,de,Re){if(L.onBeforeRender(p,q,Z,Ae,de,Re),L.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),L.isImmediateRenderObject){const He=Gt(Z,q,de,L);W.setMaterial(de),ge.reset(),ot(L,He)}else de.transparent===!0&&de.side===Cn?(de.side=ct,de.needsUpdate=!0,p.renderBufferDirect(Z,q,Ae,de,L,Re),de.side=Ei,de.needsUpdate=!0,p.renderBufferDirect(Z,q,Ae,de,L,Re),de.side=Cn):p.renderBufferDirect(Z,q,Ae,de,L,Re);L.onAfterRender(p,q,Z,Ae,de,Re)}function Jt(L,q,Z){q.isScene!==!0&&(q=me);const Ae=S.get(L),de=h.state.lights,Re=h.state.shadowsArray,He=de.state.version,Ue=K.getParameters(L,de.state,Re,q,Z),Ne=K.getProgramCacheKey(Ue);let je=Ae.programs;Ae.environment=L.isMeshStandardMaterial?q.environment:null,Ae.fog=q.fog,Ae.envMap=(L.isMeshStandardMaterial?z:P).get(L.envMap||Ae.environment),je===void 0&&(L.addEventListener("dispose",_e),je=new Map,Ae.programs=je);let Ge=je.get(Ne);if(Ge!==void 0){if(Ae.currentProgram===Ge&&Ae.lightsStateVersion===He)return nt(L,Ue),Ge}else Ue.uniforms=K.getUniforms(L),L.onBuild(Ue,p),L.onBeforeCompile(Ue,p),Ge=K.acquireProgram(Ue,Ne),je.set(Ne,Ge),Ae.uniforms=Ue.uniforms;const ke=Ae.uniforms;(!L.isShaderMaterial&&!L.isRawShaderMaterial||L.clipping===!0)&&(ke.clippingPlanes=oe.uniform),nt(L,Ue),Ae.needsLights=Ht(L),Ae.lightsStateVersion=He,Ae.needsLights&&(ke.ambientLightColor.value=de.state.ambient,ke.lightProbe.value=de.state.probe,ke.directionalLights.value=de.state.directional,ke.directionalLightShadows.value=de.state.directionalShadow,ke.spotLights.value=de.state.spot,ke.spotLightShadows.value=de.state.spotShadow,ke.rectAreaLights.value=de.state.rectArea,ke.ltc_1.value=de.state.rectAreaLTC1,ke.ltc_2.value=de.state.rectAreaLTC2,ke.pointLights.value=de.state.point,ke.pointLightShadows.value=de.state.pointShadow,ke.hemisphereLights.value=de.state.hemi,ke.directionalShadowMap.value=de.state.directionalShadowMap,ke.directionalShadowMatrix.value=de.state.directionalShadowMatrix,ke.spotShadowMap.value=de.state.spotShadowMap,ke.spotShadowMatrix.value=de.state.spotShadowMatrix,ke.pointShadowMap.value=de.state.pointShadowMap,ke.pointShadowMatrix.value=de.state.pointShadowMatrix);const Qe=Ge.getUniforms(),ei=Sr.seqWithValue(Qe.seq,ke);return Ae.currentProgram=Ge,Ae.uniformsList=ei,Ge}function nt(L,q){const Z=S.get(L);Z.outputEncoding=q.outputEncoding,Z.instancing=q.instancing,Z.skinning=q.skinning,Z.morphTargets=q.morphTargets,Z.morphNormals=q.morphNormals,Z.numClippingPlanes=q.numClippingPlanes,Z.numIntersection=q.numClipIntersection,Z.vertexAlphas=q.vertexAlphas,Z.vertexTangents=q.vertexTangents}function Gt(L,q,Z,Ae){q.isScene!==!0&&(q=me),U.resetTextureUnits();const de=q.fog,Re=Z.isMeshStandardMaterial?q.environment:null,He=w===null?p.outputEncoding:w.texture.encoding,Ue=(Z.isMeshStandardMaterial?z:P).get(Z.envMap||Re),Ne=Z.vertexColors===!0&&!!Ae.geometry&&!!Ae.geometry.attributes.color&&Ae.geometry.attributes.color.itemSize===4,je=!!Ae.geometry&&!!Ae.geometry.attributes.tangent,Ge=!!Ae.geometry&&!!Ae.geometry.morphAttributes.position,ke=!!Ae.geometry&&!!Ae.geometry.morphAttributes.normal,Qe=S.get(Z),ei=h.state.lights;if(ie===!0&&(ae===!0||L!==y)){const xt=L===y&&Z.id===B;oe.setState(Z,L,xt)}let ft=!1;Z.version===Qe.__version?(Qe.needsLights&&Qe.lightsStateVersion!==ei.state.version||Qe.outputEncoding!==He||Ae.isInstancedMesh&&Qe.instancing===!1||!Ae.isInstancedMesh&&Qe.instancing===!0||Ae.isSkinnedMesh&&Qe.skinning===!1||!Ae.isSkinnedMesh&&Qe.skinning===!0||Qe.envMap!==Ue||Z.fog&&Qe.fog!==de||Qe.numClippingPlanes!==void 0&&(Qe.numClippingPlanes!==oe.numPlanes||Qe.numIntersection!==oe.numIntersection)||Qe.vertexAlphas!==Ne||Qe.vertexTangents!==je||Qe.morphTargets!==Ge||Qe.morphNormals!==ke)&&(ft=!0):(ft=!0,Qe.__version=Z.version);let Tn=Qe.currentProgram;ft===!0&&(Tn=Jt(Z,q,Ae));let cn=!1,ti=!1,Me=!1;const mt=Tn.getUniforms(),Gn=Qe.uniforms;if(W.useProgram(Tn.program)&&(cn=!0,ti=!0,Me=!0),Z.id!==B&&(B=Z.id,ti=!0),cn||y!==L){if(mt.setValue(j,"projectionMatrix",L.projectionMatrix),Ce.logarithmicDepthBuffer&&mt.setValue(j,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),y!==L&&(y=L,ti=!0,Me=!0),Z.isShaderMaterial||Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshStandardMaterial||Z.envMap){const xt=mt.map.cameraPosition;xt!==void 0&&xt.setValue(j,ne.setFromMatrixPosition(L.matrixWorld))}(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial)&&mt.setValue(j,"isOrthographic",L.isOrthographicCamera===!0),(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial||Z.isShadowMaterial||Ae.isSkinnedMesh)&&mt.setValue(j,"viewMatrix",L.matrixWorldInverse)}if(Ae.isSkinnedMesh){mt.setOptional(j,Ae,"bindMatrix"),mt.setOptional(j,Ae,"bindMatrixInverse");const xt=Ae.skeleton;xt&&(Ce.floatVertexTextures?(xt.boneTexture===null&&xt.computeBoneTexture(),mt.setValue(j,"boneTexture",xt.boneTexture,U),mt.setValue(j,"boneTextureSize",xt.boneTextureSize)):mt.setOptional(j,xt,"boneMatrices"))}return(ti||Qe.receiveShadow!==Ae.receiveShadow)&&(Qe.receiveShadow=Ae.receiveShadow,mt.setValue(j,"receiveShadow",Ae.receiveShadow)),ti&&(mt.setValue(j,"toneMappingExposure",p.toneMappingExposure),Qe.needsLights&&Nn(Gn,Me),de&&Z.fog&&Y.refreshFogUniforms(Gn,de),Y.refreshMaterialUniforms(Gn,Z,N,H,ee),Sr.upload(j,Qe.uniformsList,Gn,U)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(Sr.upload(j,Qe.uniformsList,Gn,U),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&mt.setValue(j,"center",Ae.center),mt.setValue(j,"modelViewMatrix",Ae.modelViewMatrix),mt.setValue(j,"normalMatrix",Ae.normalMatrix),mt.setValue(j,"modelMatrix",Ae.matrixWorld),Tn}function Nn(L,q){L.ambientLightColor.needsUpdate=q,L.lightProbe.needsUpdate=q,L.directionalLights.needsUpdate=q,L.directionalLightShadows.needsUpdate=q,L.pointLights.needsUpdate=q,L.pointLightShadows.needsUpdate=q,L.spotLights.needsUpdate=q,L.spotLightShadows.needsUpdate=q,L.rectAreaLights.needsUpdate=q,L.hemisphereLights.needsUpdate=q}function Ht(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&L.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return w},this.setRenderTarget=function(L,q=0,Z=0){w=L,g=q,m=Z,L&&S.get(L).__webglFramebuffer===void 0&&U.setupRenderTarget(L);let Ae=null,de=!1,Re=!1;if(L){const Ue=L.texture;(Ue.isDataTexture3D||Ue.isDataTexture2DArray)&&(Re=!0);const Ne=S.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(Ae=Ne[q],de=!0):L.isWebGLMultisampleRenderTarget?Ae=S.get(L).__webglMultisampledFramebuffer:Ae=Ne,C.copy(L.viewport),x.copy(L.scissor),E=L.scissorTest}else C.copy(F).multiplyScalar(N).floor(),x.copy(G).multiplyScalar(N).floor(),E=I;if(W.bindFramebuffer(36160,Ae)&&Ce.drawBuffers){let Ue=!1;if(L)if(L.isWebGLMultipleRenderTargets){const Ne=L.texture;if(V.length!==Ne.length||V[0]!==36064){for(let je=0,Ge=Ne.length;je<Ge;je++)V[je]=36064+je;V.length=Ne.length,Ue=!0}}else(V.length!==1||V[0]!==36064)&&(V[0]=36064,V.length=1,Ue=!0);else(V.length!==1||V[0]!==1029)&&(V[0]=1029,V.length=1,Ue=!0);Ue&&(Ce.isWebGL2?j.drawBuffers(V):xe.get("WEBGL_draw_buffers").drawBuffersWEBGL(V))}if(W.viewport(C),W.scissor(x),W.setScissorTest(E),de){const Ue=S.get(L.texture);j.framebufferTexture2D(36160,36064,34069+q,Ue.__webglTexture,Z)}else if(Re){const Ue=S.get(L.texture),Ne=q||0;j.framebufferTextureLayer(36160,36064,Ue.__webglTexture,Z||0,Ne)}},this.readRenderTargetPixels=function(L,q,Z,Ae,de,Re,He){if(!(L&&L.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ue=S.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&He!==void 0&&(Ue=Ue[He]),Ue){W.bindFramebuffer(36160,Ue);try{const Ne=L.texture,je=Ne.format,Ge=Ne.type;if(je!==Mn&&$.convert(je)!==j.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ke=Ge===CA&&(xe.has("EXT_color_buffer_half_float")||Ce.isWebGL2&&xe.has("EXT_color_buffer_float"));if(Ge!==bi&&$.convert(Ge)!==j.getParameter(35738)&&!(Ge===Vi&&(Ce.isWebGL2||xe.has("OES_texture_float")||xe.has("WEBGL_color_buffer_float")))&&!ke){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}j.checkFramebufferStatus(36160)===36053?q>=0&&q<=L.width-Ae&&Z>=0&&Z<=L.height-de&&j.readPixels(q,Z,Ae,de,$.convert(je),$.convert(Ge),Re):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Ne=w!==null?S.get(w).__webglFramebuffer:null;W.bindFramebuffer(36160,Ne)}}},this.copyFramebufferToTexture=function(L,q,Z=0){const Ae=Math.pow(2,-Z),de=Math.floor(q.image.width*Ae),Re=Math.floor(q.image.height*Ae);let He=$.convert(q.format);Ce.isWebGL2&&(He===6407&&(He=32849),He===6408&&(He=32856)),U.setTexture2D(q,0),j.copyTexImage2D(3553,Z,He,L.x,L.y,de,Re,0),W.unbindTexture()},this.copyTextureToTexture=function(L,q,Z,Ae=0){const de=q.image.width,Re=q.image.height,He=$.convert(Z.format),Ue=$.convert(Z.type);U.setTexture2D(Z,0),j.pixelStorei(37440,Z.flipY),j.pixelStorei(37441,Z.premultiplyAlpha),j.pixelStorei(3317,Z.unpackAlignment),q.isDataTexture?j.texSubImage2D(3553,Ae,L.x,L.y,de,Re,He,Ue,q.image.data):q.isCompressedTexture?j.compressedTexSubImage2D(3553,Ae,L.x,L.y,q.mipmaps[0].width,q.mipmaps[0].height,He,q.mipmaps[0].data):j.texSubImage2D(3553,Ae,L.x,L.y,He,Ue,q.image),Ae===0&&Z.generateMipmaps&&j.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(L,q,Z,Ae,de=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Re=L.max.x-L.min.x+1,He=L.max.y-L.min.y+1,Ue=L.max.z-L.min.z+1,Ne=$.convert(Ae.format),je=$.convert(Ae.type);let Ge;if(Ae.isDataTexture3D)U.setTexture3D(Ae,0),Ge=32879;else if(Ae.isDataTexture2DArray)U.setTexture2DArray(Ae,0),Ge=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(37440,Ae.flipY),j.pixelStorei(37441,Ae.premultiplyAlpha),j.pixelStorei(3317,Ae.unpackAlignment);const ke=j.getParameter(3314),Qe=j.getParameter(32878),ei=j.getParameter(3316),ft=j.getParameter(3315),Tn=j.getParameter(32877),cn=Z.isCompressedTexture?Z.mipmaps[0]:Z.image;j.pixelStorei(3314,cn.width),j.pixelStorei(32878,cn.height),j.pixelStorei(3316,L.min.x),j.pixelStorei(3315,L.min.y),j.pixelStorei(32877,L.min.z),Z.isDataTexture||Z.isDataTexture3D?j.texSubImage3D(Ge,de,q.x,q.y,q.z,Re,He,Ue,Ne,je,cn.data):Z.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),j.compressedTexSubImage3D(Ge,de,q.x,q.y,q.z,Re,He,Ue,Ne,cn.data)):j.texSubImage3D(Ge,de,q.x,q.y,q.z,Re,He,Ue,Ne,je,cn),j.pixelStorei(3314,ke),j.pixelStorei(32878,Qe),j.pixelStorei(3316,ei),j.pixelStorei(3315,ft),j.pixelStorei(32877,Tn),de===0&&Ae.generateMipmaps&&j.generateMipmap(Ge),W.unbindTexture()},this.initTexture=function(L){U.setTexture2D(L,0),W.unbindTexture()},this.resetState=function(){g=0,m=0,w=null,W.reset(),ge.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class py extends rt{}py.prototype.isWebGL1Renderer=!0;class Jo{constructor(e,t=25e-5){this.name="",this.color=new ve(e),this.density=t}clone(){return new Jo(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Jo.prototype.isFogExp2=!0;class Zo{constructor(e,t=1,n=1e3){this.name="",this.color=new ve(e),this.near=t,this.far=n}clone(){return new Zo(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Zo.prototype.isFog=!0;class Fr extends ze{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}Fr.prototype.isScene=!0;class Xr{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=zs,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Rn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Xr.prototype.isInterleavedBuffer=!0;const bt=new D;class ji{constructor(e,t,n,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)bt.x=this.getX(t),bt.y=this.getY(t),bt.z=this.getZ(t),bt.applyMatrix4(e),this.setXYZ(t,bt.x,bt.y,bt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)bt.x=this.getX(t),bt.y=this.getY(t),bt.z=this.getZ(t),bt.applyNormalMatrix(e),this.setXYZ(t,bt.x,bt.y,bt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)bt.x=this.getX(t),bt.y=this.getY(t),bt.z=this.getZ(t),bt.transformDirection(e),this.setXYZ(t,bt.x,bt.y,bt.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Pe(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ji(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ji.prototype.isInterleavedBufferAttribute=!0;class vu extends Rt{constructor(e){super();this.type="SpriteMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}vu.prototype.isSpriteMaterial=!0;let us;const Pa=new D,hs=new D,fs=new D,ds=new ce,Oa=new ce,gy=new Se,Ol=new D,Na=new D,Nl=new D,hm=new ce,Rh=new ce,fm=new ce;class wu extends ze{constructor(e){super();if(this.type="Sprite",us===void 0){us=new Ie;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Xr(t,5);us.setIndex([0,1,2,0,2,3]),us.setAttribute("position",new ji(n,3,0,!1)),us.setAttribute("uv",new ji(n,2,3,!1))}this.geometry=us,this.material=e!==void 0?e:new vu,this.center=new ce(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hs.setFromMatrixScale(this.matrixWorld),gy.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fs.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hs.multiplyScalar(-fs.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;Gl(Ol.set(-.5,-.5,0),fs,s,hs,i,r),Gl(Na.set(.5,-.5,0),fs,s,hs,i,r),Gl(Nl.set(.5,.5,0),fs,s,hs,i,r),hm.set(0,0),Rh.set(1,0),fm.set(1,1);let a=e.ray.intersectTriangle(Ol,Na,Nl,!1,Pa);if(a===null&&(Gl(Na.set(-.5,.5,0),fs,s,hs,i,r),Rh.set(0,1),a=e.ray.intersectTriangle(Ol,Nl,Na,!1,Pa),a===null))return;const o=e.ray.origin.distanceTo(Pa);o<e.near||o>e.far||t.push({distance:o,point:Pa.clone(),uv:Ft.getUV(Pa,Ol,Na,Nl,hm,Rh,fm,new ce),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}wu.prototype.isSprite=!0;function Gl(A,e,t,n,i,r){ds.subVectors(A,t).addScalar(.5).multiply(n),i!==void 0?(Oa.x=r*ds.x-i*ds.y,Oa.y=i*ds.x+r*ds.y):Oa.copy(ds),A.copy(e),A.x+=Oa.x,A.y+=Oa.y,A.applyMatrix4(gy)}const kl=new D,dm=new D;class my extends ze{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){kl.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(kl);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){kl.setFromMatrixPosition(e.matrixWorld),dm.setFromMatrixPosition(this.matrixWorld);const n=kl.distanceTo(dm)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}const pm=new D,gm=new $e,mm=new $e,GT=new D,vm=new Se;class qo extends gt{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Se,this.bindMatrixInverse=new Se}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $e,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,i=this.geometry;gm.fromBufferAttribute(i.attributes.skinIndex,e),mm.fromBufferAttribute(i.attributes.skinWeight,e),pm.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const s=mm.getComponent(r);if(s!==0){const a=gm.getComponent(r);vm.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(GT.copy(pm).applyMatrix4(vm),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}qo.prototype.isSkinnedMesh=!0;class jo extends ze{constructor(){super();this.type="Bone"}}jo.prototype.isBone=!0;class Ur extends Et{constructor(e=null,t=1,n=1,i,r,s,a,o,l=Bt,c=Bt,u,h){super(null,s,a,o,l,c,i,r,u,h);this.image={data:e,width:t,height:n},this.magFilter=l,this.minFilter=c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Ur.prototype.isDataTexture=!0;const wm=new Se,kT=new Se;class $o{constructor(e=[],t=[]){this.uuid=Rn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Se)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Se;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,s=e.length;r<s;r++){const a=e[r]?e[r].matrixWorld:kT;wm.multiplyMatrices(a,t[r]),wm.toArray(n,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new $o(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=zB(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Ur(t,e,e,Mn,Vi);return this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const r=e.bones[n];let s=t[r];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),s=new jo),this.bones.push(s),this.boneInverses.push(new Se().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const s=t[i];e.bones.push(s.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}}const Bm=new Se,ym=new Se,Vl=[],Ga=new gt;class lp extends gt{constructor(e,t,n){super(e,t);this.instanceMatrix=new Pe(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,i=this.count;if(Ga.geometry=this.geometry,Ga.material=this.material,Ga.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,Bm),ym.multiplyMatrices(n,Bm),Ga.matrixWorld=ym,Ga.raycast(e,Vl);for(let s=0,a=Vl.length;s<a;s++){const o=Vl[s];o.instanceId=r,o.object=this,t.push(o)}Vl.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Pe(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}lp.prototype.isInstancedMesh=!0;class Nt extends Rt{constructor(e){super();this.type="LineBasicMaterial",this.color=new ve(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Nt.prototype.isLineBasicMaterial=!0;const xm=new D,Cm=new D,_m=new Se,Hh=new Wr,zl=new Ui;class Ti extends ze{constructor(e=new Ie,t=new Nt){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)xm.fromBufferAttribute(t,i-1),Cm.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=xm.distanceTo(Cm);e.setAttribute("lineDistance",new Te(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),zl.copy(n.boundingSphere),zl.applyMatrix4(i),zl.radius+=r,e.ray.intersectsSphere(zl)===!1)return;_m.copy(i).invert(),Hh.copy(e.ray).applyMatrix4(_m);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=new D,c=new D,u=new D,h=new D,f=this.isLineSegments?2:1;if(n.isBufferGeometry){const d=n.index,v=n.attributes.position;if(d!==null){const g=Math.max(0,s.start),m=Math.min(d.count,s.start+s.count);for(let w=g,B=m-1;w<B;w+=f){const y=d.getX(w),C=d.getX(w+1);if(l.fromBufferAttribute(v,y),c.fromBufferAttribute(v,C),Hh.distanceSqToSegment(l,c,h,u)>o)continue;h.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(h);E<e.near||E>e.far||t.push({distance:E,point:u.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,s.start),m=Math.min(v.count,s.start+s.count);for(let w=g,B=m-1;w<B;w+=f){if(l.fromBufferAttribute(v,w),c.fromBufferAttribute(v,w+1),Hh.distanceSqToSegment(l,c,h,u)>o)continue;h.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(h);C<e.near||C>e.far||t.push({distance:C,point:u.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Ti.prototype.isLine=!0;const Em=new D,bm=new D;class gn extends Ti{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)Em.fromBufferAttribute(t,i),bm.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Em.distanceTo(bm);e.setAttribute("lineDistance",new Te(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}gn.prototype.isLineSegments=!0;class Bu extends Ti{constructor(e,t){super(e,t);this.type="LineLoop"}}Bu.prototype.isLineLoop=!0;class Yr extends Rt{constructor(e){super();this.type="PointsMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}Yr.prototype.isPointsMaterial=!0;const Mm=new Se,qf=new Wr,Kl=new Ui,Wl=new D;class ma extends ze{constructor(e=new Ie,t=new Yr){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Kl.copy(n.boundingSphere),Kl.applyMatrix4(i),Kl.radius+=r,e.ray.intersectsSphere(Kl)===!1)return;Mm.copy(i).invert(),qf.copy(e.ray).applyMatrix4(Mm);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){const l=n.index,u=n.attributes.position;if(l!==null){const h=Math.max(0,s.start),f=Math.min(l.count,s.start+s.count);for(let d=h,p=f;d<p;d++){const v=l.getX(d);Wl.fromBufferAttribute(u,v),Tm(Wl,v,o,i,e,t,this)}}else{const h=Math.max(0,s.start),f=Math.min(u.count,s.start+s.count);for(let d=h,p=f;d<p;d++)Wl.fromBufferAttribute(u,d),Tm(Wl,d,o,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}ma.prototype.isPoints=!0;function Tm(A,e,t,n,i,r,s){const a=qf.distanceSqToPoint(A);if(a<t){const o=new D;qf.closestPointToPoint(A,o),o.applyMatrix4(n);const l=i.ray.origin.distanceTo(o);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(a),point:o,index:e,face:null,object:s})}}class vy extends Et{constructor(e,t,n,i,r,s,a,o,l){super(e,t,n,i,r,s,a,o,l);this.format=a!==void 0?a:Wi,this.minFilter=s!==void 0?s:tt,this.magFilter=r!==void 0?r:tt,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}vy.prototype.isVideoTexture=!0;class cp extends Et{constructor(e,t,n,i,r,s,a,o,l,c,u,h){super(null,s,a,o,l,c,i,r,u,h);this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}cp.prototype.isCompressedTexture=!0;class wy extends Et{constructor(e,t,n,i,r,s,a,o,l){super(e,t,n,i,r,s,a,o,l);this.needsUpdate=!0}}wy.prototype.isCanvasTexture=!0;class up extends Et{constructor(e,t,n,i,r,s,a,o,l,c){if(c=c!==void 0?c:EA,c!==EA&&c!==SA)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===EA&&(n=Fo),n===void 0&&c===SA&&(n=_A);super(null,i,r,s,a,o,c,n,l);this.image={width:e,height:t},this.magFilter=a!==void 0?a:Bt,this.minFilter=o!==void 0?o:Bt,this.flipY=!1,this.generateMipmaps=!1}}up.prototype.isDepthTexture=!0;class Xs extends Ie{constructor(e=1,t=8,n=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],s=[],a=[],o=[],l=new D,c=new ce;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const f=n+u/t*i;l.x=e*Math.cos(f),l.y=e*Math.sin(f),s.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(s[h]/e+1)/2,c.y=(s[h+1]/e+1)/2,o.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new Te(s,3)),this.setAttribute("normal",new Te(a,3)),this.setAttribute("uv",new Te(o,2))}static fromJSON(e){return new Xs(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Gr extends Ie{constructor(e=1,t=1,n=1,i=8,r=1,s=!1,a=0,o=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],h=[],f=[];let d=0;const p=[],v=n/2;let g=0;m(),s===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new Te(u,3)),this.setAttribute("normal",new Te(h,3)),this.setAttribute("uv",new Te(f,2));function m(){const B=new D,y=new D;let C=0;const x=(t-e)/n;for(let E=0;E<=r;E++){const M=[],H=E/r,N=H*(t-e)+e;for(let O=0;O<=i;O++){const Q=O/i,F=Q*o+a,G=Math.sin(F),I=Math.cos(F);y.x=N*G,y.y=-H*n+v,y.z=N*I,u.push(y.x,y.y,y.z),B.set(G,x,I).normalize(),h.push(B.x,B.y,B.z),f.push(Q,1-H),M.push(d++)}p.push(M)}for(let E=0;E<i;E++)for(let M=0;M<r;M++){const H=p[M][E],N=p[M+1][E],O=p[M+1][E+1],Q=p[M][E+1];c.push(H,N,Q),c.push(N,O,Q),C+=6}l.addGroup(g,C,0),g+=C}function w(B){const y=d,C=new ce,x=new D;let E=0;const M=B===!0?e:t,H=B===!0?1:-1;for(let O=1;O<=i;O++)u.push(0,v*H,0),h.push(0,H,0),f.push(.5,.5),d++;const N=d;for(let O=0;O<=i;O++){const F=O/i*o+a,G=Math.cos(F),I=Math.sin(F);x.x=M*I,x.y=v*H,x.z=M*G,u.push(x.x,x.y,x.z),h.push(0,H,0),C.x=G*.5+.5,C.y=I*.5*H+.5,f.push(C.x,C.y),d++}for(let O=0;O<i;O++){const Q=y+O,F=N+O;B===!0?c.push(F,F+1,Q):c.push(F+1,F,Q),E+=3}l.addGroup(g,E,B===!0?1:2),g+=E}}static fromJSON(e){return new Gr(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ys extends Gr{constructor(e=1,t=1,n=8,i=1,r=!1,s=0,a=Math.PI*2){super(0,e,t,n,i,r,s,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:a}}static fromJSON(e){return new Ys(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Si extends Ie{constructor(e,t,n=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],s=[];a(i),l(n),c(),this.setAttribute("position",new Te(r,3)),this.setAttribute("normal",new Te(r.slice(),3)),this.setAttribute("uv",new Te(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(m){const w=new D,B=new D,y=new D;for(let C=0;C<t.length;C+=3)f(t[C+0],w),f(t[C+1],B),f(t[C+2],y),o(w,B,y,m)}function o(m,w,B,y){const C=y+1,x=[];for(let E=0;E<=C;E++){x[E]=[];const M=m.clone().lerp(B,E/C),H=w.clone().lerp(B,E/C),N=C-E;for(let O=0;O<=N;O++)O===0&&E===C?x[E][O]=M:x[E][O]=M.clone().lerp(H,O/N)}for(let E=0;E<C;E++)for(let M=0;M<2*(C-E)-1;M++){const H=Math.floor(M/2);M%2===0?(h(x[E][H+1]),h(x[E+1][H]),h(x[E][H])):(h(x[E][H+1]),h(x[E+1][H+1]),h(x[E+1][H]))}}function l(m){const w=new D;for(let B=0;B<r.length;B+=3)w.x=r[B+0],w.y=r[B+1],w.z=r[B+2],w.normalize().multiplyScalar(m),r[B+0]=w.x,r[B+1]=w.y,r[B+2]=w.z}function c(){const m=new D;for(let w=0;w<r.length;w+=3){m.x=r[w+0],m.y=r[w+1],m.z=r[w+2];const B=v(m)/2/Math.PI+.5,y=g(m)/Math.PI+.5;s.push(B,1-y)}d(),u()}function u(){for(let m=0;m<s.length;m+=6){const w=s[m+0],B=s[m+2],y=s[m+4],C=Math.max(w,B,y),x=Math.min(w,B,y);C>.9&&x<.1&&(w<.2&&(s[m+0]+=1),B<.2&&(s[m+2]+=1),y<.2&&(s[m+4]+=1))}}function h(m){r.push(m.x,m.y,m.z)}function f(m,w){const B=m*3;w.x=e[B+0],w.y=e[B+1],w.z=e[B+2]}function d(){const m=new D,w=new D,B=new D,y=new D,C=new ce,x=new ce,E=new ce;for(let M=0,H=0;M<r.length;M+=9,H+=6){m.set(r[M+0],r[M+1],r[M+2]),w.set(r[M+3],r[M+4],r[M+5]),B.set(r[M+6],r[M+7],r[M+8]),C.set(s[H+0],s[H+1]),x.set(s[H+2],s[H+3]),E.set(s[H+4],s[H+5]),y.copy(m).add(w).add(B).divideScalar(3);const N=v(y);p(C,H+0,m,N),p(x,H+2,w,N),p(E,H+4,B,N)}}function p(m,w,B,y){y<0&&m.x===1&&(s[w]=m.x-1),B.x===0&&B.z===0&&(s[w]=y/2/Math.PI+.5)}function v(m){return Math.atan2(m.z,-m.x)}function g(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}static fromJSON(e){return new Si(e.vertices,e.indices,e.radius,e.details)}}class Js extends Si{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,s,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Js(e.radius,e.detail)}}const Xl=new D,Yl=new D,Ph=new D,Jl=new Ft;class hp extends Ie{constructor(e,t){super();if(this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1,e.isGeometry===!0){console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return}const n=Math.cos(bA*t),i=e.getIndex(),r=e.getAttribute("position"),s=i?i.count:r.count,a=[0,0,0],o=["a","b","c"],l=new Array(3),c={},u=[];for(let h=0;h<s;h+=3){i?(a[0]=i.getX(h),a[1]=i.getX(h+1),a[2]=i.getX(h+2)):(a[0]=h,a[1]=h+1,a[2]=h+2);const{a:f,b:d,c:p}=Jl;if(f.fromBufferAttribute(r,a[0]),d.fromBufferAttribute(r,a[1]),p.fromBufferAttribute(r,a[2]),Jl.getNormal(Ph),l[0]=`${f.x},${f.y},${f.z}`,l[1]=`${d.x},${d.y},${d.z}`,l[2]=`${p.x},${p.y},${p.z}`,!(l[0]===l[1]||l[1]===l[2]||l[2]===l[0]))for(let v=0;v<3;v++){const g=(v+1)%3,m=l[v],w=l[g],B=Jl[o[v]],y=Jl[o[g]],C=`${m}_${w}`,x=`${w}_${m}`;x in c&&c[x]?(Ph.dot(c[x].normal)<=n&&(u.push(B.x,B.y,B.z),u.push(y.x,y.y,y.z)),c[x]=null):C in c||(c[C]={index0:a[v],index1:a[g],normal:Ph.clone()})}}for(const h in c)if(c[h]){const{index0:f,index1:d}=c[h];Xl.fromBufferAttribute(r,f),Yl.fromBufferAttribute(r,d),u.push(Xl.x,Xl.y,Xl.z),u.push(Yl.x,Yl.y,Yl.z)}this.setAttribute("position",new Te(u,3))}}class On{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const r=n.length;let s;t?s=t:s=e*n[r-1];let a=0,o=r-1,l;for(;a<=o;)if(i=Math.floor(a+(o-a)/2),l=n[i]-s,l<0)a=i+1;else if(l>0)o=i-1;else{o=i;break}if(i=o,n[i]===s)return i/(r-1);const c=n[i],h=n[i+1]-c,f=(s-c)/h;return(i+f)/(r-1)}getTangent(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),a=this.getPoint(r),o=t||(s.isVector2?new ce:new D);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new D,i=[],r=[],s=[],a=new D,o=new Se;for(let f=0;f<=e;f++){const d=f/e;i[f]=this.getTangentAt(d,new D),i[f].normalize()}r[0]=new D,s[0]=new D;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),s[0].crossVectors(i[0],r[0]);for(let f=1;f<=e;f++){if(r[f]=r[f-1].clone(),s[f]=s[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();const d=Math.acos($t(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(o.makeRotationAxis(a,d))}s[f].crossVectors(i[f],r[f])}if(t===!0){let f=Math.acos($t(r[0].dot(r[e]),-1,1));f/=e,i[0].dot(a.crossVectors(r[0],r[e]))>0&&(f=-f);for(let d=1;d<=e;d++)r[d].applyMatrix4(o.makeRotationAxis(i[d],f*d)),s[d].crossVectors(i[d],r[d])}return{tangents:i,normals:r,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class el extends On{constructor(e=0,t=0,n=1,i=1,r=0,s=Math.PI*2,a=!1,o=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(e,t){const n=t||new ce,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(s?r=0:r=i),this.aClockwise===!0&&!s&&(r===i?r=-i:r=r-i);const a=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=o-this.aX,f=l-this.aY;o=h*c-f*u+this.aX,l=h*u+f*c+this.aY}return n.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}el.prototype.isEllipseCurve=!0;class fp extends el{constructor(e,t,n,i,r,s){super(e,t,n,n,i,r,s);this.type="ArcCurve"}}fp.prototype.isArcCurve=!0;function dp(){let A=0,e=0,t=0,n=0;function i(r,s,a,o){A=r,e=a,t=-3*r+3*s-2*a-o,n=2*r-2*s+a+o}return{initCatmullRom:function(r,s,a,o,l){i(s,a,l*(a-r),l*(o-s))},initNonuniformCatmullRom:function(r,s,a,o,l,c,u){let h=(s-r)/l-(a-r)/(l+c)+(a-s)/c,f=(a-s)/c-(o-s)/(c+u)+(o-a)/u;h*=c,f*=c,i(s,a,h,f)},calc:function(r){const s=r*r,a=s*r;return A+e*r+t*s+n*a}}}const Zl=new D,Oh=new dp,Nh=new dp,Gh=new dp;class pp extends On{constructor(e=[],t=!1,n="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new D){const n=t,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e;let a=Math.floor(s),o=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:o===0&&a===r-1&&(a=r-2,o=1);let l,c;this.closed||a>0?l=i[(a-1)%r]:(Zl.subVectors(i[0],i[1]).add(i[0]),l=Zl);const u=i[a%r],h=i[(a+1)%r];if(this.closed||a+2<r?c=i[(a+2)%r]:(Zl.subVectors(i[r-1],i[r-2]).add(i[r-1]),c=Zl),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let d=Math.pow(l.distanceToSquared(u),f),p=Math.pow(u.distanceToSquared(h),f),v=Math.pow(h.distanceToSquared(c),f);p<1e-4&&(p=1),d<1e-4&&(d=p),v<1e-4&&(v=p),Oh.initNonuniformCatmullRom(l.x,u.x,h.x,c.x,d,p,v),Nh.initNonuniformCatmullRom(l.y,u.y,h.y,c.y,d,p,v),Gh.initNonuniformCatmullRom(l.z,u.z,h.z,c.z,d,p,v)}else this.curveType==="catmullrom"&&(Oh.initCatmullRom(l.x,u.x,h.x,c.x,this.tension),Nh.initCatmullRom(l.y,u.y,h.y,c.y,this.tension),Gh.initCatmullRom(l.z,u.z,h.z,c.z,this.tension));return n.set(Oh.calc(o),Nh.calc(o),Gh.calc(o)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new D().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}pp.prototype.isCatmullRomCurve3=!0;function Sm(A,e,t,n,i){const r=(n-e)*.5,s=(i-t)*.5,a=A*A,o=A*a;return(2*t-2*n+r+s)*o+(-3*t+3*n-2*r-s)*a+r*A+t}function VT(A,e){const t=1-A;return t*t*e}function zT(A,e){return 2*(1-A)*A*e}function KT(A,e){return A*A*e}function co(A,e,t,n){return VT(A,e)+zT(A,t)+KT(A,n)}function WT(A,e){const t=1-A;return t*t*t*e}function XT(A,e){const t=1-A;return 3*t*t*A*e}function YT(A,e){return 3*(1-A)*A*A*e}function JT(A,e){return A*A*A*e}function uo(A,e,t,n,i){return WT(A,e)+XT(A,t)+YT(A,n)+JT(A,i)}class yu extends On{constructor(e=new ce,t=new ce,n=new ce,i=new ce){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ce){const n=t,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(uo(e,i.x,r.x,s.x,a.x),uo(e,i.y,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}yu.prototype.isCubicBezierCurve=!0;class gp extends On{constructor(e=new D,t=new D,n=new D,i=new D){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new D){const n=t,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(uo(e,i.x,r.x,s.x,a.x),uo(e,i.y,r.y,s.y,a.y),uo(e,i.z,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}gp.prototype.isCubicBezierCurve3=!0;class tl extends On{constructor(e=new ce,t=new ce){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ce){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new ce;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}tl.prototype.isLineCurve=!0;class By extends On{constructor(e=new D,t=new D){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new D){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xu extends On{constructor(e=new ce,t=new ce,n=new ce){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ce){const n=t,i=this.v0,r=this.v1,s=this.v2;return n.set(co(e,i.x,r.x,s.x),co(e,i.y,r.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}xu.prototype.isQuadraticBezierCurve=!0;class mp extends On{constructor(e=new D,t=new D,n=new D){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new D){const n=t,i=this.v0,r=this.v1,s=this.v2;return n.set(co(e,i.x,r.x,s.x),co(e,i.y,r.y,s.y),co(e,i.z,r.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}mp.prototype.isQuadraticBezierCurve3=!0;class Cu extends On{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ce){const n=t,i=this.points,r=(i.length-1)*e,s=Math.floor(r),a=r-s,o=i[s===0?s:s-1],l=i[s],c=i[s>i.length-2?i.length-1:s+1],u=i[s>i.length-3?i.length-1:s+2];return n.set(Sm(a,o.x,l.x,c.x,u.x),Sm(a,o.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new ce().fromArray(i))}return this}}Cu.prototype.isSplineCurve=!0;var vp=Object.freeze({__proto__:null,ArcCurve:fp,CatmullRomCurve3:pp,CubicBezierCurve:yu,CubicBezierCurve3:gp,EllipseCurve:el,LineCurve:tl,LineCurve3:By,QuadraticBezierCurve:xu,QuadraticBezierCurve3:mp,SplineCurve:Cu});const ZT={triangulate:function(A,e,t=2){const n=e&&e.length,i=n?e[0]*t:A.length;let r=yy(A,0,i,t,!0);const s=[];if(!r||r.next===r.prev)return s;let a,o,l,c,u,h,f;if(n&&(r=tS(A,e,r,t)),A.length>80*t){a=l=A[0],o=c=A[1];for(let d=t;d<i;d+=t)u=A[d],h=A[d+1],u<a&&(a=u),h<o&&(o=h),u>l&&(l=u),h>c&&(c=h);f=Math.max(l-a,c-o),f=f!==0?1/f:0}return Io(r,s,t,a,o,f),s}};function yy(A,e,t,n,i){let r,s;if(i===hS(A,e,t,n)>0)for(r=e;r<t;r+=n)s=Fm(r,A[r],A[r+1],s);else for(r=t-n;r>=e;r-=n)s=Fm(r,A[r],A[r+1],s);return s&&_u(s,s.next)&&(Qo(s),s=s.next),s}function kr(A,e){if(!A)return A;e||(e=A);let t=A,n;do if(n=!1,!t.steiner&&(_u(t,t.next)||yt(t.prev,t,t.next)===0)){if(Qo(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Io(A,e,t,n,i,r,s){if(!A)return;!s&&r&&sS(A,n,i,r);let a=A,o,l;for(;A.prev!==A.next;){if(o=A.prev,l=A.next,r?jT(A,n,i,r):qT(A)){e.push(o.i/t),e.push(A.i/t),e.push(l.i/t),Qo(A),A=l.next,a=l.next;continue}if(A=l,A===a){s?s===1?(A=$T(kr(A),e,t),Io(A,e,t,n,i,r,2)):s===2&&eS(A,e,t,n,i,r):Io(kr(A),e,t,n,i,r,1);break}}}function qT(A){const e=A.prev,t=A,n=A.next;if(yt(e,t,n)>=0)return!1;let i=A.next.next;for(;i!==A.prev;){if(Ts(e.x,e.y,t.x,t.y,n.x,n.y,i.x,i.y)&&yt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function jT(A,e,t,n){const i=A.prev,r=A,s=A.next;if(yt(i,r,s)>=0)return!1;const a=i.x<r.x?i.x<s.x?i.x:s.x:r.x<s.x?r.x:s.x,o=i.y<r.y?i.y<s.y?i.y:s.y:r.y<s.y?r.y:s.y,l=i.x>r.x?i.x>s.x?i.x:s.x:r.x>s.x?r.x:s.x,c=i.y>r.y?i.y>s.y?i.y:s.y:r.y>s.y?r.y:s.y,u=jf(a,o,e,t,n),h=jf(l,c,e,t,n);let f=A.prevZ,d=A.nextZ;for(;f&&f.z>=u&&d&&d.z<=h;){if(f!==A.prev&&f!==A.next&&Ts(i.x,i.y,r.x,r.y,s.x,s.y,f.x,f.y)&&yt(f.prev,f,f.next)>=0||(f=f.prevZ,d!==A.prev&&d!==A.next&&Ts(i.x,i.y,r.x,r.y,s.x,s.y,d.x,d.y)&&yt(d.prev,d,d.next)>=0))return!1;d=d.nextZ}for(;f&&f.z>=u;){if(f!==A.prev&&f!==A.next&&Ts(i.x,i.y,r.x,r.y,s.x,s.y,f.x,f.y)&&yt(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=h;){if(d!==A.prev&&d!==A.next&&Ts(i.x,i.y,r.x,r.y,s.x,s.y,d.x,d.y)&&yt(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function $T(A,e,t){let n=A;do{const i=n.prev,r=n.next.next;!_u(i,r)&&xy(i,n,n.next,r)&&Lo(i,r)&&Lo(r,i)&&(e.push(i.i/t),e.push(n.i/t),e.push(r.i/t),Qo(n),Qo(n.next),n=A=r),n=n.next}while(n!==A);return kr(n)}function eS(A,e,t,n,i,r){let s=A;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&lS(s,a)){let o=Cy(s,a);s=kr(s,s.next),o=kr(o,o.next),Io(s,e,t,n,i,r),Io(o,e,t,n,i,r);return}a=a.next}s=s.next}while(s!==A)}function tS(A,e,t,n){const i=[];let r,s,a,o,l;for(r=0,s=e.length;r<s;r++)a=e[r]*n,o=r<s-1?e[r+1]*n:A.length,l=yy(A,a,o,n,!1),l===l.next&&(l.steiner=!0),i.push(oS(l));for(i.sort(nS),r=0;r<i.length;r++)iS(i[r],t),t=kr(t,t.next);return t}function nS(A,e){return A.x-e.x}function iS(A,e){if(e=rS(A,e),e){const t=Cy(e,A);kr(e,e.next),kr(t,t.next)}}function rS(A,e){let t=e;const n=A.x,i=A.y;let r=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const h=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=n&&h>r){if(r=h,h===n){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(n===r)return s;const a=s,o=s.x,l=s.y;let c=1/0,u;t=s;do n>=t.x&&t.x>=o&&n!==t.x&&Ts(i<l?n:r,i,o,l,i<l?r:n,i,t.x,t.y)&&(u=Math.abs(i-t.y)/(n-t.x),Lo(t,A)&&(u<c||u===c&&(t.x>s.x||t.x===s.x&&AS(s,t)))&&(s=t,c=u)),t=t.next;while(t!==a);return s}function AS(A,e){return yt(A.prev,A,e.prev)<0&&yt(e.next,A,A.next)<0}function sS(A,e,t,n){let i=A;do i.z===null&&(i.z=jf(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==A);i.prevZ.nextZ=null,i.prevZ=null,aS(i)}function aS(A){let e,t,n,i,r,s,a,o,l=1;do{for(t=A,A=null,r=null,s=0;t;){for(s++,n=t,a=0,e=0;e<l&&(a++,n=n.nextZ,!!n);e++);for(o=l;a>0||o>0&&n;)a!==0&&(o===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,a--):(i=n,n=n.nextZ,o--),r?r.nextZ=i:A=i,i.prevZ=r,r=i;t=n}r.nextZ=null,l*=2}while(s>1);return A}function jf(A,e,t,n,i){return A=32767*(A-t)*i,e=32767*(e-n)*i,A=(A|A<<8)&16711935,A=(A|A<<4)&252645135,A=(A|A<<2)&858993459,A=(A|A<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,A|e<<1}function oS(A){let e=A,t=A;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==A);return t}function Ts(A,e,t,n,i,r,s,a){return(i-s)*(e-a)-(A-s)*(r-a)>=0&&(A-s)*(n-a)-(t-s)*(e-a)>=0&&(t-s)*(r-a)-(i-s)*(n-a)>=0}function lS(A,e){return A.next.i!==e.i&&A.prev.i!==e.i&&!cS(A,e)&&(Lo(A,e)&&Lo(e,A)&&uS(A,e)&&(yt(A.prev,A,e.prev)||yt(A,e.prev,e))||_u(A,e)&&yt(A.prev,A,A.next)>0&&yt(e.prev,e,e.next)>0)}function yt(A,e,t){return(e.y-A.y)*(t.x-e.x)-(e.x-A.x)*(t.y-e.y)}function _u(A,e){return A.x===e.x&&A.y===e.y}function xy(A,e,t,n){const i=jl(yt(A,e,t)),r=jl(yt(A,e,n)),s=jl(yt(t,n,A)),a=jl(yt(t,n,e));return!!(i!==r&&s!==a||i===0&&ql(A,t,e)||r===0&&ql(A,n,e)||s===0&&ql(t,A,n)||a===0&&ql(t,e,n))}function ql(A,e,t){return e.x<=Math.max(A.x,t.x)&&e.x>=Math.min(A.x,t.x)&&e.y<=Math.max(A.y,t.y)&&e.y>=Math.min(A.y,t.y)}function jl(A){return A>0?1:A<0?-1:0}function cS(A,e){let t=A;do{if(t.i!==A.i&&t.next.i!==A.i&&t.i!==e.i&&t.next.i!==e.i&&xy(t,t.next,A,e))return!0;t=t.next}while(t!==A);return!1}function Lo(A,e){return yt(A.prev,A,A.next)<0?yt(A,e,A.next)>=0&&yt(A,A.prev,e)>=0:yt(A,e,A.prev)<0||yt(A,A.next,e)<0}function uS(A,e){let t=A,n=!1;const i=(A.x+e.x)/2,r=(A.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&i<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==A);return n}function Cy(A,e){const t=new $f(A.i,A.x,A.y),n=new $f(e.i,e.x,e.y),i=A.next,r=e.prev;return A.next=e,e.prev=A,t.next=i,i.prev=t,n.next=t,t.prev=n,r.next=n,n.prev=r,n}function Fm(A,e,t,n){const i=new $f(A,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Qo(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function $f(A,e,t){this.i=A,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hS(A,e,t,n){let i=0;for(let r=e,s=t-n;r<t;r+=n)i+=(A[s]-A[r])*(A[r+1]+A[s+1]),s=r;return i}class Ci{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5}static isClockWise(e){return Ci.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];Um(e),Dm(n,e);let s=e.length;t.forEach(Um);for(let o=0;o<t.length;o++)i.push(s),s+=t[o].length,Dm(n,t[o]);const a=ZT.triangulate(n,i);for(let o=0;o<a.length;o+=3)r.push(a.slice(o,o+3));return r}}function Um(A){const e=A.length;e>2&&A[e-1].equals(A[0])&&A.pop()}function Dm(A,e){for(let t=0;t<e.length;t++)A.push(e[t].x),A.push(e[t].y)}class ui extends Ie{constructor(e,t){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];s(l)}this.setAttribute("position",new Te(i,3)),this.setAttribute("uv",new Te(r,2)),this.computeVertexNormals();function s(a){const o=[],l=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let u=t.depth!==void 0?t.depth:100,h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:6,d=t.bevelSize!==void 0?t.bevelSize:f-2,p=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,m=t.UVGenerator!==void 0?t.UVGenerator:fS;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);let w,B=!1,y,C,x,E;g&&(w=g.getSpacedPoints(c),B=!0,h=!1,y=g.computeFrenetFrames(c,!1),C=new D,x=new D,E=new D),h||(v=0,f=0,d=0,p=0);const M=a.extractPoints(l);let H=M.shape;const N=M.holes;if(!Ci.isClockWise(H)){H=H.reverse();for(let S=0,U=N.length;S<U;S++){const P=N[S];Ci.isClockWise(P)&&(N[S]=P.reverse())}}const Q=Ci.triangulateShape(H,N),F=H;for(let S=0,U=N.length;S<U;S++){const P=N[S];H=H.concat(P)}function G(S,U,P){return U||console.error("THREE.ExtrudeGeometry: vec does not exist"),U.clone().multiplyScalar(P).add(S)}const I=H.length,V=Q.length;function te(S,U,P){let z,R,T;const _=S.x-U.x,K=S.y-U.y,Y=P.x-S.x,J=P.y-S.y,se=_*_+K*K,oe=_*J-K*Y;if(Math.abs(oe)>Number.EPSILON){const le=Math.sqrt(se),ue=Math.sqrt(Y*Y+J*J),pe=U.x-K/le,X=U.y+_/le,re=P.x-J/ue,$=P.y+Y/ue,ge=((re-pe)*J-($-X)*Y)/(_*J-K*Y);z=pe+_*ge-S.x,R=X+K*ge-S.y;const k=z*z+R*R;if(k<=2)return new ce(z,R);T=Math.sqrt(k/2)}else{let le=!1;_>Number.EPSILON?Y>Number.EPSILON&&(le=!0):_<-Number.EPSILON?Y<-Number.EPSILON&&(le=!0):Math.sign(K)===Math.sign(J)&&(le=!0),le?(z=-K,R=_,T=Math.sqrt(se)):(z=_,R=K,T=Math.sqrt(se/2))}return new ce(z/T,R/T)}const ie=[];for(let S=0,U=F.length,P=U-1,z=S+1;S<U;S++,P++,z++)P===U&&(P=0),z===U&&(z=0),ie[S]=te(F[S],F[P],F[z]);const ae=[];let ee,fe=ie.concat();for(let S=0,U=N.length;S<U;S++){const P=N[S];ee=[];for(let z=0,R=P.length,T=R-1,_=z+1;z<R;z++,T++,_++)T===R&&(T=0),_===R&&(_=0),ee[z]=te(P[z],P[T],P[_]);ae.push(ee),fe=fe.concat(ee)}for(let S=0;S<v;S++){const U=S/v,P=f*Math.cos(U*Math.PI/2),z=d*Math.sin(U*Math.PI/2)+p;for(let R=0,T=F.length;R<T;R++){const _=G(F[R],ie[R],z);Fe(_.x,_.y,-P)}for(let R=0,T=N.length;R<T;R++){const _=N[R];ee=ae[R];for(let K=0,Y=_.length;K<Y;K++){const J=G(_[K],ee[K],z);Fe(J.x,J.y,-P)}}}const ne=d+p;for(let S=0;S<I;S++){const U=h?G(H[S],fe[S],ne):H[S];B?(x.copy(y.normals[0]).multiplyScalar(U.x),C.copy(y.binormals[0]).multiplyScalar(U.y),E.copy(w[0]).add(x).add(C),Fe(E.x,E.y,E.z)):Fe(U.x,U.y,0)}for(let S=1;S<=c;S++)for(let U=0;U<I;U++){const P=h?G(H[U],fe[U],ne):H[U];B?(x.copy(y.normals[S]).multiplyScalar(P.x),C.copy(y.binormals[S]).multiplyScalar(P.y),E.copy(w[S]).add(x).add(C),Fe(E.x,E.y,E.z)):Fe(P.x,P.y,u/c*S)}for(let S=v-1;S>=0;S--){const U=S/v,P=f*Math.cos(U*Math.PI/2),z=d*Math.sin(U*Math.PI/2)+p;for(let R=0,T=F.length;R<T;R++){const _=G(F[R],ie[R],z);Fe(_.x,_.y,u+P)}for(let R=0,T=N.length;R<T;R++){const _=N[R];ee=ae[R];for(let K=0,Y=_.length;K<Y;K++){const J=G(_[K],ee[K],z);B?Fe(J.x,J.y+w[c-1].y,w[c-1].x+P):Fe(J.x,J.y,u+P)}}}me(),we();function me(){const S=i.length/3;if(h){let U=0,P=I*U;for(let z=0;z<V;z++){const R=Q[z];xe(R[2]+P,R[1]+P,R[0]+P)}U=c+v*2,P=I*U;for(let z=0;z<V;z++){const R=Q[z];xe(R[0]+P,R[1]+P,R[2]+P)}}else{for(let U=0;U<V;U++){const P=Q[U];xe(P[2],P[1],P[0])}for(let U=0;U<V;U++){const P=Q[U];xe(P[0]+I*c,P[1]+I*c,P[2]+I*c)}}n.addGroup(S,i.length/3-S,0)}function we(){const S=i.length/3;let U=0;j(F,U),U+=F.length;for(let P=0,z=N.length;P<z;P++){const R=N[P];j(R,U),U+=R.length}n.addGroup(S,i.length/3-S,1)}function j(S,U){let P=S.length;for(;--P>=0;){const z=P;let R=P-1;R<0&&(R=S.length-1);for(let T=0,_=c+v*2;T<_;T++){const K=I*T,Y=I*(T+1),J=U+z+K,se=U+R+K,oe=U+R+Y,le=U+z+Y;Ce(J,se,oe,le)}}}function Fe(S,U,P){o.push(S),o.push(U),o.push(P)}function xe(S,U,P){W(S),W(U),W(P);const z=i.length/3,R=m.generateTopUV(n,i,z-3,z-2,z-1);b(R[0]),b(R[1]),b(R[2])}function Ce(S,U,P,z){W(S),W(U),W(z),W(U),W(P),W(z);const R=i.length/3,T=m.generateSideWallUV(n,i,R-6,R-3,R-2,R-1);b(T[0]),b(T[1]),b(T[3]),b(T[1]),b(T[2]),b(T[3])}function W(S){i.push(o[S*3+0]),i.push(o[S*3+1]),i.push(o[S*3+2])}function b(S){r.push(S.x),r.push(S.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return dS(t,n,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];n.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new vp[i.type]().fromJSON(i)),new ui(n,e.options)}}const fS={generateTopUV:function(A,e,t,n,i){const r=e[t*3],s=e[t*3+1],a=e[n*3],o=e[n*3+1],l=e[i*3],c=e[i*3+1];return[new ce(r,s),new ce(a,o),new ce(l,c)]},generateSideWallUV:function(A,e,t,n,i,r){const s=e[t*3],a=e[t*3+1],o=e[t*3+2],l=e[n*3],c=e[n*3+1],u=e[n*3+2],h=e[i*3],f=e[i*3+1],d=e[i*3+2],p=e[r*3],v=e[r*3+1],g=e[r*3+2];return Math.abs(a-c)<Math.abs(s-l)?[new ce(s,1-o),new ce(l,1-u),new ce(h,1-d),new ce(p,1-g)]:[new ce(a,1-o),new ce(c,1-u),new ce(f,1-d),new ce(v,1-g)]}};function dS(A,e,t){if(t.shapes=[],Array.isArray(A))for(let n=0,i=A.length;n<i;n++){const r=A[n];t.shapes.push(r.uuid)}else t.shapes.push(A.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Zs extends Si{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,r,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zs(e.radius,e.detail)}}class qs extends Ie{constructor(e,t=12,n=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=$t(i,0,Math.PI*2);const r=[],s=[],a=[],o=1/t,l=new D,c=new ce;for(let u=0;u<=t;u++){const h=n+u*o*i,f=Math.sin(h),d=Math.cos(h);for(let p=0;p<=e.length-1;p++)l.x=e[p].x*f,l.y=e[p].y,l.z=e[p].x*d,s.push(l.x,l.y,l.z),c.x=u/t,c.y=p/(e.length-1),a.push(c.x,c.y)}for(let u=0;u<t;u++)for(let h=0;h<e.length-1;h++){const f=h+u*e.length,d=f,p=f+e.length,v=f+e.length+1,g=f+1;r.push(d,p,g),r.push(p,v,g)}if(this.setIndex(r),this.setAttribute("position",new Te(s,3)),this.setAttribute("uv",new Te(a,2)),this.computeVertexNormals(),i===Math.PI*2){const u=this.attributes.normal.array,h=new D,f=new D,d=new D,p=t*e.length*3;for(let v=0,g=0;v<e.length;v++,g+=3)h.x=u[g+0],h.y=u[g+1],h.z=u[g+2],f.x=u[p+g+0],f.y=u[p+g+1],f.z=u[p+g+2],d.addVectors(h,f).normalize(),u[g+0]=u[p+g+0]=d.x,u[g+1]=u[p+g+1]=d.y,u[g+2]=u[p+g+2]=d.z}}static fromJSON(e){return new qs(e.points,e.segments,e.phiStart,e.phiLength)}}class UA extends Si{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new UA(e.radius,e.detail)}}class Yc extends Ie{constructor(e,t,n){super();this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],s=[],a=[],o=1e-5,l=new D,c=new D,u=new D,h=new D,f=new D;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const d=t+1;for(let p=0;p<=n;p++){const v=p/n;for(let g=0;g<=t;g++){const m=g/t;e(m,v,c),r.push(c.x,c.y,c.z),m-o>=0?(e(m-o,v,u),h.subVectors(c,u)):(e(m+o,v,u),h.subVectors(u,c)),v-o>=0?(e(m,v-o,u),f.subVectors(c,u)):(e(m,v+o,u),f.subVectors(u,c)),l.crossVectors(h,f).normalize(),s.push(l.x,l.y,l.z),a.push(m,v)}}for(let p=0;p<n;p++)for(let v=0;v<t;v++){const g=p*d+v,m=p*d+v+1,w=(p+1)*d+v+1,B=(p+1)*d+v;i.push(g,m,B),i.push(m,w,B)}this.setIndex(i),this.setAttribute("position",new Te(r,3)),this.setAttribute("normal",new Te(s,3)),this.setAttribute("uv",new Te(a,2))}}class js extends Ie{constructor(e=.5,t=1,n=8,i=1,r=0,s=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},n=Math.max(3,n),i=Math.max(1,i);const a=[],o=[],l=[],c=[];let u=e;const h=(t-e)/i,f=new D,d=new ce;for(let p=0;p<=i;p++){for(let v=0;v<=n;v++){const g=r+v/n*s;f.x=u*Math.cos(g),f.y=u*Math.sin(g),o.push(f.x,f.y,f.z),l.push(0,0,1),d.x=(f.x/t+1)/2,d.y=(f.y/t+1)/2,c.push(d.x,d.y)}u+=h}for(let p=0;p<i;p++){const v=p*(n+1);for(let g=0;g<n;g++){const m=g+v,w=m,B=m+n+1,y=m+n+2,C=m+1;a.push(w,B,C),a.push(B,y,C)}}this.setIndex(a),this.setAttribute("position",new Te(o,3)),this.setAttribute("normal",new Te(l,3)),this.setAttribute("uv",new Te(c,2))}static fromJSON(e){return new js(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class DA extends Ie{constructor(e,t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],s=[];let a=0,o=0;if(Array.isArray(e)===!1)l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(a,o,c),a+=o,o=0;this.setIndex(n),this.setAttribute("position",new Te(i,3)),this.setAttribute("normal",new Te(r,3)),this.setAttribute("uv",new Te(s,2));function l(c){const u=i.length/3,h=c.extractPoints(t);let f=h.shape;const d=h.holes;Ci.isClockWise(f)===!1&&(f=f.reverse());for(let v=0,g=d.length;v<g;v++){const m=d[v];Ci.isClockWise(m)===!0&&(d[v]=m.reverse())}const p=Ci.triangulateShape(f,d);for(let v=0,g=d.length;v<g;v++){const m=d[v];f=f.concat(m)}for(let v=0,g=f.length;v<g;v++){const m=f[v];i.push(m.x,m.y,0),r.push(0,0,1),s.push(m.x,m.y)}for(let v=0,g=p.length;v<g;v++){const m=p[v],w=m[0]+u,B=m[1]+u,y=m[2]+u;n.push(w,B,y),o+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return pS(t,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const s=t[e.shapes[i]];n.push(s)}return new DA(n,e.curveSegments)}}function pS(A,e){if(e.shapes=[],Array.isArray(A))for(let t=0,n=A.length;t<n;t++){const i=A[t];e.shapes.push(i.uuid)}else e.shapes.push(A.uuid);return e}class IA extends Ie{constructor(e=1,t=32,n=16,i=0,r=Math.PI*2,s=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const o=Math.min(s+a,Math.PI);let l=0;const c=[],u=new D,h=new D,f=[],d=[],p=[],v=[];for(let g=0;g<=n;g++){const m=[],w=g/n;let B=0;g==0&&s==0?B=.5/t:g==n&&o==Math.PI&&(B=-.5/t);for(let y=0;y<=t;y++){const C=y/t;u.x=-e*Math.cos(i+C*r)*Math.sin(s+w*a),u.y=e*Math.cos(s+w*a),u.z=e*Math.sin(i+C*r)*Math.sin(s+w*a),d.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),v.push(C+B,1-w),m.push(l++)}c.push(m)}for(let g=0;g<n;g++)for(let m=0;m<t;m++){const w=c[g][m+1],B=c[g][m],y=c[g+1][m],C=c[g+1][m+1];(g!==0||s>0)&&f.push(w,B,C),(g!==n-1||o<Math.PI)&&f.push(B,y,C)}this.setIndex(f),this.setAttribute("position",new Te(d,3)),this.setAttribute("normal",new Te(p,3)),this.setAttribute("uv",new Te(v,2))}static fromJSON(e){return new IA(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $s extends Si{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $s(e.radius,e.detail)}}class Jc extends ui{constructor(e,t={}){const n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ie;const i=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1);super(i,t);this.type="TextGeometry"}}class ea extends Ie{constructor(e=1,t=.4,n=8,i=6,r=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],o=[],l=[],c=new D,u=new D,h=new D;for(let f=0;f<=n;f++)for(let d=0;d<=i;d++){const p=d/i*r,v=f/n*Math.PI*2;u.x=(e+t*Math.cos(v))*Math.cos(p),u.y=(e+t*Math.cos(v))*Math.sin(p),u.z=t*Math.sin(v),a.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),h.subVectors(u,c).normalize(),o.push(h.x,h.y,h.z),l.push(d/i),l.push(f/n)}for(let f=1;f<=n;f++)for(let d=1;d<=i;d++){const p=(i+1)*f+d-1,v=(i+1)*(f-1)+d-1,g=(i+1)*(f-1)+d,m=(i+1)*f+d;s.push(p,v,m),s.push(v,g,m)}this.setIndex(s),this.setAttribute("position",new Te(a,3)),this.setAttribute("normal",new Te(o,3)),this.setAttribute("uv",new Te(l,2))}static fromJSON(e){return new ea(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ta extends Ie{constructor(e=1,t=.4,n=64,i=8,r=2,s=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},n=Math.floor(n),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new D,h=new D,f=new D,d=new D,p=new D,v=new D,g=new D;for(let w=0;w<=n;++w){const B=w/n*r*Math.PI*2;m(B,r,s,e,f),m(B+.01,r,s,e,d),v.subVectors(d,f),g.addVectors(d,f),p.crossVectors(v,g),g.crossVectors(p,v),p.normalize(),g.normalize();for(let y=0;y<=i;++y){const C=y/i*Math.PI*2,x=-t*Math.cos(C),E=t*Math.sin(C);u.x=f.x+(x*g.x+E*p.x),u.y=f.y+(x*g.y+E*p.y),u.z=f.z+(x*g.z+E*p.z),o.push(u.x,u.y,u.z),h.subVectors(u,f).normalize(),l.push(h.x,h.y,h.z),c.push(w/n),c.push(y/i)}}for(let w=1;w<=n;w++)for(let B=1;B<=i;B++){const y=(i+1)*(w-1)+(B-1),C=(i+1)*w+(B-1),x=(i+1)*w+B,E=(i+1)*(w-1)+B;a.push(y,C,E),a.push(C,x,E)}this.setIndex(a),this.setAttribute("position",new Te(o,3)),this.setAttribute("normal",new Te(l,3)),this.setAttribute("uv",new Te(c,2));function m(w,B,y,C,x){const E=Math.cos(w),M=Math.sin(w),H=y/B*w,N=Math.cos(H);x.x=C*(2+N)*.5*E,x.y=C*(2+N)*M*.5,x.z=C*Math.sin(H)*.5}}static fromJSON(e){return new ta(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class na extends Ie{constructor(e,t=64,n=1,i=8,r=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const s=e.computeFrenetFrames(t,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new D,o=new D,l=new ce;let c=new D;const u=[],h=[],f=[],d=[];p(),this.setIndex(d),this.setAttribute("position",new Te(u,3)),this.setAttribute("normal",new Te(h,3)),this.setAttribute("uv",new Te(f,2));function p(){for(let w=0;w<t;w++)v(w);v(r===!1?t:0),m(),g()}function v(w){c=e.getPointAt(w/t,c);const B=s.normals[w],y=s.binormals[w];for(let C=0;C<=i;C++){const x=C/i*Math.PI*2,E=Math.sin(x),M=-Math.cos(x);o.x=M*B.x+E*y.x,o.y=M*B.y+E*y.y,o.z=M*B.z+E*y.z,o.normalize(),h.push(o.x,o.y,o.z),a.x=c.x+n*o.x,a.y=c.y+n*o.y,a.z=c.z+n*o.z,u.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=t;w++)for(let B=1;B<=i;B++){const y=(i+1)*(w-1)+(B-1),C=(i+1)*w+(B-1),x=(i+1)*w+B,E=(i+1)*(w-1)+B;d.push(y,C,E),d.push(C,x,E)}}function m(){for(let w=0;w<=t;w++)for(let B=0;B<=i;B++)l.x=w/t,l.y=B/i,f.push(l.x,l.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new na(new vp[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class wp extends Ie{constructor(e){super();if(this.type="WireframeGeometry",e.isGeometry===!0){console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return}const t=[],n=new Set,i=new D,r=new D;if(e.index!==null){const s=e.attributes.position,a=e.index;let o=e.groups;o.length===0&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let l=0,c=o.length;l<c;++l){const u=o[l],h=u.start,f=u.count;for(let d=h,p=h+f;d<p;d+=3)for(let v=0;v<3;v++){const g=a.getX(d+v),m=a.getX(d+(v+1)%3);i.fromBufferAttribute(s,g),r.fromBufferAttribute(s,m),Im(i,r,n)===!0&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const s=e.attributes.position;for(let a=0,o=s.count/3;a<o;a++)for(let l=0;l<3;l++){const c=3*a+l,u=3*a+(l+1)%3;i.fromBufferAttribute(s,c),r.fromBufferAttribute(s,u),Im(i,r,n)===!0&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Te(t,3))}}function Im(A,e,t){const n=`${A.x},${A.y},${A.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${A.x},${A.y},${A.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n,i),!0)}var Lm=Object.freeze({__proto__:null,BoxGeometry:qi,BoxBufferGeometry:qi,CircleGeometry:Xs,CircleBufferGeometry:Xs,ConeGeometry:Ys,ConeBufferGeometry:Ys,CylinderGeometry:Gr,CylinderBufferGeometry:Gr,DodecahedronGeometry:Js,DodecahedronBufferGeometry:Js,EdgesGeometry:hp,ExtrudeGeometry:ui,ExtrudeBufferGeometry:ui,IcosahedronGeometry:Zs,IcosahedronBufferGeometry:Zs,LatheGeometry:qs,LatheBufferGeometry:qs,OctahedronGeometry:UA,OctahedronBufferGeometry:UA,ParametricGeometry:Yc,ParametricBufferGeometry:Yc,PlaneGeometry:Mi,PlaneBufferGeometry:Mi,PolyhedronGeometry:Si,PolyhedronBufferGeometry:Si,RingGeometry:js,RingBufferGeometry:js,ShapeGeometry:DA,ShapeBufferGeometry:DA,SphereGeometry:IA,SphereBufferGeometry:IA,TetrahedronGeometry:$s,TetrahedronBufferGeometry:$s,TextGeometry:Jc,TextBufferGeometry:Jc,TorusGeometry:ea,TorusBufferGeometry:ea,TorusKnotGeometry:ta,TorusKnotBufferGeometry:ta,TubeGeometry:na,TubeBufferGeometry:na,WireframeGeometry:wp});class Bp extends Rt{constructor(e){super();this.type="ShadowMaterial",this.color=new ve(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}Bp.prototype.isShadowMaterial=!0;class OA extends Rt{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}OA.prototype.isMeshStandardMaterial=!0;class Jr extends OA{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ce(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=$t(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new ve(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new ve(1,1,1),this.specularTintMap=null,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new ve).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationTint.copy(e.attenuationTint),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularTint.copy(e.specularTint),this.specularTintMap=e.specularTintMap,this}}Jr.prototype.isMeshPhysicalMaterial=!0;class yp extends Rt{constructor(e){super();this.type="MeshPhongMaterial",this.color=new ve(16777215),this.specular=new ve(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}yp.prototype.isMeshPhongMaterial=!0;class xp extends Rt{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ve(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}xp.prototype.isMeshToonMaterial=!0;class Cp extends Rt{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}Cp.prototype.isMeshNormalMaterial=!0;class _p extends Rt{constructor(e){super();this.type="MeshLambertMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}_p.prototype.isMeshLambertMaterial=!0;class Ep extends Rt{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ve(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}Ep.prototype.isMeshMatcapMaterial=!0;class bp extends Nt{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}bp.prototype.isLineDashedMaterial=!0;var gS=Object.freeze({__proto__:null,ShadowMaterial:Bp,SpriteMaterial:vu,RawShaderMaterial:pa,ShaderMaterial:Pn,PointsMaterial:Yr,MeshPhysicalMaterial:Jr,MeshStandardMaterial:OA,MeshPhongMaterial:yp,MeshToonMaterial:xp,MeshNormalMaterial:Cp,MeshLambertMaterial:_p,MeshDepthMaterial:Xo,MeshDistanceMaterial:Yo,MeshBasicMaterial:hn,MeshMatcapMaterial:Ep,LineDashedMaterial:bp,LineBasicMaterial:Nt,Material:Rt});const dt={arraySlice:function(A,e,t){return dt.isTypedArray(A)?new A.constructor(A.subarray(e,t!==void 0?t:A.length)):A.slice(e,t)},convertArray:function(A,e,t){return!A||!t&&A.constructor===e?A:typeof e.BYTES_PER_ELEMENT=="number"?new e(A):Array.prototype.slice.call(A)},isTypedArray:function(A){return ArrayBuffer.isView(A)&&!(A instanceof DataView)},getKeyframeOrder:function(A){function e(i,r){return A[i]-A[r]}const t=A.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n},sortedArray:function(A,e,t){const n=A.length,i=new A.constructor(n);for(let r=0,s=0;s!==n;++r){const a=t[r]*e;for(let o=0;o!==e;++o)i[s++]=A[a+o]}return i},flattenJSON:function(A,e,t,n){let i=1,r=A[0];for(;r!==void 0&&r[n]===void 0;)r=A[i++];if(r===void 0)return;let s=r[n];if(s!==void 0)if(Array.isArray(s))do s=r[n],s!==void 0&&(e.push(r.time),t.push.apply(t,s)),r=A[i++];while(r!==void 0);else if(s.toArray!==void 0)do s=r[n],s!==void 0&&(e.push(r.time),s.toArray(t,t.length)),r=A[i++];while(r!==void 0);else do s=r[n],s!==void 0&&(e.push(r.time),t.push(s)),r=A[i++];while(r!==void 0)},subclip:function(A,e,t,n,i=30){const r=A.clone();r.name=e;const s=[];for(let o=0;o<r.tracks.length;++o){const l=r.tracks[o],c=l.getValueSize(),u=[],h=[];for(let f=0;f<l.times.length;++f){const d=l.times[f]*i;if(!(d<t||d>=n)){u.push(l.times[f]);for(let p=0;p<c;++p)h.push(l.values[f*c+p])}}u.length!==0&&(l.times=dt.convertArray(u,l.times.constructor),l.values=dt.convertArray(h,l.values.constructor),s.push(l))}r.tracks=s;let a=1/0;for(let o=0;o<r.tracks.length;++o)a>r.tracks[o].times[0]&&(a=r.tracks[o].times[0]);for(let o=0;o<r.tracks.length;++o)r.tracks[o].shift(-1*a);return r.resetDuration(),r},makeClipAdditive:function(A,e=0,t=A,n=30){n<=0&&(n=30);const i=t.tracks.length,r=e/n;for(let s=0;s<i;++s){const a=t.tracks[s],o=a.ValueTypeName;if(o==="bool"||o==="string")continue;const l=A.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===o});if(l===void 0)continue;let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);let h=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const d=a.times.length-1;let p;if(r<=a.times[0]){const g=c,m=u-c;p=dt.arraySlice(a.values,g,m)}else if(r>=a.times[d]){const g=d*u+c,m=g+u-c;p=dt.arraySlice(a.values,g,m)}else{const g=a.createInterpolant(),m=c,w=u-c;g.evaluate(r),p=dt.arraySlice(g.resultBuffer,m,w)}o==="quaternion"&&new Ot().fromArray(p).normalize().conjugate().toArray(p);const v=l.times.length;for(let g=0;g<v;++g){const m=g*f+h;if(o==="quaternion")Ot.multiplyQuaternionsFlat(l.values,m,p,0,l.values,m);else{const w=f-h*2;for(let B=0;B<w;++B)l.values[m+B]-=p[B]}}}return A.blendMode=Jd,A}};class Fi{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let s;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=r)){const a=t[1];e<a&&(n=2,r=a);for(let o=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0;break n}break e}for(;n<s;){const a=n+s>>>1;e<t[a]?s=a:n=a+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let s=0;s!==i;++s)t[s]=n[r+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Fi.prototype.beforeStart_=Fi.prototype.copySampleValue_;Fi.prototype.afterEnd_=Fi.prototype.copySampleValue_;class _y extends Fi{constructor(e,t,n,i){super(e,t,n,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:mA,endingEnd:mA}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,s=e+1,a=i[r],o=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case vA:r=e,a=2*t-n;break;case Uo:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(o===void 0)switch(this.getSettings_().endingEnd){case vA:s=e,o=2*n-t;break;case Uo:s=1,o=n+i[1]-i[0];break;default:s=e-1,o=t}const l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-n),this._offsetPrev=r*c,this._offsetNext=s*c}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(i-t),p=d*d,v=p*d,g=-h*v+2*h*p-h*d,m=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*d+1,w=(-1-f)*v+(1.5+f)*p+.5*d,B=f*v-f*p;for(let y=0;y!==a;++y)r[y]=g*s[c+y]+m*s[l+y]+w*s[o+y]+B*s[u+y];return r}}class Mp extends Fi{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=(n-t)/(i-t),u=1-c;for(let h=0;h!==a;++h)r[h]=s[l+h]*u+s[o+h]*c;return r}}class Ey extends Fi{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class di{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=dt.convertArray(t,this.TimeBufferType),this.values=dt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:dt.convertArray(e.times,Array),values:dt.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Ey(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Mp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _y(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Vs:t=this.InterpolantFactoryMethodDiscrete;break;case FA:t=this.InterpolantFactoryMethodLinear;break;case Uc:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Vs;case this.InterpolantFactoryMethodLinear:return FA;case this.InterpolantFactoryMethodSmooth:return Uc}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<e;)++r;for(;s!==-1&&n[s]>t;)--s;if(++s,r!==0||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const a=this.getValueSize();this.times=dt.arraySlice(n,r,s),this.values=dt.arraySlice(this.values,r*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==r;a++){const o=n[a];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),e=!1;break}if(s!==null&&s>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,s),e=!1;break}s=o}if(i!==void 0&&dt.isTypedArray(i))for(let a=0,o=i.length;a!==o;++a){const l=i[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){const e=dt.arraySlice(this.times),t=dt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Uc,r=e.length-1;let s=1;for(let a=1;a<r;++a){let o=!1;const l=e[a],c=e[a+1];if(l!==c&&(a!==1||l!==e[0]))if(i)o=!0;else{const u=a*n,h=u-n,f=u+n;for(let d=0;d!==n;++d){const p=t[u+d];if(p!==t[h+d]||p!==t[f+d]){o=!0;break}}}if(o){if(a!==s){e[s]=e[a];const u=a*n,h=s*n;for(let f=0;f!==n;++f)t[h+f]=t[u+f]}++s}}if(r>0){e[s]=e[r];for(let a=r*n,o=s*n,l=0;l!==n;++l)t[o+l]=t[a+l];++s}return s!==e.length?(this.times=dt.arraySlice(e,0,s),this.values=dt.arraySlice(t,0,s*n)):(this.times=e,this.values=t),this}clone(){const e=dt.arraySlice(this.times,0),t=dt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}di.prototype.TimeBufferType=Float32Array;di.prototype.ValueBufferType=Float32Array;di.prototype.DefaultInterpolation=FA;class NA extends di{}NA.prototype.ValueTypeName="bool";NA.prototype.ValueBufferType=Array;NA.prototype.DefaultInterpolation=Vs;NA.prototype.InterpolantFactoryMethodLinear=void 0;NA.prototype.InterpolantFactoryMethodSmooth=void 0;class Tp extends di{}Tp.prototype.ValueTypeName="color";class ia extends di{}ia.prototype.ValueTypeName="number";class by extends Fi{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-t)/(i-t);let l=e*a;for(let c=l+a;l!==c;l+=4)Ot.slerpFlat(r,0,s,l-a,s,l,o);return r}}class GA extends di{InterpolantFactoryMethodLinear(e){return new by(this.times,this.values,this.getValueSize(),e)}}GA.prototype.ValueTypeName="quaternion";GA.prototype.DefaultInterpolation=FA;GA.prototype.InterpolantFactoryMethodSmooth=void 0;class kA extends di{}kA.prototype.ValueTypeName="string";kA.prototype.ValueBufferType=Array;kA.prototype.DefaultInterpolation=Vs;kA.prototype.InterpolantFactoryMethodLinear=void 0;kA.prototype.InterpolantFactoryMethodSmooth=void 0;class ra extends di{}ra.prototype.ValueTypeName="vector";class Aa{constructor(e,t=-1,n,i=cu){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Rn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let s=0,a=n.length;s!==a;++s)t.push(vS(n[s]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,s=n.length;r!==s;++r)t.push(di.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,s=[];for(let a=0;a<r;a++){let o=[],l=[];o.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);const c=dt.getKeyframeOrder(o);o=dt.sortedArray(o,1,c),l=dt.sortedArray(l,1,c),!i&&o[0]===0&&(o.push(r),l.push(l[0])),s.push(new ia(".morphTargetInfluences["+t[a].name+"]",o,l).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.name.match(r);if(c&&c.length>1){const u=c[1];let h=i[u];h||(i[u]=h=[]),h.push(l)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(u,h,f,d,p){if(f.length!==0){const v=[],g=[];dt.flattenJSON(f,v,g,d),v.length!==0&&p.push(new u(h,v,g))}},i=[],r=e.name||"default",s=e.fps||30,a=e.blendMode;let o=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const h=l[u].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const f={};let d;for(d=0;d<h.length;d++)if(h[d].morphTargets)for(let p=0;p<h[d].morphTargets.length;p++)f[h[d].morphTargets[p]]=-1;for(const p in f){const v=[],g=[];for(let m=0;m!==h[d].morphTargets.length;++m){const w=h[d];v.push(w.time),g.push(w.morphTarget===p?1:0)}i.push(new ia(".morphTargetInfluence["+p+"]",v,g))}o=f.length*(s||1)}else{const f=".bones["+t[u].name+"]";n(ra,f+".position",h,"pos",i),n(GA,f+".quaternion",h,"rot",i),n(ra,f+".scale",h,"scl",i)}}return i.length===0?null:new this(r,o,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mS(A){switch(A.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ia;case"vector":case"vector2":case"vector3":case"vector4":return ra;case"color":return Tp;case"quaternion":return GA;case"bool":case"boolean":return NA;case"string":return kA}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+A)}function vS(A){if(A.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mS(A.type);if(A.times===void 0){const t=[],n=[];dt.flattenJSON(A.keys,t,n,"value"),A.times=t,A.values=n}return e.parse!==void 0?e.parse(A):new e(A.name,A.times,A.values,A.interpolation)}const LA={enabled:!1,files:{},add:function(A,e){this.enabled!==!1&&(this.files[A]=e)},get:function(A){if(this.enabled!==!1)return this.files[A]},remove:function(A){delete this.files[A]},clear:function(){this.files={}}};class Sp{constructor(e,t,n){const i=this;let r=!1,s=0,a=0,o;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){a++,r===!1&&i.onStart!==void 0&&i.onStart(c,s,a),r=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,a),s===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return o?o(c):c},this.setURLModifier=function(c){return o=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){const u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,h=l.length;u<h;u+=2){const f=l[u],d=l[u+1];if(f.global&&(f.lastIndex=0),f.test(c))return d}return null}}}const My=new Sp;class Yt{constructor(e){this.manager=e!==void 0?e:My,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ai={};class mn extends Yt{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=LA.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(ai[e]!==void 0){ai[e].push({onLoad:t,onProgress:n,onError:i});return}const a=/^data:(.*?)(;base64)?,(.*)$/,o=e.match(a);let l;if(o){const c=o[1],u=!!o[2];let h=o[3];h=decodeURIComponent(h),u&&(h=atob(h));try{let f;const d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":const p=new Uint8Array(h.length);for(let g=0;g<h.length;g++)p[g]=h.charCodeAt(g);d==="blob"?f=new Blob([p.buffer],{type:c}):f=p.buffer;break;case"document":f=new DOMParser().parseFromString(h,c);break;case"json":f=JSON.parse(h);break;default:f=h;break}setTimeout(function(){t&&t(f),r.manager.itemEnd(e)},0)}catch(f){setTimeout(function(){i&&i(f),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{ai[e]=[],ai[e].push({onLoad:t,onProgress:n,onError:i}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(c){const u=this.response,h=ai[e];if(delete ai[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),LA.add(e,u);for(let f=0,d=h.length;f<d;f++){const p=h[f];p.onLoad&&p.onLoad(u)}r.manager.itemEnd(e)}else{for(let f=0,d=h.length;f<d;f++){const p=h[f];p.onError&&p.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(c){const u=ai[e];for(let h=0,f=u.length;h<f;h++){const d=u[h];d.onProgress&&d.onProgress(c)}},!1),l.addEventListener("error",function(c){const u=ai[e];delete ai[e];for(let h=0,f=u.length;h<f;h++){const d=u[h];d.onError&&d.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),l.addEventListener("abort",function(c){const u=ai[e];delete ai[e];for(let h=0,f=u.length;h<f;h++){const d=u[h];d.onError&&d.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const c in this.requestHeader)l.setRequestHeader(c,this.requestHeader[c]);l.send(null)}return r.manager.itemStart(e),l}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class wS extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new mn(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=Aa.parse(e[n]);t.push(i)}return t}}class BS extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=this,s=[],a=new cp,o=new mn(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials);let l=0;function c(u){o.load(e[u],function(h){const f=r.parse(h,!0);s[u]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},l+=1,l===6&&(f.mipmapCount===1&&(a.minFilter=tt),a.image=s,a.format=f.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else o.load(e,function(u){const h=r.parse(u,!0);if(h.isCubemap){const f=h.mipmaps.length/h.mipmapCount;for(let d=0;d<f;d++){s[d]={mipmaps:[]};for(let p=0;p<h.mipmapCount;p++)s[d].mipmaps.push(h.mipmaps[d*h.mipmapCount+p]),s[d].format=h.format,s[d].width=h.width,s[d].height=h.height}a.image=s}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=tt),a.format=h.format,a.needsUpdate=!0,t&&t(a)},n,i);return a}}class Ro extends Yt{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=LA.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function o(){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1),LA.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(c){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1),i&&i(c),r.manager.itemError(e),r.manager.itemEnd(e)}return a.addEventListener("load",o,!1),a.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class Ty extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=new fa,s=new Ro(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(l){s.load(e[l],function(c){r.images[l]=c,a++,a===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)o(l);return r}}class Sy extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new Ur,a=new mn(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(e,function(o){const l=r.parse(o);!l||(l.image!==void 0?s.image=l.image:l.data!==void 0&&(s.image.width=l.width,s.image.height=l.height,s.image.data=l.data),s.wrapS=l.wrapS!==void 0?l.wrapS:Kt,s.wrapT=l.wrapT!==void 0?l.wrapT:Kt,s.magFilter=l.magFilter!==void 0?l.magFilter:tt,s.minFilter=l.minFilter!==void 0?l.minFilter:tt,s.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.encoding!==void 0&&(s.encoding=l.encoding),l.flipY!==void 0&&(s.flipY=l.flipY),l.format!==void 0&&(s.format=l.format),l.type!==void 0&&(s.type=l.type),l.mipmaps!==void 0&&(s.mipmaps=l.mipmaps,s.minFilter=er),l.mipmapCount===1&&(s.minFilter=tt),l.generateMipmaps!==void 0&&(s.generateMipmaps=l.generateMipmaps),s.needsUpdate=!0,t&&t(s,l))},n,i),s}}class Fp extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=new Et,s=new Ro(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){r.image=a;const o=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=o?Wi:Mn,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}}class Fy extends On{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new tl(t,e))}getPoint(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,s=this.curves[i],a=s.getLength(),o=a===0?0:1-r/a;return s.getPointAt(o)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],a=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let l=0;l<o.length;l++){const c=o[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new vp[i.type]().fromJSON(i))}return this}}class Ho extends Fy{constructor(e){super();this.type="Path",this.currentPoint=new ce,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new tl(this.currentPoint.clone(),new ce(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new xu(this.currentPoint.clone(),new ce(e,t),new ce(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,s){const a=new yu(this.currentPoint.clone(),new ce(e,t),new ce(n,i),new ce(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Cu(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,n,i,r,s),this}absarc(e,t,n,i,r,s){return this.absellipse(e,t,n,n,i,r,s),this}ellipse(e,t,n,i,r,s,a,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,s,a,o),this}absellipse(e,t,n,i,r,s,a,o){const l=new el(e,t,n,i,r,s,a,o);if(this.curves.length>0){const u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Dr extends Ho{constructor(e){super(e);this.uuid=Rn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Ho().fromJSON(i))}return this}}class hi extends ze{constructor(e,t=1){super();this.type="Light",this.color=new ve(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}hi.prototype.isLight=!0;class Up extends hi{constructor(e,t,n){super(e,n);this.type="HemisphereLight",this.position.copy(ze.DefaultUp),this.updateMatrix(),this.groundColor=new ve(t)}copy(e){return hi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Up.prototype.isHemisphereLight=!0;const Qm=new Se,Rm=new D,Hm=new D;class Dp{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ce(512,512),this.map=null,this.mapPass=null,this.matrix=new Se,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Wo,this._frameExtents=new ce(1,1),this._viewportCount=1,this._viewports=[new $e(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Rm.setFromMatrixPosition(e.matrixWorld),t.position.copy(Rm),Hm.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Hm),t.updateMatrixWorld(),Qm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qm),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Uy extends Dp{constructor(){super(new It(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,n=Do*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}Uy.prototype.isSpotLightShadow=!0;class Eu extends hi{constructor(e,t,n=0,i=Math.PI/3,r=0,s=1){super(e,t);this.type="SpotLight",this.position.copy(ze.DefaultUp),this.updateMatrix(),this.target=new ze,this.distance=n,this.angle=i,this.penumbra=r,this.decay=s,this.shadow=new Uy}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Eu.prototype.isSpotLight=!0;const Pm=new Se,ka=new D,kh=new D;class Dy extends Dp{constructor(){super(new It(90,1,.5,500));this._frameExtents=new ce(4,2),this._viewportCount=6,this._viewports=[new $e(2,1,1,1),new $e(0,1,1,1),new $e(3,1,1,1),new $e(1,1,1,1),new $e(3,0,1,1),new $e(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),ka.setFromMatrixPosition(e.matrixWorld),n.position.copy(ka),kh.copy(n.position),kh.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(kh),n.updateMatrixWorld(),i.makeTranslation(-ka.x,-ka.y,-ka.z),Pm.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Pm)}}Dy.prototype.isPointLightShadow=!0;class bu extends hi{constructor(e,t,n=0,i=1){super(e,t);this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Dy}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}bu.prototype.isPointLight=!0;class Iy extends Dp{constructor(){super(new da(-5,5,5,-5,.5,500))}}Iy.prototype.isDirectionalLightShadow=!0;class Mu extends hi{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(ze.DefaultUp),this.updateMatrix(),this.target=new ze,this.shadow=new Iy}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Mu.prototype.isDirectionalLight=!0;class Ip extends hi{constructor(e,t){super(e,t);this.type="AmbientLight"}}Ip.prototype.isAmbientLight=!0;class Lp extends hi{constructor(e,t,n=10,i=10){super(e,t);this.type="RectAreaLight",this.width=n,this.height=i}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}Lp.prototype.isRectAreaLight=!0;class Qp{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new D)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*r),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*i)),t.addScaledVector(s[5],1.092548*(i*r)),t.addScaledVector(s[6],.315392*(3*r*r-1)),t.addScaledVector(s[7],1.092548*(n*r)),t.addScaledVector(s[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*r),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*i),t.addScaledVector(s[5],2*.429043*i*r),t.addScaledVector(s[6],.743125*r*r-.247708),t.addScaledVector(s[7],2*.429043*n*r),t.addScaledVector(s[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}Qp.prototype.isSphericalHarmonics3=!0;class nl extends hi{constructor(e=new Qp,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}nl.prototype.isLightProbe=!0;class Ly extends Yt{constructor(e){super(e);this.textures={}}load(e,t,n,i){const r=this,s=new mn(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new gS[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new ve().setHex(e.sheen)),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularTint!==void 0&&i.specularTint!==void 0&&i.specularTint.setHex(e.specularTint),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationTint!==void 0&&i.attenuationTint!==void 0&&i.attenuationTint.setHex(e.attenuationTint),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const s=e.uniforms[r];switch(i.uniforms[r]={},s.type){case"t":i.uniforms[r].value=n(s.value);break;case"c":i.uniforms[r].value=new ve().setHex(s.value);break;case"v2":i.uniforms[r].value=new ce().fromArray(s.value);break;case"v3":i.uniforms[r].value=new D().fromArray(s.value);break;case"v4":i.uniforms[r].value=new $e().fromArray(s.value);break;case"m3":i.uniforms[r].value=new Qt().fromArray(s.value);break;case"m4":i.uniforms[r].value=new Se().fromArray(s.value);break;default:i.uniforms[r].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new ce().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularTintMap!==void 0&&(i.specularTintMap=n(e.specularTintMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ce().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),i}setTextures(e){return this.textures=e,this}}class Xi{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}}class Tu extends Ie{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Tu.prototype.isInstancedBufferGeometry=!0;class Su extends Pe{constructor(e,t,n,i=1){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,n);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Su.prototype.isInstancedBufferAttribute=!0;class Qy extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new mn(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(f,d){if(t[d]!==void 0)return t[d];const v=f.interleavedBuffers[d],g=r(f,v.buffer),m=Ms(v.type,g),w=new Xr(m,v.stride);return w.uuid=v.uuid,t[d]=w,w}function r(f,d){if(n[d]!==void 0)return n[d];const v=f.arrayBuffers[d],g=new Uint32Array(v).buffer;return n[d]=g,g}const s=e.isInstancedBufferGeometry?new Tu:new Ie,a=e.data.index;if(a!==void 0){const f=Ms(a.type,a.array);s.setIndex(new Pe(f,1))}const o=e.data.attributes;for(const f in o){const d=o[f];let p;if(d.isInterleavedBufferAttribute){const v=i(e.data,d.data);p=new ji(v,d.itemSize,d.offset,d.normalized)}else{const v=Ms(d.type,d.array),g=d.isInstancedBufferAttribute?Su:Pe;p=new g(v,d.itemSize,d.normalized)}d.name!==void 0&&(p.name=d.name),d.usage!==void 0&&p.setUsage(d.usage),d.updateRange!==void 0&&(p.updateRange.offset=d.updateRange.offset,p.updateRange.count=d.updateRange.count),s.setAttribute(f,p)}const l=e.data.morphAttributes;if(l)for(const f in l){const d=l[f],p=[];for(let v=0,g=d.length;v<g;v++){const m=d[v];let w;if(m.isInterleavedBufferAttribute){const B=i(e.data,m.data);w=new ji(B,m.itemSize,m.offset,m.normalized)}else{const B=Ms(m.type,m.array);w=new Pe(B,m.itemSize,m.normalized)}m.name!==void 0&&(w.name=m.name),p.push(w)}s.morphAttributes[f]=p}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let f=0,d=u.length;f!==d;++f){const p=u[f];s.addGroup(p.start,p.count,p.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const f=new D;h.center!==void 0&&f.fromArray(h.center),s.boundingSphere=new Ui(f,h.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class yS extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=this,s=this.path===""?Xi.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new mn(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){let l=null;try{l=JSON.parse(o)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(l,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?Xi.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const r=new mn(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const s=await r.loadAsync(e,t),a=JSON.parse(s),o=a.metadata;if(o===void 0||o.type===void 0||o.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(l)}),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),t!==void 0){let u=!1;for(const h in s)if(s[h]instanceof HTMLImageElement){u=!0;break}u===!1&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,s),o=this.parseObject(e.object,i,a,s,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),o}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const r=new Dr().fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(r){r.isBone&&(i[r.uuid]=r)}),e!==void 0)for(let r=0,s=e.length;r<s;r++){const a=new $o().fromJSON(e[r],i);n[a.uuid]=a}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new Qy;for(let r=0,s=e.length;r<s;r++){let a;const o=e[r];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(o);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:o.type in Lm?a=Lm[o.type].fromJSON(o,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${o.type}"`)}a.uuid=o.uuid,o.name!==void 0&&(a.name=o.name),a.isBufferGeometry===!0&&o.userData!==void 0&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const r=new Ly;r.setTextures(t);for(let s=0,a=e.length;s<a;s++){const o=e[s];if(o.type==="MultiMaterial"){const l=[];for(let c=0;c<o.materials.length;c++){const u=o.materials[c];n[u.uuid]===void 0&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[o.uuid]=l}else n[o.uuid]===void 0&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],r=Aa.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function s(o){return n.manager.itemStart(o),r.load(o,function(){n.manager.itemEnd(o)},void 0,function(){n.manager.itemError(o),n.manager.itemEnd(o)})}function a(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return s(c)}else return o.data?{data:Ms(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){const o=new Sp(t);r=new Ro(o),r.setCrossOrigin(this.crossOrigin);for(let l=0,c=e.length;l<c;l++){const u=e[l],h=u.url;if(Array.isArray(h)){i[u.uuid]=[];for(let f=0,d=h.length;f<d;f++){const p=h[f],v=a(p);v!==null&&(v instanceof HTMLImageElement?i[u.uuid].push(v):i[u.uuid].push(new Ur(v.data,v.width,v.height)))}}else{const f=a(u.url);f!==null&&(i[u.uuid]=f)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(s){if(typeof s=="string"){const a=s,o=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(o)}else return s.data?{data:Ms(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Ro(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const o=e[s],l=o.url;if(Array.isArray(l)){n[o.uuid]=[];for(let c=0,u=l.length;c<u;c++){const h=l[c],f=await r(h);f!==null&&(f instanceof HTMLImageElement?n[o.uuid].push(f):n[o.uuid].push(new Ur(f.data,f.width,f.height)))}}else{const c=await r(o.url);c!==null&&(n[o.uuid]=c)}}}return n}parseTextures(e,t){function n(r,s){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),s[r])}const i={};if(e!==void 0)for(let r=0,s=e.length;r<s;r++){const a=e[r];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let o;const l=t[a.image];Array.isArray(l)?(o=new fa(l),l.length===6&&(o.needsUpdate=!0)):(l&&l.data?o=new Ur(l.data,l.width,l.height):o=new Et(l),l&&(o.needsUpdate=!0)),o.uuid=a.uuid,a.name!==void 0&&(o.name=a.name),a.mapping!==void 0&&(o.mapping=n(a.mapping,xS)),a.offset!==void 0&&o.offset.fromArray(a.offset),a.repeat!==void 0&&o.repeat.fromArray(a.repeat),a.center!==void 0&&o.center.fromArray(a.center),a.rotation!==void 0&&(o.rotation=a.rotation),a.wrap!==void 0&&(o.wrapS=n(a.wrap[0],Om),o.wrapT=n(a.wrap[1],Om)),a.format!==void 0&&(o.format=a.format),a.type!==void 0&&(o.type=a.type),a.encoding!==void 0&&(o.encoding=a.encoding),a.minFilter!==void 0&&(o.minFilter=n(a.minFilter,Nm)),a.magFilter!==void 0&&(o.magFilter=n(a.magFilter,Nm)),a.anisotropy!==void 0&&(o.anisotropy=a.anisotropy),a.flipY!==void 0&&(o.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(o.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(o.unpackAlignment=a.unpackAlignment),i[a.uuid]=o}return i}parseObject(e,t,n,i,r){let s;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function o(h){if(h!==void 0){if(Array.isArray(h)){const f=[];for(let d=0,p=h.length;d<p;d++){const v=h[d];n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),f.push(n[v])}return f}return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),n[h]}}function l(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,u;switch(e.type){case"Scene":s=new Fr,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new ve(e.background):s.background=l(e.background)),e.environment!==void 0&&(s.environment=l(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Zo(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Jo(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new It(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new da(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Ip(e.color,e.intensity);break;case"DirectionalLight":s=new Mu(e.color,e.intensity);break;case"PointLight":s=new bu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Lp(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Eu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new Up(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new nl().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),u=o(e.material),s=new qo(c,u),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),u=o(e.material),s=new gt(c,u);break;case"InstancedMesh":c=a(e.geometry),u=o(e.material);const h=e.count,f=e.instanceMatrix,d=e.instanceColor;s=new lp(c,u,h),s.instanceMatrix=new Pe(new Float32Array(f.array),16),d!==void 0&&(s.instanceColor=new Pe(new Float32Array(d.array),d.itemSize));break;case"LOD":s=new my;break;case"Line":s=new Ti(a(e.geometry),o(e.material));break;case"LineLoop":s=new Bu(a(e.geometry),o(e.material));break;case"LineSegments":s=new gn(a(e.geometry),o(e.material));break;case"PointCloud":case"Points":s=new ma(a(e.geometry),o(e.material));break;case"Sprite":s=new wu(o(e.material));break;case"Group":s=new xi;break;case"Bone":s=new jo;break;default:s=new ze}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let f=0;f<h.length;f++)s.add(this.parseObject(h[f],t,n,i,r))}if(e.animations!==void 0){const h=e.animations;for(let f=0;f<h.length;f++){const d=h[f];s.animations.push(r[d])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let f=0;f<h.length;f++){const d=h[f],p=s.getObjectByProperty("uuid",d.object);p!==void 0&&s.addLevel(p,d.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const xS={UVMapping:ou,CubeReflectionMapping:la,CubeRefractionMapping:ca,EquirectangularReflectionMapping:bo,EquirectangularRefractionMapping:Mo,CubeUVReflectionMapping:ua,CubeUVRefractionMapping:Ko},Om={RepeatWrapping:Or,ClampToEdgeWrapping:Kt,MirroredRepeatWrapping:ks},Nm={NearestFilter:Bt,NearestMipmapNearestFilter:To,NearestMipmapLinearFilter:So,LinearFilter:tt,LinearMipmapNearestFilter:lu,LinearMipmapLinearFilter:er};class Rp extends Yt{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=LA.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(o){return o.blob()}).then(function(o){return createImageBitmap(o,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(o){LA.add(e,o),t&&t(o),r.manager.itemEnd(e)}).catch(function(o){i&&i(o),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}}Rp.prototype.isImageBitmapLoader=!0;class Ry{constructor(){this.type="ShapePath",this.color=new ve,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ho,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,s){return this.currentPath.bezierCurveTo(e,t,n,i,r,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(m){const w=[];for(let B=0,y=m.length;B<y;B++){const C=m[B],x=new Dr;x.curves=C.curves,w.push(x)}return w}function i(m,w){const B=w.length;let y=!1;for(let C=B-1,x=0;x<B;C=x++){let E=w[C],M=w[x],H=M.x-E.x,N=M.y-E.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(E=w[x],H=-H,M=w[C],N=-N),m.y<E.y||m.y>M.y)continue;if(m.y===E.y){if(m.x===E.x)return!0}else{const O=N*(m.x-E.x)-H*(m.y-E.y);if(O===0)return!0;if(O<0)continue;y=!y}}else{if(m.y!==E.y)continue;if(M.x<=m.x&&m.x<=E.x||E.x<=m.x&&m.x<=M.x)return!0}}return y}const r=Ci.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return n(s);let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new Dr,l.curves=o.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const h=[],f=[];let d=[],p=0,v;f[p]=void 0,d[p]=[];for(let m=0,w=s.length;m<w;m++)o=s[m],v=o.getPoints(),a=r(v),a=e?!a:a,a?(!u&&f[p]&&p++,f[p]={s:new Dr,p:v},f[p].s.curves=o.curves,u&&p++,d[p]=[]):d[p].push({h:o,p:v[0]});if(!f[0])return n(s);if(f.length>1){let m=!1;const w=[];for(let B=0,y=f.length;B<y;B++)h[B]=[];for(let B=0,y=f.length;B<y;B++){const C=d[B];for(let x=0;x<C.length;x++){const E=C[x];let M=!0;for(let H=0;H<f.length;H++)i(E.p,f[H].p)&&(B!==H&&w.push({froms:B,tos:H,hole:x}),M?(M=!1,h[H].push(E)):m=!0);M&&h[B].push(E)}}w.length>0&&(m||(d=h))}let g;for(let m=0,w=f.length;m<w;m++){l=f[m].s,c.push(l),g=d[m];for(let B=0,y=g.length;B<y;B++)l.holes.push(g[B].h)}return c}}class Hp{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],i=CS(e,t,this.data);for(let r=0,s=i.length;r<s;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}function CS(A,e,t){const n=Array.from(A),i=e/t.resolution,r=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*i,s=[];let a=0,o=0;for(let l=0;l<n.length;l++){const c=n[l];if(c===`
`)a=0,o-=r;else{const u=_S(c,i,a,o,t);a+=u.offsetX,s.push(u.path)}}return s}function _S(A,e,t,n,i){const r=i.glyphs[A]||i.glyphs["?"];if(!r){console.error('THREE.Font: character "'+A+'" does not exists in font family '+i.familyName+".");return}const s=new Ry;let a,o,l,c,u,h,f,d;if(r.o){const p=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let v=0,g=p.length;v<g;)switch(p[v++]){case"m":a=p[v++]*e+t,o=p[v++]*e+n,s.moveTo(a,o);break;case"l":a=p[v++]*e+t,o=p[v++]*e+n,s.lineTo(a,o);break;case"q":l=p[v++]*e+t,c=p[v++]*e+n,u=p[v++]*e+t,h=p[v++]*e+n,s.quadraticCurveTo(u,h,l,c);break;case"b":l=p[v++]*e+t,c=p[v++]*e+n,u=p[v++]*e+t,h=p[v++]*e+n,f=p[v++]*e+t,d=p[v++]*e+n,s.bezierCurveTo(u,h,f,d,l,c);break}}return{offsetX:r.ha*e,path:s}}Hp.prototype.isFont=!0;class ES extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new mn(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(a){let o;try{o=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),o=JSON.parse(a.substring(65,a.length-2))}const l=r.parse(o);t&&t(l)},n,i)}parse(e){return new Hp(e)}}let $l;const Pp={getContext:function(){return $l===void 0&&($l=new(window.AudioContext||window.webkitAudioContext)),$l},setContext:function(A){$l=A}};class Hy extends Yt{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new mn(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const o=a.slice(0);Pp.getContext().decodeAudioData(o,function(c){t(c)})}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}}class Py extends nl{constructor(e,t,n=1){super(void 0,n);const i=new ve().set(e),r=new ve().set(t),s=new D(i.r,i.g,i.b),a=new D(r.r,r.g,r.b),o=Math.sqrt(Math.PI),l=o*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(l)}}Py.prototype.isHemisphereLightProbe=!0;class Oy extends nl{constructor(e,t=1){super(void 0,t);const n=new ve().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Oy.prototype.isAmbientLightProbe=!0;const Gm=new Se,km=new Se;class bS{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new It,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new It,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(bA*t.fov*.5)/t.zoom;let o,l;km.elements[12]=-r,Gm.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,i.elements[0]=2*t.near/(l-o),i.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(i),o=-a*t.aspect-s,l=a*t.aspect-s,i.elements[0]=2*t.near/(l-o),i.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(km),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Gm)}}class Ny{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Vm(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Vm();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Vm(){return(typeof performance=="undefined"?Date:performance).now()}const eA=new D,zm=new Ot,MS=new D,tA=new D;class TS extends ze{constructor(){super();this.type="AudioListener",this.context=Pp.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ny}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(eA,zm,MS),tA.set(0,0,-1).applyQuaternion(zm),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(eA.x,i),t.positionY.linearRampToValueAtTime(eA.y,i),t.positionZ.linearRampToValueAtTime(eA.z,i),t.forwardX.linearRampToValueAtTime(tA.x,i),t.forwardY.linearRampToValueAtTime(tA.y,i),t.forwardZ.linearRampToValueAtTime(tA.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(eA.x,eA.y,eA.z),t.setOrientation(tA.x,tA.y,tA.z,n.x,n.y,n.z)}}class Op extends ze{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const nA=new D,Km=new Ot,SS=new D,iA=new D;class FS extends Op{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(nA,Km,SS),iA.set(0,0,1).applyQuaternion(Km);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(nA.x,n),t.positionY.linearRampToValueAtTime(nA.y,n),t.positionZ.linearRampToValueAtTime(nA.z,n),t.orientationX.linearRampToValueAtTime(iA.x,n),t.orientationY.linearRampToValueAtTime(iA.y,n),t.orientationZ.linearRampToValueAtTime(iA.z,n)}else t.setPosition(nA.x,nA.y,nA.z),t.setOrientation(iA.x,iA.y,iA.z)}}class Gy{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class ky{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,r,s;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)n[r+a]=n[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const o=t*this._origIndex;this._mixBufferRegion(n,i,o,1-r,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let o=t,l=t+t;o!==l;++o)if(n[o]!==n[o+t]){a.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,s=i;r!==s;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let s=0;s!==r;++s)e[t+s]=e[n+s]}_slerp(e,t,n,i){Ot.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const s=this._workIndex*r;Ot.multiplyQuaternionsFlat(e,s,e,t,e,n),Ot.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,n,i,r){const s=1-i;for(let a=0;a!==r;++a){const o=t+a;e[o]=e[o]*s+e[n+a]*i}}_lerpAdditive(e,t,n,i,r){for(let s=0;s!==r;++s){const a=t+s;e[a]=e[a]+e[n+s]*i}}}const Np="\\[\\]\\.:\\/",US=new RegExp("["+Np+"]","g"),Gp="[^"+Np+"]",DS="[^"+Np.replace("\\.","")+"]",IS=/((?:WC+[\/:])*)/.source.replace("WC",Gp),LS=/(WCOD+)?/.source.replace("WCOD",DS),QS=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Gp),RS=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Gp),HS=new RegExp("^"+IS+LS+QS+RS+"$"),PS=["material","materials","bones"];class OS{constructor(e,t,n){const i=n||Ze.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Ze{constructor(e,t,n){this.path=t,this.parsedPath=n||Ze.parseTrackName(t),this.node=Ze.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Ze.Composite(e,t,n):new Ze(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(US,"")}static parseTrackName(e){const t=HS.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);PS.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let s=0;s<r.length;s++){const a=r[s];if(a.name===t||a.uuid===t)return a;const o=n(a.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.node[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Ze.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const s=e[i];if(s===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else s.fromArray!==void 0&&s.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ze.Composite=OS;Ze.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ze.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ze.prototype.GetterByBindingType=[Ze.prototype._getValue_direct,Ze.prototype._getValue_array,Ze.prototype._getValue_arrayElement,Ze.prototype._getValue_toArray];Ze.prototype.SetterByBindingTypeAndVersioning=[[Ze.prototype._setValue_direct,Ze.prototype._setValue_direct_setNeedsUpdate,Ze.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ze.prototype._setValue_array,Ze.prototype._setValue_array_setNeedsUpdate,Ze.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ze.prototype._setValue_arrayElement,Ze.prototype._setValue_arrayElement_setNeedsUpdate,Ze.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ze.prototype._setValue_fromArray,Ze.prototype._setValue_fromArray_setNeedsUpdate,Ze.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Vy{constructor(){this.uuid=Rn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let a,o=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const h=arguments[c],f=h.uuid;let d=t[f];if(d===void 0){d=o++,t[f]=d,e.push(h);for(let p=0,v=s;p!==v;++p)r[p].push(new Ze(h,n[p],i[p]))}else if(d<l){a=e[d];const p=--l,v=e[p];t[v.uuid]=d,e[d]=v,t[f]=p,e[p]=h;for(let g=0,m=s;g!==m;++g){const w=r[g],B=w[p];let y=w[d];w[d]=B,y===void 0&&(y=new Ze(h,n[g],i[g])),w[p]=y}}else e[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const o=arguments[s],l=o.uuid,c=t[l];if(c!==void 0&&c>=r){const u=r++,h=e[u];t[h.uuid]=c,e[c]=h,t[l]=u,e[u]=o;for(let f=0,d=i;f!==d;++f){const p=n[f],v=p[u],g=p[c];p[c]=v,p[u]=g}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=e.length;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=t[c];if(u!==void 0)if(delete t[c],u<r){const h=--r,f=e[h],d=--s,p=e[d];t[f.uuid]=u,e[u]=f,t[p.uuid]=h,e[h]=p,e.pop();for(let v=0,g=i;v!==g;++v){const m=n[v],w=m[h],B=m[d];m[u]=w,m[h]=B,m.pop()}}else{const h=--s,f=e[h];h>0&&(t[f.uuid]=u),e[u]=f,e.pop();for(let d=0,p=i;d!==p;++d){const v=n[d];v[u]=v[h],v.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(i!==void 0)return r[i];const s=this._paths,a=this._parsedPaths,o=this._objects,l=o.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,s.push(e),a.push(t),r.push(u);for(let h=c,f=o.length;h!==f;++h){const d=o[h];u[h]=new Ze(d,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a],l=e[a];t[l]=n,s[n]=o,s.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}Vy.prototype.isAnimationObjectGroup=!0;class NS{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,s=r.length,a=new Array(s),o={endingStart:mA,endingEnd:mA};for(let l=0;l!==s;++l){const c=r[l].createInterpolant(null);a[l]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=HB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,r=e._clip.duration,s=r/i,a=i/r;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,o[1]=r+n,l[0]=e/s,l[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const o=(e-r)*n;if(o<0||n===0)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const o=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case Jd:for(let c=0,u=o.length;c!==u;++c)o[c].evaluate(s),l[c].accumulateAdditive(a);break;case cu:default:for(let c=0,u=o.length;c!==u;++c)o[c].evaluate(s),l[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;n!==null&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const s=n===PB;if(e===0)return r===-1?i:s&&(r&1)===1?t-i:i;if(n===RB){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,r+=Math.abs(a);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){const l=e<0;this._setEndings(l,!l,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(r&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=vA,i.endingEnd=vA):(e?i.endingStart=this.zeroSlopeAtStart?vA:mA:i.endingStart=Uo,t?i.endingEnd=this.zeroSlopeAtEnd?vA:mA:i.endingEnd=Uo)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=r,o[0]=t,a[1]=r+e,o[1]=n,this}}class zy extends fi{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,a=e._interpolants,o=n.uuid,l=this._bindingsByRootAndName;let c=l[o];c===void 0&&(c={},l[o]=c);for(let u=0;u!==r;++u){const h=i[u],f=h.name;let d=c[f];if(d!==void 0)s[u]=d;else{if(d=s[u],d!==void 0){d._cacheIndex===null&&(++d.referenceCount,this._addInactiveBinding(d,o,f));continue}const p=t&&t._propertyBindings[u].binding.parsedPath;d=new ky(Ze.create(n,f,p),h.ValueTypeName,h.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,o,f),s[u]=d}a[u].resultBuffer=d.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let s=r[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,s=this._actionsByClip,a=s[r],o=a.knownActions,l=o[o.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h],o.length===0&&delete s[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,a=s[i],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete a[r],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Mp(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let s=typeof e=="string"?Aa.findByName(i,e):e;const a=s!==null?s.uuid:e,o=this._actionsByClip[a];let l=null;if(n===void 0&&(s!==null?n=s.blendMode:n=cu),o!==void 0){const u=o.actionByRoot[r];if(u!==void 0&&u.blendMode===n)return u;l=o.knownActions[0],s===null&&(s=l._clip)}if(s===null)return null;const c=new NS(this,s,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,r),c}existingAction(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?Aa.findByName(n,e):e,s=r?r.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,s);const a=this._bindings,o=this._nActiveBindings;for(let l=0;l!==o;++l)a[l].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const s=r.knownActions;for(let a=0,o=s.length;a!==o;++a){const l=s[a];this._deactivateAction(l);const c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const a=n[s].actionByRoot,o=a[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const s in r){const a=r[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}zy.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class pt{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new pt(this.value.clone===void 0?this.value:this.value.clone())}}class Ky extends Xr{constructor(e,t,n=1){super(e,t);this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}Ky.prototype.isInstancedInterleavedBuffer=!0;class Wy{constructor(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}Wy.prototype.isGLBufferAttribute=!0;class GS{constructor(e,t,n=0,i=1/0){this.ray=new Wr(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new np,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!1,n=[]){return ed(e,this,n,t),n.sort(Wm),n}intersectObjects(e,t=!1,n=[]){for(let i=0,r=e.length;i<r;i++)ed(e[i],this,n,t);return n.sort(Wm),n}}function Wm(A,e){return A.distance-e.distance}function ed(A,e,t,n){if(A.layers.test(e.layers)&&A.raycast(e,t),n===!0){const i=A.children;for(let r=0,s=i.length;r<s;r++)ed(i[r],e,t,!0)}}class td{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos($t(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class kS{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Xm=new ce;class va{constructor(e=new ce(1/0,1/0),t=new ce(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Xm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Xm.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}va.prototype.isBox2=!0;const Ym=new D,ec=new D;class Xy{constructor(e=new D,t=new D){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Ym.subVectors(e,this.start),ec.subVectors(this.end,this.start);const n=ec.dot(ec);let r=ec.dot(Ym)/n;return t&&(r=$t(r,0,1)),r}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class Yy extends ze{constructor(e){super();this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}Yy.prototype.isImmediateRenderObject=!0;const Jm=new D;class VS extends ze{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new Ie,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,o=32;s<o;s++,a++){const l=s/o*Math.PI*2,c=a/o*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new Te(i,3));const r=new Nt({fog:!1,toneMapped:!1});this.cone=new gn(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Jm.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Jm),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const hr=new D,tc=new Se,Vh=new Se;class Jy extends gn{constructor(e){const t=Zy(e),n=new Ie,i=[],r=[],s=new ve(0,0,1),a=new ve(0,1,0);for(let l=0;l<t.length;l++){const c=t[l];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(a.r,a.g,a.b))}n.setAttribute("position",new Te(i,3)),n.setAttribute("color",new Te(r,3));const o=new Nt({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");Vh.copy(this.root.matrixWorld).invert();for(let r=0,s=0;r<t.length;r++){const a=t[r];a.parent&&a.parent.isBone&&(tc.multiplyMatrices(Vh,a.matrixWorld),hr.setFromMatrixPosition(tc),i.setXYZ(s,hr.x,hr.y,hr.z),tc.multiplyMatrices(Vh,a.parent.matrixWorld),hr.setFromMatrixPosition(tc),i.setXYZ(s+1,hr.x,hr.y,hr.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Zy(A){const e=[];A&&A.isBone&&e.push(A);for(let t=0;t<A.children.length;t++)e.push.apply(e,Zy(A.children[t]));return e}class zS extends gt{constructor(e,t,n){const i=new IA(t,4,2),r=new hn({wireframe:!0,fog:!1,toneMapped:!1});super(i,r);this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const KS=new D,Zm=new ve,qm=new ve;class WS extends ze{constructor(e,t,n){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new UA(t);i.rotateY(Math.PI*.5),this.material=new hn({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),s=new Float32Array(r.count*3);i.setAttribute("color",new Pe(s,3)),this.add(new gt(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Zm.copy(this.light.color),qm.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const r=n<i/2?Zm:qm;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(KS.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qy extends gn{constructor(e=10,t=10,n=4473924,i=8947848){n=new ve(n),i=new ve(i);const r=t/2,s=e/t,a=e/2,o=[],l=[];for(let h=0,f=0,d=-a;h<=t;h++,d+=s){o.push(-a,0,d,a,0,d),o.push(d,0,-a,d,0,a);const p=h===r?n:i;p.toArray(l,f),f+=3,p.toArray(l,f),f+=3,p.toArray(l,f),f+=3,p.toArray(l,f),f+=3}const c=new Ie;c.setAttribute("position",new Te(o,3)),c.setAttribute("color",new Te(l,3));const u=new Nt({vertexColors:!0,toneMapped:!1});super(c,u);this.type="GridHelper"}}class XS extends gn{constructor(e=10,t=16,n=8,i=64,r=4473924,s=8947848){r=new ve(r),s=new ve(s);const a=[],o=[];for(let u=0;u<=t;u++){const h=u/t*(Math.PI*2),f=Math.sin(h)*e,d=Math.cos(h)*e;a.push(0,0,0),a.push(f,0,d);const p=u&1?r:s;o.push(p.r,p.g,p.b),o.push(p.r,p.g,p.b)}for(let u=0;u<=n;u++){const h=u&1?r:s,f=e-e/n*u;for(let d=0;d<i;d++){let p=d/i*(Math.PI*2),v=Math.sin(p)*f,g=Math.cos(p)*f;a.push(v,0,g),o.push(h.r,h.g,h.b),p=(d+1)/i*(Math.PI*2),v=Math.sin(p)*f,g=Math.cos(p)*f,a.push(v,0,g),o.push(h.r,h.g,h.b)}}const l=new Ie;l.setAttribute("position",new Te(a,3)),l.setAttribute("color",new Te(o,3));const c=new Nt({vertexColors:!0,toneMapped:!1});super(l,c);this.type="PolarGridHelper"}}const jm=new D,nc=new D,$m=new D;class YS extends ze{constructor(e,t,n){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let i=new Ie;i.setAttribute("position",new Te([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Nt({fog:!1,toneMapped:!1});this.lightPlane=new Ti(i,r),this.add(this.lightPlane),i=new Ie,i.setAttribute("position",new Te([0,0,0,0,0,1],3)),this.targetLine=new Ti(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){jm.setFromMatrixPosition(this.light.matrixWorld),nc.setFromMatrixPosition(this.light.target.matrixWorld),$m.subVectors(nc,jm),this.lightPlane.lookAt(nc),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nc),this.targetLine.scale.z=$m.length()}}const ic=new D,Ct=new ha;class JS extends gn{constructor(e){const t=new Ie,n=new Nt({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],s={},a=new ve(16755200),o=new ve(16711680),l=new ve(43775),c=new ve(16777215),u=new ve(3355443);h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",o),h("p","n2",o),h("p","n3",o),h("p","n4",o),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",c),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u);function h(d,p,v){f(d,v),f(p,v)}function f(d,p){i.push(0,0,0),r.push(p.r,p.g,p.b),s[d]===void 0&&(s[d]=[]),s[d].push(i.length/3-1)}t.setAttribute("position",new Te(i,3)),t.setAttribute("color",new Te(r,3));super(t,n);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;Ct.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mt("c",t,e,Ct,0,0,-1),Mt("t",t,e,Ct,0,0,1),Mt("n1",t,e,Ct,-n,-i,-1),Mt("n2",t,e,Ct,n,-i,-1),Mt("n3",t,e,Ct,-n,i,-1),Mt("n4",t,e,Ct,n,i,-1),Mt("f1",t,e,Ct,-n,-i,1),Mt("f2",t,e,Ct,n,-i,1),Mt("f3",t,e,Ct,-n,i,1),Mt("f4",t,e,Ct,n,i,1),Mt("u1",t,e,Ct,n*.7,i*1.1,-1),Mt("u2",t,e,Ct,-n*.7,i*1.1,-1),Mt("u3",t,e,Ct,0,i*2,-1),Mt("cf1",t,e,Ct,-n,0,1),Mt("cf2",t,e,Ct,n,0,1),Mt("cf3",t,e,Ct,0,-i,1),Mt("cf4",t,e,Ct,0,i,1),Mt("cn1",t,e,Ct,-n,0,-1),Mt("cn2",t,e,Ct,n,0,-1),Mt("cn3",t,e,Ct,0,-i,-1),Mt("cn4",t,e,Ct,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mt(A,e,t,n,i,r,s){ic.set(i,r,s).unproject(n);const a=e[A];if(a!==void 0){const o=t.getAttribute("position");for(let l=0,c=a.length;l<c;l++)o.setXYZ(a[l],ic.x,ic.y,ic.z)}}const rc=new vn;class jy extends gn{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),r=new Ie;r.setIndex(new Pe(n,1)),r.setAttribute("position",new Pe(i,3));super(r,new Nt({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&rc.setFromObject(this.object),rc.isEmpty())return;const t=rc.min,n=rc.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return gn.prototype.copy.call(this,e),this.object=e.object,this}}class ZS extends gn{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Ie;r.setIndex(new Pe(n,1)),r.setAttribute("position",new Te(i,3));super(r,new Nt({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class qS extends Ti{constructor(e,t=1,n=16776960){const i=n,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new Ie;s.setAttribute("position",new Te(r,3)),s.computeBoundingSphere();super(s,new Nt({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],o=new Ie;o.setAttribute("position",new Te(a,3)),o.computeBoundingSphere(),this.add(new gt(o,new hn({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?ct:Ei,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const e0=new D;let Ac,zh;class jS extends ze{constructor(e=new D(0,0,1),t=new D(0,0,0),n=1,i=16776960,r=n*.2,s=r*.2){super();this.type="ArrowHelper",Ac===void 0&&(Ac=new Ie,Ac.setAttribute("position",new Te([0,0,0,0,1,0],3)),zh=new Gr(0,.5,1,5,1),zh.translate(0,-.5,0)),this.position.copy(t),this.line=new Ti(Ac,new Nt({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new gt(zh,new hn({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{e0.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(e0,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class $y extends gn{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ie;i.setAttribute("position",new Te(t,3)),i.setAttribute("color",new Te(n,3));const r=new Nt({vertexColors:!0,toneMapped:!1});super(i,r);this.type="AxesHelper"}setColors(e,t,n){const i=new ve,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const ex=new Float32Array(1),$S=new Int32Array(ex.buffer);class eF{static toHalfFloat(e){ex[0]=e;const t=$S[0];let n=t>>16&32768,i=t>>12&2047;const r=t>>23&255;return r<103?n:r>142?(n|=31744,n|=(r==255?0:1)&&t&8388607,n):r<113?(i|=2048,n|=(i>>114-r)+(i>>113-r&1),n):(n|=r-112<<10|i>>1,n+=i&1,n)}}const tF=0,nF=1,iF=0,rF=1,AF=2;function sF(A){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),A}function aF(A=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),A.isMultiMaterial=!0,A.materials=A,A.clone=function(){return A.slice()},A}function oF(A,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ma(A,e)}function lF(A){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new wu(A)}function cF(A,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ma(A,e)}function uF(A){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Yr(A)}function hF(A){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Yr(A)}function fF(A){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Yr(A)}function dF(A,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new D(A,e,t)}function pF(A,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Pe(A,e).setUsage(Ks)}function gF(A,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new YB(A,e)}function mF(A,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new JB(A,e)}function vF(A,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ZB(A,e)}function wF(A,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new qB(A,e)}function BF(A,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new du(A,e)}function yF(A,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new jB(A,e)}function xF(A,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new pu(A,e)}function CF(A,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Te(A,e)}function _F(A,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ey(A,e)}On.create=function(A,e){return console.log("THREE.Curve.create() has been deprecated"),A.prototype=Object.create(On.prototype),A.prototype.constructor=A,A.prototype.getPoint=e,A};Ho.prototype.fromPoints=function(A){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(A)};function EF(A){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new $y(A)}function bF(A,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new jy(A,e)}function MF(A,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new gn(new hp(A.geometry),new Nt({color:e!==void 0?e:16777215}))}qy.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Jy.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function TF(A,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new gn(new wp(A.geometry),new Nt({color:e!==void 0?e:16777215}))}Yt.prototype.extractUrlBase=function(A){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Xi.extractUrlBase(A)};Yt.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function SF(A){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new mn(A)}function FF(A){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Sy(A)}va.prototype.center=function(A){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(A)};va.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};va.prototype.isIntersectionBox=function(A){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(A)};va.prototype.size=function(A){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(A)};vn.prototype.center=function(A){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(A)};vn.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};vn.prototype.isIntersectionBox=function(A){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(A)};vn.prototype.isIntersectionSphere=function(A){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(A)};vn.prototype.size=function(A){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(A)};Ui.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Wo.prototype.setFromMatrix=function(A){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(A)};Xy.prototype.center=function(A){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(A)};Qt.prototype.flattenToArrayOffset=function(A,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(A,e)};Qt.prototype.multiplyVector3=function(A){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),A.applyMatrix3(this)};Qt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Qt.prototype.applyToBufferAttribute=function(A){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),A.applyMatrix3(this)};Qt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Qt.prototype.getInverse=function(A){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(A).invert()};Se.prototype.extractPosition=function(A){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(A)};Se.prototype.flattenToArrayOffset=function(A,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(A,e)};Se.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new D().setFromMatrixColumn(this,3)};Se.prototype.setRotationFromQuaternion=function(A){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(A)};Se.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Se.prototype.multiplyVector3=function(A){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),A.applyMatrix4(this)};Se.prototype.multiplyVector4=function(A){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),A.applyMatrix4(this)};Se.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Se.prototype.rotateAxis=function(A){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),A.transformDirection(this)};Se.prototype.crossVector=function(A){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),A.applyMatrix4(this)};Se.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Se.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Se.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Se.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Se.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Se.prototype.applyToBufferAttribute=function(A){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),A.applyMatrix4(this)};Se.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Se.prototype.makeFrustum=function(A,e,t,n,i,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(A,e,n,t,i,r)};Se.prototype.getInverse=function(A){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(A).invert()};wi.prototype.isIntersectionLine=function(A){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(A)};Ot.prototype.multiplyVector3=function(A){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),A.applyQuaternion(this)};Ot.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Wr.prototype.isIntersectionBox=function(A){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(A)};Wr.prototype.isIntersectionPlane=function(A){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(A)};Wr.prototype.isIntersectionSphere=function(A){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(A)};Ft.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Ft.prototype.barycoordFromPoint=function(A,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(A,e)};Ft.prototype.midpoint=function(A){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(A)};Ft.prototypenormal=function(A){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(A)};Ft.prototype.plane=function(A){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(A)};Ft.barycoordFromPoint=function(A,e,t,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ft.getBarycoord(A,e,t,n,i)};Ft.normal=function(A,e,t,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ft.getNormal(A,e,t,n)};Dr.prototype.extractAllPoints=function(A){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(A)};Dr.prototype.extrude=function(A){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ui(this,A)};Dr.prototype.makeGeometry=function(A){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new DA(this,A)};ce.prototype.fromAttribute=function(A,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(A,e,t)};ce.prototype.distanceToManhattan=function(A){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(A)};ce.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};D.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};D.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};D.prototype.getPositionFromMatrix=function(A){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(A)};D.prototype.getScaleFromMatrix=function(A){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(A)};D.prototype.getColumnFromMatrix=function(A,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,A)};D.prototype.applyProjection=function(A){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(A)};D.prototype.fromAttribute=function(A,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(A,e,t)};D.prototype.distanceToManhattan=function(A){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(A)};D.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};$e.prototype.fromAttribute=function(A,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(A,e,t)};$e.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ze.prototype.getChildByName=function(A){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(A)};ze.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};ze.prototype.translate=function(A,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,A)};ze.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};ze.prototype.applyMatrix=function(A){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(A)};Object.defineProperties(ze.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(A){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=A}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});gt.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(gt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),OB},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});qo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};It.prototype.setLens=function(A,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(A)};Object.defineProperties(hi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(A){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=A}},shadowCameraLeft:{set:function(A){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=A}},shadowCameraRight:{set:function(A){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=A}},shadowCameraTop:{set:function(A){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=A}},shadowCameraBottom:{set:function(A){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=A}},shadowCameraNear:{set:function(A){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=A}},shadowCameraFar:{set:function(A){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=A}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(A){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=A}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(A){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=A}},shadowMapHeight:{set:function(A){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=A}}});Object.defineProperties(Pe.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Ks},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Ks)}}});Pe.prototype.setDynamic=function(A){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(A===!0?Ks:zs),this};Pe.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Pe.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ie.prototype.addIndex=function(A){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(A)};Ie.prototype.addAttribute=function(A,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(A,new Pe(arguments[1],arguments[2]))):A==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(A,e)};Ie.prototype.addDrawCall=function(A,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(A,e)};Ie.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Ie.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Ie.prototype.removeAttribute=function(A){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(A)};Ie.prototype.applyMatrix=function(A){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(A)};Object.defineProperties(Ie.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Xr.prototype.setDynamic=function(A){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(A===!0?Ks:zs),this};Xr.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ui.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ui.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ui.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Fr.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};pt.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Rt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ve}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(A){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=A===Wd}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(A){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=A}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Pn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(A){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=A}}});rt.prototype.clearTarget=function(A,e,t,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(A),this.clear(e,t,n)};rt.prototype.animate=function(A){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(A)};rt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};rt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};rt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};rt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};rt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};rt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};rt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};rt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};rt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};rt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};rt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};rt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};rt.prototype.enableScissorTest=function(A){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(A)};rt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};rt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};rt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};rt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};rt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};rt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};rt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};rt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};rt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};rt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(rt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(A){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=A}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(A){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=A}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(A){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=A===!0?Nr:dn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(fy.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function UF(A,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new mu(A,t)}Object.defineProperties(fn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(A){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=A}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(A){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=A}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(A){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=A}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(A){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=A}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(A){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=A}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(A){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=A}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(A){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=A}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(A){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=A}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(A){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=A}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(A){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=A}}});Op.prototype.load=function(A){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new Hy().load(A,function(n){e.setBuffer(n)}),this};Gy.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};gu.prototype.updateCubeMap=function(A,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(A,e)};gu.prototype.clear=function(A,e,t,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(A,e,t,n)};HA.crossOrigin=void 0;HA.loadTexture=function(A,e,t,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new Fp;i.setCrossOrigin(this.crossOrigin);const r=i.load(A,t,void 0,n);return e&&(r.mapping=e),r};HA.loadTextureCube=function(A,e,t,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new Ty;i.setCrossOrigin(this.crossOrigin);const r=i.load(A,t,void 0,n);return e&&(r.mapping=e),r};HA.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};HA.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function DF(){console.error("THREE.CanvasRenderer has been removed")}function IF(){console.error("THREE.JSONLoader has been removed.")}const LF={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function QF(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Vo}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Vo);var AH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping:kw,AddEquation:fA,AddOperation:Pw,AdditiveAnimationBlendMode:Jd,AdditiveBlending:Df,AlphaFormat:Zw,AlwaysDepth:Uw,AlwaysStencilFunc:VB,AmbientLight:Ip,AmbientLightProbe:Oy,AnimationClip:Aa,AnimationLoader:wS,AnimationMixer:zy,AnimationObjectGroup:Vy,AnimationUtils:dt,ArcCurve:fp,ArrayCamera:op,ArrowHelper:jS,Audio:Op,AudioAnalyser:Gy,AudioContext:Pp,AudioListener:TS,AudioLoader:Hy,AxesHelper:$y,AxisHelper:EF,BackSide:ct,BasicDepthPacking:RA,BasicShadowMap:T_,BinaryTextureLoader:FF,Bone:jo,BooleanKeyframeTrack:NA,BoundingBoxHelper:bF,Box2:va,Box3:vn,Box3Helper:ZS,BoxBufferGeometry:qi,BoxGeometry:qi,BoxHelper:jy,BufferAttribute:Pe,BufferGeometry:Ie,BufferGeometryLoader:Qy,ByteType:zw,Cache:LA,Camera:ha,CameraHelper:JS,CanvasRenderer:DF,CanvasTexture:wy,CatmullRomCurve3:pp,CineonToneMapping:Gw,CircleBufferGeometry:Xs,CircleGeometry:Xs,ClampToEdgeWrapping:Kt,Clock:Ny,Color:ve,ColorKeyframeTrack:Tp,CompressedTexture:cp,CompressedTextureLoader:BS,ConeBufferGeometry:Ys,ConeGeometry:Ys,CubeCamera:gu,CubeReflectionMapping:la,CubeRefractionMapping:ca,CubeTexture:fa,CubeTextureLoader:Ty,CubeUVReflectionMapping:ua,CubeUVRefractionMapping:Ko,CubicBezierCurve:yu,CubicBezierCurve3:gp,CubicInterpolant:_y,CullFaceBack:Uf,CullFaceFront:gw,CullFaceFrontBack:M_,CullFaceNone:pw,Curve:On,CurvePath:Fy,CustomBlending:vw,CustomToneMapping:Vw,CylinderBufferGeometry:Gr,CylinderGeometry:Gr,Cylindrical:kS,DataTexture:Ur,DataTexture2DArray:sp,DataTexture3D:ap,DataTextureLoader:Sy,DataUtils:eF,DecrementStencilOp:H_,DecrementWrapStencilOp:O_,DefaultLoadingManager:My,DepthFormat:EA,DepthStencilFormat:SA,DepthTexture:up,DirectionalLight:Mu,DirectionalLightHelper:YS,DiscreteInterpolant:Ey,DodecahedronBufferGeometry:Js,DodecahedronGeometry:Js,DoubleSide:Cn,DstAlphaFactor:Ew,DstColorFactor:Mw,DynamicBufferAttribute:pF,DynamicCopyUsage:$_,DynamicDrawUsage:Ks,DynamicReadUsage:Z_,EdgesGeometry:hp,EdgesHelper:MF,EllipseCurve:el,EqualDepth:Iw,EqualStencilFunc:V_,EquirectangularReflectionMapping:bo,EquirectangularRefractionMapping:Mo,Euler:PA,EventDispatcher:fi,ExtrudeBufferGeometry:ui,ExtrudeGeometry:ui,FaceColors:rF,FileLoader:mn,FlatShading:Wd,Float16BufferAttribute:$B,Float32Attribute:CF,Float32BufferAttribute:Te,Float64Attribute:_F,Float64BufferAttribute:ey,FloatType:Vi,Fog:Zo,FogExp2:Jo,Font:Hp,FontLoader:ES,FrontSide:Ei,Frustum:Wo,GLBufferAttribute:Wy,GLSL1:tE,GLSL3:Xf,GammaEncoding:uu,GreaterDepth:Qw,GreaterEqualDepth:Lw,GreaterEqualStencilFunc:X_,GreaterStencilFunc:K_,GridHelper:qy,Group:xi,HalfFloatType:CA,HemisphereLight:Up,HemisphereLightHelper:WS,HemisphereLightProbe:Py,IcosahedronBufferGeometry:Zs,IcosahedronGeometry:Zs,ImageBitmapLoader:Rp,ImageLoader:Ro,ImageUtils:HA,ImmediateRenderObject:Yy,IncrementStencilOp:R_,IncrementWrapStencilOp:P_,InstancedBufferAttribute:Su,InstancedBufferGeometry:Tu,InstancedInterleavedBuffer:Ky,InstancedMesh:lp,Int16Attribute:wF,Int16BufferAttribute:qB,Int32Attribute:yF,Int32BufferAttribute:jB,Int8Attribute:gF,Int8BufferAttribute:YB,IntType:Ww,InterleavedBuffer:Xr,InterleavedBufferAttribute:ji,Interpolant:Fi,InterpolateDiscrete:Vs,InterpolateLinear:FA,InterpolateSmooth:Uc,InvertStencilOp:N_,JSONLoader:IF,KeepStencilOp:Dc,KeyframeTrack:di,LOD:my,LatheBufferGeometry:qs,LatheGeometry:qs,Layers:np,LensFlare:QF,LessDepth:Dw,LessEqualDepth:Xc,LessEqualStencilFunc:z_,LessStencilFunc:k_,Light:hi,LightProbe:nl,Line:Ti,Line3:Xy,LineBasicMaterial:Nt,LineCurve:tl,LineCurve3:By,LineDashedMaterial:bp,LineLoop:Bu,LinePieces:nF,LineSegments:gn,LineStrip:tF,LinearEncoding:dn,LinearFilter:tt,LinearInterpolant:Mp,LinearMipMapLinearFilter:I_,LinearMipMapNearestFilter:D_,LinearMipmapLinearFilter:er,LinearMipmapNearestFilter:lu,LinearToneMapping:Ow,Loader:Yt,LoaderUtils:Xi,LoadingManager:Sp,LogLuvEncoding:GB,LoopOnce:RB,LoopPingPong:PB,LoopRepeat:HB,LuminanceAlphaFormat:jw,LuminanceFormat:qw,MOUSE:oA,Material:Rt,MaterialLoader:Ly,Math:Jf,MathUtils:Jf,Matrix3:Qt,Matrix4:Se,MaxEquation:Rf,Mesh:gt,MeshBasicMaterial:hn,MeshDepthMaterial:Xo,MeshDistanceMaterial:Yo,MeshFaceMaterial:sF,MeshLambertMaterial:_p,MeshMatcapMaterial:Ep,MeshNormalMaterial:Cp,MeshPhongMaterial:yp,MeshPhysicalMaterial:Jr,MeshStandardMaterial:OA,MeshToonMaterial:xp,MinEquation:Qf,MirroredRepeatWrapping:ks,MixOperation:Hw,MultiMaterial:aF,MultiplyBlending:Lf,MultiplyOperation:zo,NearestFilter:Bt,NearestMipMapLinearFilter:U_,NearestMipMapNearestFilter:F_,NearestMipmapLinearFilter:So,NearestMipmapNearestFilter:To,NeverDepth:Fw,NeverStencilFunc:G_,NoBlending:Qn,NoColors:iF,NoToneMapping:Mr,NormalAnimationBlendMode:cu,NormalBlending:Ds,NotEqualDepth:Rw,NotEqualStencilFunc:W_,NumberKeyframeTrack:ia,Object3D:ze,ObjectLoader:yS,ObjectSpaceNormalMap:kB,OctahedronBufferGeometry:UA,OctahedronGeometry:UA,OneFactor:xw,OneMinusDstAlphaFactor:bw,OneMinusDstColorFactor:Tw,OneMinusSrcAlphaFactor:Yd,OneMinusSrcColorFactor:_w,OrthographicCamera:da,PCFShadowMap:Kd,PCFSoftShadowMap:mw,PMREMGenerator:Ay,ParametricBufferGeometry:Yc,ParametricGeometry:Yc,Particle:lF,ParticleBasicMaterial:hF,ParticleSystem:cF,ParticleSystemMaterial:fF,Path:Ho,PerspectiveCamera:It,Plane:wi,PlaneBufferGeometry:Mi,PlaneGeometry:Mi,PlaneHelper:qS,PointCloud:oF,PointCloudMaterial:uF,PointLight:bu,PointLightHelper:zS,Points:ma,PointsMaterial:Yr,PolarGridHelper:XS,PolyhedronBufferGeometry:Si,PolyhedronGeometry:Si,PositionalAudio:FS,PropertyBinding:Ze,PropertyMixer:ky,QuadraticBezierCurve:xu,QuadraticBezierCurve3:mp,Quaternion:Ot,QuaternionKeyframeTrack:GA,QuaternionLinearInterpolant:by,REVISION:Vo,RGBADepthPacking:ep,RGBAFormat:Mn,RGBAIntegerFormat:AB,RGBA_ASTC_10x10_Format:vB,RGBA_ASTC_10x5_Format:pB,RGBA_ASTC_10x6_Format:gB,RGBA_ASTC_10x8_Format:mB,RGBA_ASTC_12x10_Format:wB,RGBA_ASTC_12x12_Format:BB,RGBA_ASTC_4x4_Format:aB,RGBA_ASTC_5x4_Format:oB,RGBA_ASTC_5x5_Format:lB,RGBA_ASTC_6x5_Format:cB,RGBA_ASTC_6x6_Format:uB,RGBA_ASTC_8x5_Format:hB,RGBA_ASTC_8x6_Format:fB,RGBA_ASTC_8x8_Format:dB,RGBA_BPTC_Format:yB,RGBA_ETC2_EAC_Format:Wf,RGBA_PVRTC_2BPPV1_Format:zf,RGBA_PVRTC_4BPPV1_Format:Vf,RGBA_S3TC_DXT1_Format:Pf,RGBA_S3TC_DXT3_Format:Of,RGBA_S3TC_DXT5_Format:Nf,RGBDEncoding:$d,RGBEEncoding:hu,RGBEFormat:$w,RGBFormat:Wi,RGBIntegerFormat:rB,RGBM16Encoding:jd,RGBM7Encoding:qd,RGB_ETC1_Format:sB,RGB_ETC2_Format:Kf,RGB_PVRTC_2BPPV1_Format:kf,RGB_PVRTC_4BPPV1_Format:Gf,RGB_S3TC_DXT1_Format:Hf,RGFormat:nB,RGIntegerFormat:iB,RawShaderMaterial:pa,Ray:Wr,Raycaster:GS,RectAreaLight:Lp,RedFormat:eB,RedIntegerFormat:tB,ReinhardToneMapping:Nw,RepeatWrapping:Or,ReplaceStencilOp:Q_,ReverseSubtractEquation:Bw,RingBufferGeometry:js,RingGeometry:js,SRGB8_ALPHA8_ASTC_10x10_Format:IB,SRGB8_ALPHA8_ASTC_10x5_Format:FB,SRGB8_ALPHA8_ASTC_10x6_Format:UB,SRGB8_ALPHA8_ASTC_10x8_Format:DB,SRGB8_ALPHA8_ASTC_12x10_Format:LB,SRGB8_ALPHA8_ASTC_12x12_Format:QB,SRGB8_ALPHA8_ASTC_4x4_Format:xB,SRGB8_ALPHA8_ASTC_5x4_Format:CB,SRGB8_ALPHA8_ASTC_5x5_Format:_B,SRGB8_ALPHA8_ASTC_6x5_Format:EB,SRGB8_ALPHA8_ASTC_6x6_Format:bB,SRGB8_ALPHA8_ASTC_8x5_Format:MB,SRGB8_ALPHA8_ASTC_8x6_Format:TB,SRGB8_ALPHA8_ASTC_8x8_Format:SB,Scene:Fr,SceneUtils:LF,ShaderChunk:Ve,ShaderLib:ci,ShaderMaterial:Pn,ShadowMaterial:Bp,Shape:Dr,ShapeBufferGeometry:DA,ShapeGeometry:DA,ShapePath:Ry,ShapeUtils:Ci,ShortType:Kw,Skeleton:$o,SkeletonHelper:Jy,SkinnedMesh:qo,SmoothShading:S_,Sphere:Ui,SphereBufferGeometry:IA,SphereGeometry:IA,Spherical:td,SphericalHarmonics3:Qp,SplineCurve:Cu,SpotLight:Eu,SpotLightHelper:VS,Sprite:wu,SpriteMaterial:vu,SrcAlphaFactor:Xd,SrcAlphaSaturateFactor:Sw,SrcColorFactor:Cw,StaticCopyUsage:j_,StaticDrawUsage:zs,StaticReadUsage:J_,StereoCamera:bS,StreamCopyUsage:eE,StreamDrawUsage:Y_,StreamReadUsage:q_,StringKeyframeTrack:kA,SubtractEquation:ww,SubtractiveBlending:If,TOUCH:lA,TangentSpaceNormalMap:Kr,TetrahedronBufferGeometry:$s,TetrahedronGeometry:$s,TextBufferGeometry:Jc,TextGeometry:Jc,Texture:Et,TextureLoader:Fp,TorusBufferGeometry:ea,TorusGeometry:ea,TorusKnotBufferGeometry:ta,TorusKnotGeometry:ta,Triangle:Ft,TriangleFanDrawMode:Zd,TriangleStripDrawMode:NB,TrianglesDrawMode:OB,TubeBufferGeometry:na,TubeGeometry:na,UVMapping:ou,Uint16Attribute:BF,Uint16BufferAttribute:du,Uint32Attribute:xF,Uint32BufferAttribute:pu,Uint8Attribute:mF,Uint8BufferAttribute:JB,Uint8ClampedAttribute:vF,Uint8ClampedBufferAttribute:ZB,Uniform:pt,UniformsLib:ye,UniformsUtils:ip,UnsignedByteType:bi,UnsignedInt248Type:_A,UnsignedIntType:Is,UnsignedShort4444Type:Xw,UnsignedShort5551Type:Yw,UnsignedShort565Type:Jw,UnsignedShortType:Fo,VSMShadowMap:bs,Vector2:ce,Vector3:D,Vector4:$e,VectorKeyframeTrack:ra,Vertex:dF,VertexColors:AF,VideoTexture:vy,WebGL1Renderer:py,WebGLCubeRenderTarget:mu,WebGLMultipleRenderTargets:WB,WebGLMultisampleRenderTarget:fu,WebGLRenderTarget:fn,WebGLRenderTargetCube:UF,WebGLRenderer:rt,WebGLUtils:dy,WireframeGeometry:wp,WireframeHelper:TF,WrapAroundEnding:Uo,XHRLoader:SF,ZeroCurvatureEnding:mA,ZeroFactor:yw,ZeroSlopeEnding:vA,ZeroStencilOp:L_,sRGBEncoding:Nr});const t0={type:"change"},Kh={type:"start"},Wh={type:"end"};class sH extends fi{constructor(e,t){super();t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new D,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:oA.ROTATE,MIDDLE:oA.DOLLY,RIGHT:oA.PAN},this.touches={ONE:lA.ROTATE,TWO:lA.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(k){k.addEventListener("keydown",se),this._domElementKeyEvents=k},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(t0),n.update(),r=i.NONE},this.update=function(){const k=new D,he=new Ot().setFromUnitVectors(e.up,new D(0,1,0)),De=he.clone().invert(),Be=new D,_e=new Ot,Le=2*Math.PI;return function(){const ot=n.object.position;k.copy(ot).sub(n.target),k.applyQuaternion(he),a.setFromVector3(k),n.autoRotate&&r===i.NONE&&M(x()),n.enableDamping?(a.theta+=o.theta*n.dampingFactor,a.phi+=o.phi*n.dampingFactor):(a.theta+=o.theta,a.phi+=o.phi);let Ke=n.minAzimuthAngle,Je=n.maxAzimuthAngle;return isFinite(Ke)&&isFinite(Je)&&(Ke<-Math.PI?Ke+=Le:Ke>Math.PI&&(Ke-=Le),Je<-Math.PI?Je+=Le:Je>Math.PI&&(Je-=Le),Ke<=Je?a.theta=Math.max(Ke,Math.min(Je,a.theta)):a.theta=a.theta>(Ke+Je)/2?Math.max(Ke,a.theta):Math.min(Je,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=l,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),n.enableDamping===!0?n.target.addScaledVector(c,n.dampingFactor):n.target.add(c),k.setFromSpherical(a),k.applyQuaternion(De),ot.copy(n.target).add(k),n.object.lookAt(n.target),n.enableDamping===!0?(o.theta*=1-n.dampingFactor,o.phi*=1-n.dampingFactor,c.multiplyScalar(1-n.dampingFactor)):(o.set(0,0,0),c.set(0,0,0)),l=1,u||Be.distanceToSquared(n.object.position)>s||8*(1-_e.dot(n.object.quaternion))>s?(n.dispatchEvent(t0),Be.copy(n.object.position),_e.copy(n.object.quaternion),u=!1,!0):!1}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",pe),n.domElement.removeEventListener("pointerdown",P),n.domElement.removeEventListener("pointercancel",T),n.domElement.removeEventListener("wheel",J),n.domElement.removeEventListener("pointermove",z),n.domElement.removeEventListener("pointerup",R),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",se)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=i.NONE;const s=1e-6,a=new td,o=new td;let l=1;const c=new D;let u=!1;const h=new ce,f=new ce,d=new ce,p=new ce,v=new ce,g=new ce,m=new ce,w=new ce,B=new ce,y=[],C={};function x(){return 2*Math.PI/60/60*n.autoRotateSpeed}function E(){return Math.pow(.95,n.zoomSpeed)}function M(k){o.theta-=k}function H(k){o.phi-=k}const N=function(){const k=new D;return function(De,Be){k.setFromMatrixColumn(Be,0),k.multiplyScalar(-De),c.add(k)}}(),O=function(){const k=new D;return function(De,Be){n.screenSpacePanning===!0?k.setFromMatrixColumn(Be,1):(k.setFromMatrixColumn(Be,0),k.crossVectors(n.object.up,k)),k.multiplyScalar(De),c.add(k)}}(),Q=function(){const k=new D;return function(De,Be){const _e=n.domElement;if(n.object.isPerspectiveCamera){const Le=n.object.position;k.copy(Le).sub(n.target);let Oe=k.length();Oe*=Math.tan(n.object.fov/2*Math.PI/180),N(2*De*Oe/_e.clientHeight,n.object.matrix),O(2*Be*Oe/_e.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(N(De*(n.object.right-n.object.left)/n.object.zoom/_e.clientWidth,n.object.matrix),O(Be*(n.object.top-n.object.bottom)/n.object.zoom/_e.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function F(k){n.object.isPerspectiveCamera?l/=k:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*k)),n.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function G(k){n.object.isPerspectiveCamera?l*=k:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/k)),n.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(k){h.set(k.clientX,k.clientY)}function V(k){m.set(k.clientX,k.clientY)}function te(k){p.set(k.clientX,k.clientY)}function ie(k){f.set(k.clientX,k.clientY),d.subVectors(f,h).multiplyScalar(n.rotateSpeed);const he=n.domElement;M(2*Math.PI*d.x/he.clientHeight),H(2*Math.PI*d.y/he.clientHeight),h.copy(f),n.update()}function ae(k){w.set(k.clientX,k.clientY),B.subVectors(w,m),B.y>0?F(E()):B.y<0&&G(E()),m.copy(w),n.update()}function ee(k){v.set(k.clientX,k.clientY),g.subVectors(v,p).multiplyScalar(n.panSpeed),Q(g.x,g.y),p.copy(v),n.update()}function fe(k){k.deltaY<0?G(E()):k.deltaY>0&&F(E()),n.update()}function ne(k){let he=!1;switch(k.code){case n.keys.UP:Q(0,n.keyPanSpeed),he=!0;break;case n.keys.BOTTOM:Q(0,-n.keyPanSpeed),he=!0;break;case n.keys.LEFT:Q(n.keyPanSpeed,0),he=!0;break;case n.keys.RIGHT:Q(-n.keyPanSpeed,0),he=!0;break}he&&(k.preventDefault(),n.update())}function me(){if(y.length===1)h.set(y[0].pageX,y[0].pageY);else{const k=.5*(y[0].pageX+y[1].pageX),he=.5*(y[0].pageY+y[1].pageY);h.set(k,he)}}function we(){if(y.length===1)p.set(y[0].pageX,y[0].pageY);else{const k=.5*(y[0].pageX+y[1].pageX),he=.5*(y[0].pageY+y[1].pageY);p.set(k,he)}}function j(){const k=y[0].pageX-y[1].pageX,he=y[0].pageY-y[1].pageY,De=Math.sqrt(k*k+he*he);m.set(0,De)}function Fe(){n.enableZoom&&j(),n.enablePan&&we()}function xe(){n.enableZoom&&j(),n.enableRotate&&me()}function Ce(k){if(y.length==1)f.set(k.pageX,k.pageY);else{const De=ge(k),Be=.5*(k.pageX+De.x),_e=.5*(k.pageY+De.y);f.set(Be,_e)}d.subVectors(f,h).multiplyScalar(n.rotateSpeed);const he=n.domElement;M(2*Math.PI*d.x/he.clientHeight),H(2*Math.PI*d.y/he.clientHeight),h.copy(f)}function W(k){if(y.length===1)v.set(k.pageX,k.pageY);else{const he=ge(k),De=.5*(k.pageX+he.x),Be=.5*(k.pageY+he.y);v.set(De,Be)}g.subVectors(v,p).multiplyScalar(n.panSpeed),Q(g.x,g.y),p.copy(v)}function b(k){const he=ge(k),De=k.pageX-he.x,Be=k.pageY-he.y,_e=Math.sqrt(De*De+Be*Be);w.set(0,_e),B.set(0,Math.pow(w.y/m.y,n.zoomSpeed)),F(B.y),m.copy(w)}function S(k){n.enableZoom&&b(k),n.enablePan&&W(k)}function U(k){n.enableZoom&&b(k),n.enableRotate&&Ce(k)}function P(k){n.enabled!==!1&&(y.length===0&&(n.domElement.setPointerCapture(k.pointerId),n.domElement.addEventListener("pointermove",z),n.domElement.addEventListener("pointerup",R)),X(k),k.pointerType==="touch"?oe(k):_(k))}function z(k){n.enabled!==!1&&(k.pointerType==="touch"?le(k):K(k))}function R(k){n.enabled!==!1&&(k.pointerType==="touch"?ue():Y(),re(k),y.length===0&&(n.domElement.releasePointerCapture(k.pointerId),n.domElement.removeEventListener("pointermove",z),n.domElement.removeEventListener("pointerup",R)))}function T(k){re(k)}function _(k){let he;switch(k.button){case 0:he=n.mouseButtons.LEFT;break;case 1:he=n.mouseButtons.MIDDLE;break;case 2:he=n.mouseButtons.RIGHT;break;default:he=-1}switch(he){case oA.DOLLY:if(n.enableZoom===!1)return;V(k),r=i.DOLLY;break;case oA.ROTATE:if(k.ctrlKey||k.metaKey||k.shiftKey){if(n.enablePan===!1)return;te(k),r=i.PAN}else{if(n.enableRotate===!1)return;I(k),r=i.ROTATE}break;case oA.PAN:if(k.ctrlKey||k.metaKey||k.shiftKey){if(n.enableRotate===!1)return;I(k),r=i.ROTATE}else{if(n.enablePan===!1)return;te(k),r=i.PAN}break;default:r=i.NONE}r!==i.NONE&&n.dispatchEvent(Kh)}function K(k){if(n.enabled!==!1)switch(r){case i.ROTATE:if(n.enableRotate===!1)return;ie(k);break;case i.DOLLY:if(n.enableZoom===!1)return;ae(k);break;case i.PAN:if(n.enablePan===!1)return;ee(k);break}}function Y(k){n.dispatchEvent(Wh),r=i.NONE}function J(k){n.enabled===!1||n.enableZoom===!1||r!==i.NONE&&r!==i.ROTATE||(k.preventDefault(),n.dispatchEvent(Kh),fe(k),n.dispatchEvent(Wh))}function se(k){n.enabled===!1||n.enablePan===!1||ne(k)}function oe(k){switch($(k),y.length){case 1:switch(n.touches.ONE){case lA.ROTATE:if(n.enableRotate===!1)return;me(),r=i.TOUCH_ROTATE;break;case lA.PAN:if(n.enablePan===!1)return;we(),r=i.TOUCH_PAN;break;default:r=i.NONE}break;case 2:switch(n.touches.TWO){case lA.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Fe(),r=i.TOUCH_DOLLY_PAN;break;case lA.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;xe(),r=i.TOUCH_DOLLY_ROTATE;break;default:r=i.NONE}break;default:r=i.NONE}r!==i.NONE&&n.dispatchEvent(Kh)}function le(k){switch($(k),r){case i.TOUCH_ROTATE:if(n.enableRotate===!1)return;Ce(k),n.update();break;case i.TOUCH_PAN:if(n.enablePan===!1)return;W(k),n.update();break;case i.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;S(k),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;U(k),n.update();break;default:r=i.NONE}}function ue(k){n.dispatchEvent(Wh),r=i.NONE}function pe(k){n.enabled!==!1&&k.preventDefault()}function X(k){y.push(k)}function re(k){delete C[k.pointerId];for(let he=0;he<y.length;he++)if(y[he].pointerId==k.pointerId){y.splice(he,1);return}}function $(k){let he=C[k.pointerId];he===void 0&&(he=new ce,C[k.pointerId]=he),he.set(k.pageX,k.pageY)}function ge(k){const he=k.pointerId===y[0].pointerId?y[1]:y[0];return C[he.pointerId]}n.domElement.addEventListener("contextmenu",pe),n.domElement.addEventListener("pointerdown",P),n.domElement.addEventListener("pointercancel",T),n.domElement.addEventListener("wheel",J,{passive:!1}),this.update()}}class aH extends Yt{constructor(e){super(e);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new OF(t)}),this.register(function(t){return new zF(t)}),this.register(function(t){return new KF(t)}),this.register(function(t){return new NF(t)}),this.register(function(t){return new GF(t)}),this.register(function(t){return new kF(t)}),this.register(function(t){return new VF(t)}),this.register(function(t){return new HF(t)}),this.register(function(t){return new WF(t)})}load(e,t,n,i){const r=this;let s;this.resourcePath!==""?s=this.resourcePath:this.path!==""?s=this.path:s=Xi.extractUrlBase(e),this.manager.itemStart(e);const a=function(l){i?i(l):console.error(l),r.manager.itemError(e),r.manager.itemEnd(e)},o=new mn(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{r.parse(l,s,function(c){t(c),r.manager.itemEnd(e)},a)}catch(c){a(c)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let r;const s={},a={};if(typeof e=="string")r=e;else if(Xi.decodeText(new Uint8Array(e,0,4))===tx){try{s[qe.KHR_BINARY_GLTF]=new XF(e)}catch(u){i&&i(u);return}r=s[qe.KHR_BINARY_GLTF].content}else r=Xi.decodeText(new Uint8Array(e));const o=JSON.parse(r);if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new iU(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,s[u.name]=!0}if(o.extensionsUsed)for(let c=0;c<o.extensionsUsed.length;++c){const u=o.extensionsUsed[c],h=o.extensionsRequired||[];switch(u){case qe.KHR_MATERIALS_UNLIT:s[u]=new PF;break;case qe.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:s[u]=new ZF;break;case qe.KHR_DRACO_MESH_COMPRESSION:s[u]=new YF(o,this.dracoLoader);break;case qe.KHR_TEXTURE_TRANSFORM:s[u]=new JF;break;case qe.KHR_MESH_QUANTIZATION:s[u]=new qF;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(s),l.setPlugins(a),l.parse(n,i)}}function RF(){let A={};return{get:function(e){return A[e]},add:function(e,t){A[e]=t},remove:function(e){delete A[e]},removeAll:function(){A={}}}}const qe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class HF{constructor(e){this.parser=e,this.name=qe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const r=t.json,o=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let l;const c=new ve(16777215);o.color!==void 0&&c.fromArray(o.color);const u=o.range!==void 0?o.range:0;switch(o.type){case"directional":l=new Mu(c),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new bu(c),l.distance=u;break;case"spot":l=new Eu(c),l.distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,l.angle=o.spot.outerConeAngle,l.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return l.position.set(0,0,0),l.decay=2,o.intensity!==void 0&&(l.intensity=o.intensity),l.name=t.createUniqueName(o.name||"light_"+e),i=Promise.resolve(l),t.cache.add(n,i),i}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(o){return n._getNodeRef(t.cache,a,o)})}}class PF{constructor(){this.name=qe.KHR_MATERIALS_UNLIT}getMaterialType(){return hn}extendParams(e,t,n){const i=[];e.color=new ve(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const s=r.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}r.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",r.baseColorTexture))}return Promise.all(i)}}class OF{constructor(e){this.parser=e,this.name=qe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Jr}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&r.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&r.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(r.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ce(a,-a)}return Promise.all(r)}}class NF{constructor(e){this.parser=e,this.name=qe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Jr}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&r.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(r)}}class GF{constructor(e){this.parser=e,this.name=qe.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Jr}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&r.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||0;const a=s.attenuationColor||[1,1,1];return t.attenuationTint=new ve(a[0],a[1],a[2]),Promise.all(r)}}class kF{constructor(e){this.parser=e,this.name=qe.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Jr}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class VF{constructor(e){this.parser=e,this.name=qe.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Jr}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&r.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularTint=new ve(a[0],a[1],a[2]),s.specularColorTexture!==void 0&&r.push(n.assignTexture(t,"specularTintMap",s.specularColorTexture).then(function(o){o.encoding=Nr})),Promise.all(r)}}class zF{constructor(e){this.parser=e,this.name=qe.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],s=n.images[r.source],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s,a)}}class KF{constructor(e){this.parser=e,this.name=qe.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const s=r.extensions[t],a=i.images[s.source];let o=n.textureLoader;if(a.uri){const l=n.options.manager.getHandler(a.uri);l!==null&&(o=l)}return this.detectSupport().then(function(l){if(l)return n.loadTextureImage(e,a,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class WF{constructor(e){this.name=qe.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,s.ready]).then(function(a){const o=i.byteOffset||0,l=i.byteLength||0,c=i.count,u=i.byteStride,h=new ArrayBuffer(c*u),f=new Uint8Array(a[0],o,l);return s.decodeGltfBuffer(new Uint8Array(h),c,u,f,i.mode,i.filter),h})}else return null}}const tx="glTF",Va=12,n0={JSON:1313821514,BIN:5130562};class XF{constructor(e){this.name=qe.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Va);if(this.header={magic:Xi.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==tx)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Va,i=new DataView(e,Va);let r=0;for(;r<n;){const s=i.getUint32(r,!0);r+=4;const a=i.getUint32(r,!0);if(r+=4,a===n0.JSON){const o=new Uint8Array(e,Va+r,s);this.content=Xi.decodeText(o)}else if(a===n0.BIN){const o=Va+r;this.body=e.slice(o,o+s)}r+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class YF{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=qe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},o={},l={};for(const c in s){const u=id[c]||c.toLowerCase();a[u]=s[c]}for(const c in e.attributes){const u=id[c]||c.toLowerCase();if(s[c]!==void 0){const h=n.accessors[e.attributes[c]],f=Po[h.componentType];l[u]=f,o[u]=h.normalized===!0}}return t.getDependency("bufferView",r).then(function(c){return new Promise(function(u){i.decodeDracoFile(c,function(h){for(const f in h.attributes){const d=h.attributes[f],p=o[f];p!==void 0&&(d.normalized=p)}u(h)},a,l)})})}}class JF{constructor(){this.name=qe.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class nd extends OA{constructor(e){super();this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),n=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new ve().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(o){for(const l in a)o.uniforms[l]=a[l];o.fragmentShader=o.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(o){a.specular.value=o}},specularMap:{get:function(){return a.specularMap.value},set:function(o){a.specularMap.value=o,o?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(o){a.glossiness.value=o}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(o){a.glossinessMap.value=o,o?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class ZF{constructor(){this.name=qe.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return nd}extendParams(e,t,n){const i=t.extensions[this.name];e.color=new ve(1,1,1),e.opacity=1;const r=[];if(Array.isArray(i.diffuseFactor)){const s=i.diffuseFactor;e.color.fromArray(s),e.opacity=s[3]}if(i.diffuseTexture!==void 0&&r.push(n.assignTexture(e,"map",i.diffuseTexture)),e.emissive=new ve(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new ve(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const s=i.specularGlossinessTexture;r.push(n.assignTexture(e,"glossinessMap",s)),r.push(n.assignTexture(e,"specularMap",s))}return Promise.all(r)}createMaterial(e){const t=new nd(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Kr,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class qF{constructor(){this.name=qe.KHR_MESH_QUANTIZATION}}class sa extends Fi{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let s=0;s!==i;s++)t[s]=n[r+s];return t}}sa.prototype.beforeStart_=sa.prototype.copySampleValue_;sa.prototype.afterEnd_=sa.prototype.copySampleValue_;sa.prototype.interpolate_=function(A,e,t,n){const i=this.resultBuffer,r=this.sampleValues,s=this.valueSize,a=s*2,o=s*3,l=n-e,c=(t-e)/l,u=c*c,h=u*c,f=A*o,d=f-o,p=-2*h+3*u,v=h-u,g=1-p,m=v-u+c;for(let w=0;w!==s;w++){const B=r[d+w+s],y=r[d+w+a]*l,C=r[f+w+s],x=r[f+w]*l;i[w]=g*B+m*y+p*C+v*x}return i};const Oi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Po={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},i0={9728:Bt,9729:tt,9984:To,9985:lu,9986:So,9987:er},r0={33071:Kt,33648:ks,10497:Or},A0={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},id={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},fr={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},jF={CUBICSPLINE:void 0,LINEAR:FA,STEP:Vs},Xh={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function s0(A,e){return typeof A!="string"||A===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(A)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(A)||/^data:.*,.*$/i.test(A)||/^blob:.*$/i.test(A)?A:e+A)}function $F(A){return A.DefaultMaterial===void 0&&(A.DefaultMaterial=new OA({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ei})),A.DefaultMaterial}function za(A,e,t){for(const n in t.extensions)A[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function hA(A,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(A.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function eU(A,e,t){let n=!1,i=!1;for(let a=0,o=e.length;a<o;a++){const l=e[a];if(l.POSITION!==void 0&&(n=!0),l.NORMAL!==void 0&&(i=!0),n&&i)break}if(!n&&!i)return Promise.resolve(A);const r=[],s=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];if(n){const c=l.POSITION!==void 0?t.getDependency("accessor",l.POSITION):A.attributes.position;r.push(c)}if(i){const c=l.NORMAL!==void 0?t.getDependency("accessor",l.NORMAL):A.attributes.normal;s.push(c)}}return Promise.all([Promise.all(r),Promise.all(s)]).then(function(a){const o=a[0],l=a[1];return n&&(A.morphAttributes.position=o),i&&(A.morphAttributes.normal=l),A.morphTargetsRelative=!0,A})}function tU(A,e){if(A.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)A.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(A.morphTargetInfluences.length===t.length){A.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)A.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function nU(A){const e=A.extensions&&A.extensions[qe.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+a0(e.attributes):t=A.indices+":"+a0(A.attributes)+":"+A.mode,t}function a0(A){let e="";const t=Object.keys(A).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+A[t[n]]+";";return e}function rd(A){switch(A){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class iU{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new RF,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox/.test(navigator.userAgent)===!1?this.textureLoader=new Rp(this.options.manager):this.textureLoader=new Fp(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new mn(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(s){const a={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:n,userData:{}};za(r,a,i),hA(a,i),Promise.all(n._invokeAll(function(o){return o.afterRoot&&o.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i].joints;for(let a=0,o=s.length;a<o;a++)e[s[a]].isBone=!0}for(let i=0,r=e.length;i<r;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(n[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone();return i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const r=e(t[i]);r&&n.push(r)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(r,s){return n.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[qe.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(r,s){n.load(s0(t.uri,i.path),r,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,r=t.byteOffset||0;return n.slice(r,r+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const r=[];return i.bufferView!==void 0?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),i.sparse!==void 0&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(s){const a=s[0],o=A0[i.type],l=Po[i.componentType],c=l.BYTES_PER_ELEMENT,u=c*o,h=i.byteOffset||0,f=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,d=i.normalized===!0;let p,v;if(f&&f!==u){const g=Math.floor(h/f),m="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let w=t.cache.get(m);w||(p=new l(a,g*f,i.count*f/c),w=new Xr(p,f/c),t.cache.add(m,w)),v=new ji(w,o,h%f/c,d)}else a===null?p=new l(i.count*o):p=new l(a,h,i.count*o),v=new Pe(p,o,d);if(i.sparse!==void 0){const g=A0.SCALAR,m=Po[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,B=i.sparse.values.byteOffset||0,y=new m(s[1],w,i.sparse.count*g),C=new l(s[2],B,i.sparse.count*o);a!==null&&(v=new Pe(v.array.slice(),v.itemSize,v.normalized));for(let x=0,E=y.length;x<E;x++){const M=y[x];if(v.setX(M,C[x*o]),o>=2&&v.setY(M,C[x*o+1]),o>=3&&v.setZ(M,C[x*o+2]),o>=4&&v.setW(M,C[x*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,n=this.options,i=t.textures[e],r=t.images[i.source];let s=this.textureLoader;if(r.uri){const a=n.manager.getHandler(r.uri);a!==null&&(s=a)}return this.loadTextureImage(e,r,s)}loadTextureImage(e,t,n){const i=this,r=this.json,s=this.options,a=r.textures[e],o=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[o])return this.textureCache[o];const l=self.URL||self.webkitURL;let c=t.uri||"",u=!1,h=!0;const f=c.search(/\.jpe?g($|\?)/i)>0||c.search(/^data\:image\/jpeg/)===0;if((t.mimeType==="image/jpeg"||f)&&(h=!1),t.bufferView!==void 0)c=i.getDependency("bufferView",t.bufferView).then(function(p){if(t.mimeType==="image/png"){const g=new DataView(p,25,1).getUint8(0,!1);h=g===6||g===4||g===3}u=!0;const v=new Blob([p],{type:t.mimeType});return c=l.createObjectURL(v),c});else if(t.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(c).then(function(p){return new Promise(function(v,g){let m=v;n.isImageBitmapLoader===!0&&(m=function(w){const B=new Et(w);B.needsUpdate=!0,v(B)}),n.load(s0(p,s.path),m,void 0,g)})}).then(function(p){u===!0&&l.revokeObjectURL(c),p.flipY=!1,a.name&&(p.name=a.name),h||(p.format=Wi);const g=(r.samplers||{})[a.sampler]||{};return p.magFilter=i0[g.magFilter]||tt,p.minFilter=i0[g.minFilter]||er,p.wrapS=r0[g.wrapS]||Or,p.wrapT=r0[g.wrapT]||Or,i.associations.set(p,{type:"textures",index:e}),p}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null});return this.textureCache[o]=d,d}assignTexture(e,t,n){const i=this;return this.getDependency("texture",n.index).then(function(r){if(n.texCoord!==void 0&&n.texCoord!=0&&!(t==="aoMap"&&n.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[qe.KHR_TEXTURE_TRANSFORM]){const s=n.extensions!==void 0?n.extensions[qe.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const a=i.associations.get(r);r=i.extensions[qe.KHR_TEXTURE_TRANSFORM].extendTexture(r,s),i.associations.set(r,a)}}return e[t]=r,r})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent!==void 0,r=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let o=this.cache.get(a);o||(o=new Yr,Rt.prototype.copy.call(o,n),o.color.copy(n.color),o.map=n.map,o.sizeAttenuation=!1,this.cache.add(a,o)),n=o}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let o=this.cache.get(a);o||(o=new Nt,Rt.prototype.copy.call(o,n),o.color.copy(n.color),this.cache.add(a,o)),n=o}if(i||r||s){let a="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="vertex-tangents:"),r&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let o=this.cache.get(a);o||(o=n.clone(),r&&(o.vertexColors=!0),s&&(o.flatShading=!0),i&&(o.normalScale&&(o.normalScale.y*=-1),o.clearcoatNormalScale&&(o.clearcoatNormalScale.y*=-1)),this.cache.add(a,o),this.associations.set(o,this.associations.get(n))),n=o}n.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return OA}loadMaterial(e){const t=this,n=this.json,i=this.extensions,r=n.materials[e];let s;const a={},o=r.extensions||{},l=[];if(o[qe.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const u=i[qe.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];s=u.getMaterialType(),l.push(u.extendParams(a,r,t))}else if(o[qe.KHR_MATERIALS_UNLIT]){const u=i[qe.KHR_MATERIALS_UNLIT];s=u.getMaterialType(),l.push(u.extendParams(a,r,t))}else{const u=r.pbrMetallicRoughness||{};if(a.color=new ve(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){const h=u.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}u.baseColorTexture!==void 0&&l.push(t.assignTexture(a,"map",u.baseColorTexture)),a.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,a.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(l.push(t.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),l.push(t.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture))),s=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=Cn);const c=r.alphaMode||Xh.OPAQUE;return c===Xh.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===Xh.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&s!==hn&&(l.push(t.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new ce(1,-1),r.normalTexture.scale!==void 0&&a.normalScale.set(r.normalTexture.scale,-r.normalTexture.scale)),r.occlusionTexture!==void 0&&s!==hn&&(l.push(t.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&s!==hn&&(a.emissive=new ve().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&s!==hn&&l.push(t.assignTexture(a,"emissiveMap",r.emissiveTexture)),Promise.all(l).then(function(){let u;return s===nd?u=i[qe.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):u=new s(a),r.name&&(u.name=r.name),u.map&&(u.map.encoding=Nr),u.emissiveMap&&(u.emissiveMap.encoding=Nr),hA(u,r),t.associations.set(u,{type:"materials",index:e}),r.extensions&&za(i,u,r),u})}createUniqueName(e){const t=Ze.sanitizeNodeName(e||"");let n=t;for(let i=1;this.nodeNamesUsed[n];++i)n=t+"_"+i;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function r(a){return n[qe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(o){return o0(o,a,t)})}const s=[];for(let a=0,o=e.length;a<o;a++){const l=e[a],c=nU(l),u=i[c];if(u)s.push(u.promise);else{let h;l.extensions&&l.extensions[qe.KHR_DRACO_MESH_COMPRESSION]?h=r(l):h=o0(new Ie,l,t),i[c]={primitive:l,promise:h},s.push(h)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,i=this.extensions,r=n.meshes[e],s=r.primitives,a=[];for(let o=0,l=s.length;o<l;o++){const c=s[o].material===void 0?$F(this.cache):this.getDependency("material",s[o].material);a.push(c)}return a.push(t.loadGeometries(s)),Promise.all(a).then(function(o){const l=o.slice(0,o.length-1),c=o[o.length-1],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],v=s[f];let g;const m=l[f];if(v.mode===Oi.TRIANGLES||v.mode===Oi.TRIANGLE_STRIP||v.mode===Oi.TRIANGLE_FAN||v.mode===void 0)g=r.isSkinnedMesh===!0?new qo(p,m):new gt(p,m),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),v.mode===Oi.TRIANGLE_STRIP?g.geometry=l0(g.geometry,NB):v.mode===Oi.TRIANGLE_FAN&&(g.geometry=l0(g.geometry,Zd));else if(v.mode===Oi.LINES)g=new gn(p,m);else if(v.mode===Oi.LINE_STRIP)g=new Ti(p,m);else if(v.mode===Oi.LINE_LOOP)g=new Bu(p,m);else if(v.mode===Oi.POINTS)g=new ma(p,m);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(g.geometry.morphAttributes).length>0&&tU(g,r),g.name=t.createUniqueName(r.name||"mesh_"+e),hA(g,r),v.extensions&&za(i,g,v),t.assignFinalMaterial(g),u.push(g)}if(u.length===1)return u[0];const h=new xi;for(let f=0,d=u.length;f<d;f++)h.add(u[f]);return h})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new It(Jf.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new da(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),hA(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return n.inverseBindMatrices=i,n})}loadAnimation(e){const n=this.json.animations[e],i=[],r=[],s=[],a=[],o=[];for(let l=0,c=n.channels.length;l<c;l++){const u=n.channels[l],h=n.samplers[u.sampler],f=u.target,d=f.node!==void 0?f.node:f.id,p=n.parameters!==void 0?n.parameters[h.input]:h.input,v=n.parameters!==void 0?n.parameters[h.output]:h.output;i.push(this.getDependency("node",d)),r.push(this.getDependency("accessor",p)),s.push(this.getDependency("accessor",v)),a.push(h),o.push(f)}return Promise.all([Promise.all(i),Promise.all(r),Promise.all(s),Promise.all(a),Promise.all(o)]).then(function(l){const c=l[0],u=l[1],h=l[2],f=l[3],d=l[4],p=[];for(let g=0,m=c.length;g<m;g++){const w=c[g],B=u[g],y=h[g],C=f[g],x=d[g];if(w===void 0)continue;w.updateMatrix(),w.matrixAutoUpdate=!0;let E;switch(fr[x.path]){case fr.weights:E=ia;break;case fr.rotation:E=GA;break;case fr.position:case fr.scale:default:E=ra;break}const M=w.name?w.name:w.uuid,H=C.interpolation!==void 0?jF[C.interpolation]:FA,N=[];fr[x.path]===fr.weights?w.traverse(function(Q){Q.isMesh===!0&&Q.morphTargetInfluences&&N.push(Q.name?Q.name:Q.uuid)}):N.push(M);let O=y.array;if(y.normalized){const Q=rd(O.constructor),F=new Float32Array(O.length);for(let G=0,I=O.length;G<I;G++)F[G]=O[G]*Q;O=F}for(let Q=0,F=N.length;Q<F;Q++){const G=new E(N[Q]+"."+fr[x.path],B.array,O,H);C.interpolation==="CUBICSPLINE"&&(G.createInterpolant=function(V){return new sa(this.times,this.values,this.getValueSize()/3,V)},G.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),p.push(G)}}const v=n.name?n.name:"animation_"+e;return new Aa(v,void 0,p)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(r){const s=n._getNodeRef(n.meshCache,i.mesh,r);return i.weights!==void 0&&s.traverse(function(a){if(!!a.isMesh)for(let o=0,l=i.weights.length;o<l;o++)a.morphTargetInfluences[o]=i.weights[o]}),s})}loadNode(e){const t=this.json,n=this.extensions,i=this,r=t.nodes[e],s=r.name?i.createUniqueName(r.name):"";return function(){const a=[],o=i._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return o&&a.push(o),r.camera!==void 0&&a.push(i.getDependency("camera",r.camera).then(function(l){return i._getNodeRef(i.cameraCache,r.camera,l)})),i._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){a.push(l)}),Promise.all(a)}().then(function(a){let o;if(r.isBone===!0?o=new jo:a.length>1?o=new xi:a.length===1?o=a[0]:o=new ze,o!==a[0])for(let l=0,c=a.length;l<c;l++)o.add(a[l]);if(r.name&&(o.userData.name=r.name,o.name=s),hA(o,r),r.extensions&&za(n,o,r),r.matrix!==void 0){const l=new Se;l.fromArray(r.matrix),o.applyMatrix4(l)}else r.translation!==void 0&&o.position.fromArray(r.translation),r.rotation!==void 0&&o.quaternion.fromArray(r.rotation),r.scale!==void 0&&o.scale.fromArray(r.scale);return i.associations.set(o,{type:"nodes",index:e}),o})}loadScene(e){const t=this.json,n=this.extensions,i=this.json.scenes[e],r=this,s=new xi;i.name&&(s.name=r.createUniqueName(i.name)),hA(s,i),i.extensions&&za(n,s,i);const a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(nx(a[l],s,t,r));return Promise.all(o).then(function(){return s})}}function nx(A,e,t,n){const i=t.nodes[A];return n.getDependency("node",A).then(function(r){if(i.skin===void 0)return r;let s;return n.getDependency("skin",i.skin).then(function(a){s=a;const o=[];for(let l=0,c=s.joints.length;l<c;l++)o.push(n.getDependency("node",s.joints[l]));return Promise.all(o)}).then(function(a){return r.traverse(function(o){if(!o.isMesh)return;const l=[],c=[];for(let u=0,h=a.length;u<h;u++){const f=a[u];if(f){l.push(f);const d=new Se;s.inverseBindMatrices!==void 0&&d.fromArray(s.inverseBindMatrices.array,u*16),c.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[u])}o.bind(new $o(l,c),o.matrixWorld)}),r})}).then(function(r){e.add(r);const s=[];if(i.children){const a=i.children;for(let o=0,l=a.length;o<l;o++){const c=a[o];s.push(nx(c,r,t,n))}}return Promise.all(s)})}function rU(A,e,t){const n=e.attributes,i=new vn;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],o=a.min,l=a.max;if(o!==void 0&&l!==void 0){if(i.set(new D(o[0],o[1],o[2]),new D(l[0],l[1],l[2])),a.normalized){const c=rd(Po[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new D,o=new D;for(let l=0,c=r.length;l<c;l++){const u=r[l];if(u.POSITION!==void 0){const h=t.json.accessors[u.POSITION],f=h.min,d=h.max;if(f!==void 0&&d!==void 0){if(o.setX(Math.max(Math.abs(f[0]),Math.abs(d[0]))),o.setY(Math.max(Math.abs(f[1]),Math.abs(d[1]))),o.setZ(Math.max(Math.abs(f[2]),Math.abs(d[2]))),h.normalized){const p=rd(Po[h.componentType]);o.multiplyScalar(p)}a.max(o)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}A.boundingBox=i;const s=new Ui;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,A.boundingSphere=s}function o0(A,e,t){const n=e.attributes,i=[];function r(s,a){return t.getDependency("accessor",s).then(function(o){A.setAttribute(a,o)})}for(const s in n){const a=id[s]||s.toLowerCase();a in A.attributes||i.push(r(n[s],a))}if(e.indices!==void 0&&!A.index){const s=t.getDependency("accessor",e.indices).then(function(a){A.setIndex(a)});i.push(s)}return hA(A,e),rU(A,e,t),Promise.all(i).then(function(){return e.targets!==void 0?eU(A,e.targets,t):A})}function l0(A,e){let t=A.getIndex();if(t===null){const s=[],a=A.getAttribute("position");if(a!==void 0){for(let o=0;o<a.count;o++)s.push(o);A.setIndex(s),t=A.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),A}const n=t.count-2,i=[];if(e===Zd)for(let s=1;s<=n;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<n;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=A.clone();return r.setIndex(i),r}const Yh=new WeakMap;class oH extends Yt{constructor(e){super(e);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const r=new mn(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,s=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,a).then(t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){const r={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const o in t.attributeTypes){const l=t.attributeTypes[o];l.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[o]=l.name)}const n=JSON.stringify(t);if(Yh.has(e)){const o=Yh.get(e);if(o.key===n)return o.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const r=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(r,s).then(o=>(i=o,new Promise((l,c)=>{i._callbacks[r]={resolve:l,reject:c},i.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(o=>this._createGeometry(o.geometry));return a.catch(()=>!0).then(()=>{i&&r&&this._releaseTask(i,r)}),Yh.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Ie;e.index&&t.setIndex(new Pe(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],r=i.name,s=i.array,a=i.itemSize;t.setAttribute(r,new Pe(s,a))}return t}_loadLibrary(e,t){const n=new mn(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,r)=>{n.load(e,i,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const r=AU.toString(),s=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(r){const s=r.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,r){return i._taskLoad>r._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function AU(){let A,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":A=a.decoderConfig,e=new Promise(function(c){A.onModuleLoaded=function(u){c({draco:u})},DracoDecoderModule(A)});break;case"decode":const o=a.buffer,l=a.taskConfig;e.then(c=>{const u=c.draco,h=new u.Decoder,f=new u.DecoderBuffer;f.Init(new Int8Array(o),o.byteLength);try{const d=t(u,h,f,l),p=d.attributes.map(v=>v.array.buffer);d.index&&p.push(d.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:d},p)}catch(d){console.error(d),self.postMessage({type:"error",id:a.id,error:d.message})}finally{u.destroy(f),u.destroy(h)}});break}};function t(s,a,o,l){const c=l.attributeIDs,u=l.attributeTypes;let h,f;const d=a.GetEncodedGeometryType(o);if(d===s.TRIANGULAR_MESH)h=new s.Mesh,f=a.DecodeBufferToMesh(o,h);else if(d===s.POINT_CLOUD)h=new s.PointCloud,f=a.DecodeBufferToPointCloud(o,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());const p={index:null,attributes:[]};for(const v in c){const g=self[u[v]];let m,w;if(l.useUniqueIDs)w=c[v],m=a.GetAttributeByUniqueId(h,w);else{if(w=a.GetAttributeId(h,s[c[v]]),w===-1)continue;m=a.GetAttribute(h,w)}p.attributes.push(i(s,a,h,v,g,m))}return d===s.TRIANGULAR_MESH&&(p.index=n(s,a,h)),s.destroy(h),p}function n(s,a,o){const c=o.num_faces()*3,u=c*4,h=s._malloc(u);a.GetTrianglesUInt32Array(o,u,h);const f=new Uint32Array(s.HEAPF32.buffer,h,c).slice();return s._free(h),{array:f,itemSize:1}}function i(s,a,o,l,c,u){const h=u.num_components(),d=o.num_points()*h,p=d*c.BYTES_PER_ELEMENT,v=r(s,c),g=s._malloc(p);a.GetAttributeDataArrayForAllPoints(o,u,v,p,g);const m=new c(s.HEAPF32.buffer,g,d).slice();return s._free(g),{name:l,array:m,itemSize:h}}function r(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}function kp(){var A=0,e=[],t,n=0,i=0;function r(g,m){var w=kp();function B(){var y=A>0?g:m;if(p(y))try{var C=y(t);C===w&&d();var x=h(C);x?x.call(C,w.resolve,w.reject):w.resolve(C)}catch(E){w.reject(E)}else w[A>0?"resolve":"reject"](t)}return e.push(B),A&&l(),w}var s=f(function(g){i||o(1,g)}),a=f(function(g){i||o(-1,g)});function o(g,m){i++;var w=0;try{m===v&&d();var B=g>0&&h(m);B?B.call(m,f(function(y){w++,o(1,y)}),f(function(y){w++,o(-1,y)})):(A=g,t=m,l())}catch(y){!A&&!w&&o(-1,y)}}function l(){n||(setTimeout(c,0),n=1)}function c(){var g=e;n=0,e=[],g.forEach(u)}function u(g){g()}function h(g){var m=g&&(p(g)||typeof g=="object")&&g.then;return p(m)&&m}function f(g){var m=0;return function(){for(var w=[],B=arguments.length;B--;)w[B]=arguments[B];m++||g.apply(this,w)}}function d(){throw new TypeError("Chaining cycle detected")}var p=function(g){return typeof g=="function"},v={then:r,resolve:s,reject:a};return v}function ix(){var A,e,t=new Promise(function(n,i){A=n,e=i});return{then:t.then.bind(t),resolve:A,reject:e}}kp.all=ix.all=function(A){var e=0,t=[],n=aa();return A.length===0?n.resolve([]):A.forEach(function(i,r){var s=aa();s.resolve(i),s.then(function(a){e++,t[r]=a,e===A.length&&n.resolve(t)},n.reject)}),n};var aa=typeof Promise=="function"?ix:kp;function sU(){var A=Object.create(null);function e(i,r){var s=i.id,a=i.name,o=i.dependencies;o===void 0&&(o=[]);var l=i.init;l===void 0&&(l=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!A[s])try{o=o.map(function(h){return h&&h.isWorkerModule&&(e(h,function(f){if(f instanceof Error)throw f}),h=A[h.id].value),h}),l=n("<"+a+">.init",l),c&&(c=n("<"+a+">.getTransferables",c));var u=null;typeof l=="function"?u=l.apply(void 0,o):console.error("worker module init function failed to rehydrate"),A[s]={id:s,value:u,getTransferables:c},r(u)}catch(h){h&&h.noLog||console.error(h),r(h)}}function t(i,r){var s,a=i.id,o=i.args;(!A[a]||typeof A[a].value!="function")&&r(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var l=(s=A[a]).value.apply(s,o);l&&typeof l.then=="function"?l.then(c,function(u){return r(u instanceof Error?u:new Error(""+u))}):c(l)}catch(u){r(u)}function c(u){try{var h=A[a].getTransferables&&A[a].getTransferables(u);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),r(u,h)}catch(f){console.error(f),r(f)}}}function n(i,r){var s=void 0;self.troikaDefine=function(o){return s=o};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(o){console.error(o)}return URL.revokeObjectURL(a),delete self.troikaDefine,s}self.addEventListener("message",function(i){var r=i.data,s=r.messageId,a=r.action,o=r.data;try{a==="registerModule"&&e(o,function(l){l instanceof Error?postMessage({messageId:s,success:!1,error:l.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof l=="function"}})}),a==="callModule"&&t(o,function(l,c){l instanceof Error?postMessage({messageId:s,success:!1,error:l.message}):postMessage({messageId:s,success:!0,result:l},c||void 0)})}catch(l){postMessage({messageId:s,success:!1,error:l.stack})}})}function aU(A){var e=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=A.dependencies,n=A.init;t=Array.isArray(t)?t.map(function(r){return r&&r._getInitResult?r._getInitResult():r}):[];var i=aa.all(t).then(function(r){return n.apply(null,r)});return e._getInitResult=function(){return i},i},e}var rx=function(){var A=!1;if(typeof window!="undefined"&&typeof window.document!="undefined")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),A=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return rx=function(){return A},A},oU=0,lU=0,Jh=!1,ho=Object.create(null),fo=Object.create(null),Ad=Object.create(null);function wa(A){if((!A||typeof A.init!="function")&&!Jh)throw new Error("requires `options.init` function");var e=A.dependencies,t=A.init,n=A.getTransferables,i=A.workerId;if(!rx())return aU(A);i==null&&(i="#default");var r="workerModule"+ ++oU,s=A.name||r,a=null;e=e&&e.map(function(l){return typeof l=="function"&&!l.workerModuleData&&(Jh=!0,l=wa({workerId:i,name:"<"+s+"> function dependency: "+l.name,init:`function(){return (
`+Ic(l)+`
)}`}),Jh=!1),l&&l.workerModuleData&&(l=l.workerModuleData),l});function o(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];if(!a){a=c0(i,"registerModule",o.workerModuleData);var u=function(){a=null,fo[i].delete(u)};(fo[i]||(fo[i]=new Set)).add(u)}return a.then(function(h){var f=h.isCallable;if(f)return c0(i,"callModule",{id:r,args:l});throw new Error("Worker module function was called but `init` did not return a callable function")})}return o.workerModuleData={isWorkerModule:!0,id:r,name:s,dependencies:e,init:Ic(t),getTransferables:n&&Ic(n)},o}function cU(A){fo[A]&&fo[A].forEach(function(e){e()}),ho[A]&&(ho[A].terminate(),delete ho[A])}function Ic(A){var e=A.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function uU(A){var e=ho[A];if(!e){var t=Ic(sU);e=ho[A]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+A.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(n){var i=n.data,r=i.messageId,s=Ad[r];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete Ad[r],s(i)}}return e}function c0(A,e,t){var n=aa(),i=++lU;return Ad[i]=function(r){r.success?n.resolve(r.result):n.reject(new Error("Error in worker "+e+" call: "+r.error))},uU(A).postMessage({messageId:i,action:e,data:t}),n}var hU=wa({name:"Thenable",dependencies:[aa],init:function(A){return A}});function fU(){var A=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},i={};n.L=1,i[1]="L",Object.keys(t).forEach(function(_,K){n[_]=1<<K+1,i[n[_]]=_}),Object.freeze(n);var r=n.LRI|n.RLI|n.FSI,s=n.L|n.R|n.AL,a=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,o=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|r|n.PDI|o,c=null;function u(){if(!c){c=new Map;var _=function(Y){if(t.hasOwnProperty(Y)){var J=0;t[Y].split(",").forEach(function(se){var oe=se.split("+"),le=oe[0],ue=oe[1];le=parseInt(le,36),ue=ue?parseInt(ue,36):0,c.set(J+=le,n[Y]);for(var pe=0;pe<ue;pe++)c.set(++J,n[Y])})}};for(var K in t)_(K)}}function h(_){return u(),c.get(_.codePointAt(0))||n.L}function f(_){return i[h(_)]}var d={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function p(_,K){var Y=36,J=0,se=new Map,oe=K&&new Map,le;return _.split(",").forEach(function ue(pe){if(pe.indexOf("+")!==-1)for(var X=+pe;X--;)ue(le);else{le=pe;var re=pe.split(">"),$=re[0],ge=re[1];$=String.fromCodePoint(J+=parseInt($,Y)),ge=String.fromCodePoint(J+=parseInt(ge,Y)),se.set($,ge),K&&oe.set(ge,$)}}),{map:se,reverseMap:oe}}var v,g,m;function w(){if(!v){var _=p(d.pairs,!0),K=_.map,Y=_.reverseMap;v=K,g=Y,m=p(d.canonical,!1).map}}function B(_){return w(),v.get(_)||null}function y(_){return w(),g.get(_)||null}function C(_){return w(),m.get(_)||null}var x=n.L,E=n.R,M=n.EN,H=n.ES,N=n.ET,O=n.AN,Q=n.CS,F=n.B,G=n.S,I=n.ON,V=n.BN,te=n.NSM,ie=n.AL,ae=n.LRO,ee=n.RLO,fe=n.LRE,ne=n.RLE,me=n.PDF,we=n.LRI,j=n.RLI,Fe=n.FSI,xe=n.PDI;function Ce(_,K){for(var Y=125,J=new Uint32Array(_.length),se=0;se<_.length;se++)J[se]=h(_[se]);var oe=new Map;function le(nn,ii){var wn=J[nn];J[nn]=ii,oe.set(wn,oe.get(wn)-1),wn&a&&oe.set(a,oe.get(a)-1),oe.set(ii,(oe.get(ii)||0)+1),ii&a&&oe.set(a,(oe.get(a)||0)+1)}for(var ue=new Uint8Array(_.length),pe=new Map,X=[],re=null,$=0;$<_.length;$++)re||X.push(re={start:$,end:_.length-1,level:K==="rtl"?1:K==="ltr"?0:fg($,!1)}),J[$]&F&&(re.end=$,re=null);for(var ge=ne|fe|ee|ae|r|xe|me|F,k=function(nn){return nn+(nn&1?1:2)},he=function(nn){return nn+(nn&1?2:1)},De=0;De<X.length;De++){re=X[De];var Be=[{_level:re.level,_override:0,_isolate:0}],_e=void 0,Le=0,Oe=0,ot=0;oe.clear();for(var Ke=re.start;Ke<=re.end;Ke++){var Je=J[Ke];if(_e=Be[Be.length-1],oe.set(Je,(oe.get(Je)||0)+1),Je&a&&oe.set(a,(oe.get(a)||0)+1),Je&ge)if(Je&(ne|fe)){ue[Ke]=_e._level;var $n=(Je===ne?he:k)(_e._level);$n<=Y&&!Le&&!Oe?Be.push({_level:$n,_override:0,_isolate:0}):Le||Oe++}else if(Je&(ee|ae)){ue[Ke]=_e._level;var tr=(Je===ee?he:k)(_e._level);tr<=Y&&!Le&&!Oe?Be.push({_level:tr,_override:Je&ee?E:x,_isolate:0}):Le||Oe++}else if(Je&r){Je&Fe&&(Je=fg(Ke+1,!0)===1?j:we),ue[Ke]=_e._level,_e._override&&le(Ke,_e._override);var ht=(Je===j?he:k)(_e._level);ht<=Y&&Le===0&&Oe===0?(ot++,Be.push({_level:ht,_override:0,_isolate:1,_isolInitIndex:Ke})):Le++}else if(Je&xe){if(Le>0)Le--;else if(ot>0){for(Oe=0;!Be[Be.length-1]._isolate;)Be.pop();var nr=Be[Be.length-1]._isolInitIndex;nr!=null&&(pe.set(nr,Ke),pe.set(Ke,nr)),Be.pop(),ot--}_e=Be[Be.length-1],ue[Ke]=_e._level,_e._override&&le(Ke,_e._override)}else Je&me?(Le===0&&(Oe>0?Oe--:!_e._isolate&&Be.length>1&&(Be.pop(),_e=Be[Be.length-1])),ue[Ke]=_e._level):Je&F&&(ue[Ke]=re.level);else ue[Ke]=_e._level,_e._override&&Je!==V&&le(Ke,_e._override)}for(var At=[],Xe=null,Ut=re.start;Ut<=re.end;Ut++){var Jt=J[Ut];if(!(Jt&o)){var nt=ue[Ut],Gt=Jt&r,Nn=Jt===xe;Xe&&nt===Xe._level?(Xe._end=Ut,Xe._endsWithIsolInit=Gt):At.push(Xe={_start:Ut,_end:Ut,_level:nt,_startsWithPDI:Nn,_endsWithIsolInit:Gt})}}for(var Ht=[],L=0;L<At.length;L++){var q=At[L];if(!q._startsWithPDI||q._startsWithPDI&&!pe.has(q._start)){for(var Z=[Xe=q],Ae=void 0;Xe&&Xe._endsWithIsolInit&&(Ae=pe.get(Xe._end))!=null;)for(var de=L+1;de<At.length;de++)if(At[de]._start===Ae){Z.push(Xe=At[de]);break}for(var Re=[],He=0;He<Z.length;He++)for(var Ue=Z[He],Ne=Ue._start;Ne<=Ue._end;Ne++)Re.push(Ne);for(var je=ue[Re[0]],Ge=re.level,ke=Re[0]-1;ke>=0;ke--)if(!(J[ke]&o)){Ge=ue[ke];break}var Qe=Re[Re.length-1],ei=ue[Qe],ft=re.level;if(!(J[Qe]&r)){for(var Tn=Qe+1;Tn<=re.end;Tn++)if(!(J[Tn]&o)){ft=ue[Tn];break}}Ht.push({_seqIndices:Re,_sosType:Math.max(Ge,je)%2?E:x,_eosType:Math.max(ft,ei)%2?E:x})}}for(var cn=0;cn<Ht.length;cn++){var ti=Ht[cn],Me=ti._seqIndices,mt=ti._sosType,Gn=ti._eosType;if(oe.get(te))for(var xt=0;xt<Me.length;xt++){var jp=Me[xt];if(J[jp]&te){for(var Nu=mt,Al=xt-1;Al>=0;Al--)if(!(J[Me[Al]]&o)){Nu=J[Me[Al]];break}le(jp,Nu&(r|xe)?I:Nu)}}if(oe.get(M))for(var sl=0;sl<Me.length;sl++){var $p=Me[sl];if(J[$p]&M)for(var al=sl-1;al>=-1;al--){var eg=al===-1?mt:J[Me[al]];if(eg&s){eg===ie&&le($p,O);break}}}if(oe.get(ie))for(var Gu=0;Gu<Me.length;Gu++){var tg=Me[Gu];J[tg]&ie&&le(tg,E)}if(oe.get(H)||oe.get(Q))for(var ya=1;ya<Me.length-1;ya++){var ku=Me[ya];if(J[ku]&(H|Q)){for(var zA=0,Vu=0,zu=ya-1;zu>=0&&(zA=J[Me[zu]],!!(zA&o));zu--);for(var Ku=ya+1;Ku<Me.length&&(Vu=J[Me[Ku]],!!(Vu&o));Ku++);zA===Vu&&(J[ku]===H?zA===M:zA&(M|O))&&le(ku,zA)}}if(oe.get(M))for(var xa=0;xa<Me.length;xa++){var uC=Me[xa];if(J[uC]&M){for(var ol=xa-1;ol>=0&&J[Me[ol]]&(N|o);ol--)le(Me[ol],M);for(var ll=xa+1;ll<Me.length&&J[Me[ll]]&(N|o);ll++)le(Me[ll],M)}}if(oe.get(N)||oe.get(H)||oe.get(Q))for(var Ca=0;Ca<Me.length;Ca++){var ng=Me[Ca];if(J[ng]&(N|H|Q)){le(ng,I);for(var cl=Ca-1;cl>=0&&J[Me[cl]]&o;cl--)le(Me[cl],I);for(var ul=Ca+1;ul<Me.length&&J[Me[ul]]&o;ul++)le(Me[ul],I)}}if(oe.get(M))for(var Wu=0,ig=mt;Wu<Me.length;Wu++){var rg=Me[Wu],Xu=J[rg];Xu&M?ig===x&&le(rg,x):Xu&s&&(ig=Xu)}if(oe.get(a)){var _a=E|M|O,Ag=_a|x,hl=[];{for(var KA=[],WA=0;WA<Me.length;WA++)if(J[Me[WA]]&a){var Ea=_[Me[WA]],sg=void 0;if(B(Ea)!==null)if(KA.length<63)KA.push({char:Ea,seqIndex:WA});else break;else if((sg=y(Ea))!==null)for(var ba=KA.length-1;ba>=0;ba--){var Yu=KA[ba].char;if(Yu===sg||Yu===y(C(Ea))||B(C(Yu))===Ea){hl.push([KA[ba].seqIndex,WA]),KA.length=ba;break}}}hl.sort(function(nn,ii){return nn[0]-ii[0]})}for(var Ju=0;Ju<hl.length;Ju++){for(var ag=hl[Ju],Ma=ag[0],fl=ag[1],og=!1,ni=0,Zu=Ma+1;Zu<fl;Zu++){var qu=Me[Zu];if(J[qu]&Ag){og=!0;var lg=J[qu]&_a?E:x;if(lg===XA(qu)){ni=lg;break}}}if(og&&!ni){ni=mt;for(var ju=Ma-1;ju>=0;ju--){var dl=Me[ju];if(J[dl]&Ag){var cg=J[dl]&_a?E:x;cg!==XA(dl)?ni=cg:ni=XA(dl);break}}}if(ni){if(J[Me[Ma]]=J[Me[fl]]=ni,ni!==XA(Me[Ma])){for(var Ta=Ma+1;Ta<Me.length;Ta++)if(!(J[Me[Ta]]&o)){h(_[Me[Ta]])&te&&(J[Me[Ta]]=ni);break}}if(ni!==XA(Me[fl])){for(var Sa=fl+1;Sa<Me.length;Sa++)if(!(J[Me[Sa]]&o)){h(_[Me[Sa]])&te&&(J[Me[Sa]]=ni);break}}}}for(var ir=0;ir<Me.length;ir++)if(J[Me[ir]]&a){for(var ug=ir,$u=ir,eh=mt,Fa=ir-1;Fa>=0;Fa--)if(J[Me[Fa]]&o)ug=Fa;else{eh=J[Me[Fa]]&_a?E:x;break}for(var hg=Gn,Ua=ir+1;Ua<Me.length;Ua++)if(J[Me[Ua]]&(a|o))$u=Ua;else{hg=J[Me[Ua]]&_a?E:x;break}for(var pl=ug;pl<=$u;pl++)J[Me[pl]]=eh===hg?eh:XA(Me[pl]);ir=$u}}}for(var Sn=re.start;Sn<=re.end;Sn++){var hC=ue[Sn],gl=J[Sn];if(hC&1?gl&(x|M|O)&&ue[Sn]++:gl&E?ue[Sn]++:gl&(O|M)&&(ue[Sn]+=2),gl&o&&(ue[Sn]=Sn===0?re.level:ue[Sn-1]),Sn===re.end||h(_[Sn])&(G|F))for(var ml=Sn;ml>=0&&h(_[ml])&l;ml--)ue[ml]=re.level}}return{levels:ue,paragraphs:X};function fg(nn,ii){for(var wn=nn;wn<_.length;wn++){var rr=J[wn];if(rr&(E|ie))return 1;if(rr&(F|x)||ii&&rr===xe)return 0;if(rr&r){var dg=fC(wn);wn=dg===-1?_.length:dg}}return 0}function fC(nn){for(var ii=1,wn=nn+1;wn<_.length;wn++){var rr=J[wn];if(rr&F)break;if(rr&xe){if(--ii===0)return wn}else rr&r&&ii++}return-1}function XA(nn){return ue[nn]&1?E:x}}var W="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",b;function S(){if(!b){var _=p(W,!0),K=_.map,Y=_.reverseMap;Y.forEach(function(J,se){K.set(se,J)}),b=K}}function U(_){return S(),b.get(_)||null}function P(_,K,Y,J){var se=_.length;Y=Math.max(0,Y==null?0:+Y),J=Math.min(se-1,J==null?se-1:+J);for(var oe=new Map,le=Y;le<=J;le++)if(K[le]&1){var ue=U(_[le]);ue!==null&&oe.set(le,ue)}return oe}function z(_,K,Y,J){var se=_.length;Y=Math.max(0,Y==null?0:+Y),J=Math.min(se-1,J==null?se-1:+J);var oe=[];return K.paragraphs.forEach(function(le){var ue=Math.max(Y,le.start),pe=Math.min(J,le.end);if(ue<pe){for(var X=K.levels.slice(ue,pe+1),re=pe;re>=ue&&h(_[re])&l;re--)X[re]=le.level;for(var $=le.level,ge=1/0,k=0;k<X.length;k++){var he=X[k];he>$&&($=he),he<ge&&(ge=he|1)}for(var De=$;De>=ge;De--)for(var Be=0;Be<X.length;Be++)if(X[Be]>=De){for(var _e=Be;Be+1<X.length&&X[Be+1]>=De;)Be++;Be>_e&&oe.push([_e+Y,Be+Y])}}}),oe}function R(_,K,Y,J){var se=T(_,K,Y,J),oe=[].concat(_);return se.forEach(function(le,ue){oe[ue]=(K.levels[le]&1?U(_[le]):null)||_[le]}),oe.join("")}function T(_,K,Y,J){for(var se=z(_,K,Y,J),oe=[],le=0;le<_.length;le++)oe[le]=le;return se.forEach(function(ue){for(var pe=ue[0],X=ue[1],re=oe.slice(pe,X+1),$=re.length;$--;)oe[X-$]=re[$]}),oe}return e.closingToOpeningBracket=y,e.getBidiCharType=h,e.getBidiCharTypeName=f,e.getCanonicalBracket=C,e.getEmbeddingLevels=Ce,e.getMirroredCharacter=U,e.getMirroredCharactersMap=P,e.getReorderSegments=z,e.getReorderedIndices=T,e.getReorderedString=R,e.openingToClosingBracket=B,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return A}const Ax=/\bvoid\s+main\s*\(\s*\)\s*{/g;function sd(A){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(n,i){let r=Ve[i];return r?sd(r):n}return A.replace(e,t)}const qt=[];for(let A=0;A<256;A++)qt[A]=(A<16?"0":"")+A.toString(16);function dU(){const A=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(qt[A&255]+qt[A>>8&255]+qt[A>>16&255]+qt[A>>24&255]+"-"+qt[e&255]+qt[e>>8&255]+"-"+qt[e>>16&15|64]+qt[e>>24&255]+"-"+qt[t&63|128]+qt[t>>8&255]+"-"+qt[t>>16&255]+qt[t>>24&255]+qt[n&255]+qt[n>>8&255]+qt[n>>16&255]+qt[n>>24&255]).toUpperCase()}const rA=Object.assign||function(){let A=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let n=arguments[e];if(n)for(let i in n)n.hasOwnProperty(i)&&(A[i]=n[i])}return A},pU=Date.now(),u0=new WeakMap,h0=new Map;let gU=1e10;function ad(A,e){const t=BU(e);let n=u0.get(A);if(n||u0.set(A,n=Object.create(null)),n[t])return new n[t];const i=`_onBeforeCompile${t}`,r=function(l){A.onBeforeCompile.call(this,l);const c=this.customProgramCacheKey()+"|"+l.vertexShader+"|"+l.fragmentShader;let u=h0[c];if(!u){const h=mU(l,e,t);u=h0[c]=h}l.vertexShader=u.vertexShader,l.fragmentShader=u.fragmentShader,rA(l.uniforms,this.uniforms),e.timeUniform&&(l.uniforms[e.timeUniform]={get value(){return Date.now()-pU}}),this[i]&&this[i](l)},s=function(){return a(e.chained?A:A.clone())},a=function(l){const c=Object.create(l,o);return Object.defineProperty(c,"baseMaterial",{value:A}),Object.defineProperty(c,"id",{value:gU++}),c.uuid=dU(),c.uniforms=rA({},l.uniforms,e.uniforms),c.defines=rA({},l.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",c.extensions=rA({},l.extensions,e.extensions),c._listeners=void 0,c},o={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return A.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return r},set(l){this[i]=l}},copy:{writable:!0,configurable:!0,value:function(l){return A.copy.call(this,l),!A.isShaderMaterial&&!A.isDerivedMaterial&&(rA(this.extensions,l.extensions),rA(this.defines,l.defines),rA(this.uniforms,ip.clone(l.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const l=new A.constructor;return a(l).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let l=this._depthMaterial;return l||(l=this._depthMaterial=ad(A.isDerivedMaterial?A.getDepthMaterial():new Xo({depthPacking:ep}),e),l.defines.IS_DEPTH_MATERIAL="",l.uniforms=this.uniforms),l}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let l=this._distanceMaterial;return l||(l=this._distanceMaterial=ad(A.isDerivedMaterial?A.getDistanceMaterial():new Yo,e),l.defines.IS_DISTANCE_MATERIAL="",l.uniforms=this.uniforms),l}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:l,_distanceMaterial:c}=this;l&&l.dispose(),c&&c.dispose(),A.dispose.call(this)}}};return n[t]=s,new s}function mU({vertexShader:A,fragmentShader:e},t,n){let{vertexDefs:i,vertexMainIntro:r,vertexMainOutro:s,vertexTransform:a,fragmentDefs:o,fragmentMainIntro:l,fragmentMainOutro:c,fragmentColorTransform:u,customRewriter:h,timeUniform:f}=t;if(i=i||"",r=r||"",s=s||"",o=o||"",l=l||"",c=c||"",(a||h)&&(A=sd(A)),(u||h)&&(e=e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),e=sd(e)),h){let d=h({vertexShader:A,fragmentShader:e});A=d.vertexShader,e=d.fragmentShader}if(u){let d=[];e=e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,p=>(d.push(p),"")),c=`${u}
${d.join(`
`)}
${c}`}if(f){const d=`
uniform float ${f};
`;i=d+i,o=d+o}return a&&(A=`vec3 troika_position_${n};
vec3 troika_normal_${n};
vec2 troika_uv_${n};
${A}
`,i=`${i}
void troikaVertexTransform${n}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${a}
}
`,r=`
troika_position_${n} = vec3(position);
troika_normal_${n} = vec3(normal);
troika_uv_${n} = vec2(uv);
troikaVertexTransform${n}(troika_position_${n}, troika_normal_${n}, troika_uv_${n});
${r}
`,A=A.replace(/\b(position|normal|uv)\b/g,(d,p,v,g)=>/\battribute\s+vec[23]\s+$/.test(g.substr(0,v))?p:`troika_${p}_${n}`)),A=f0(A,n,i,r,s),e=f0(e,n,o,l,c),{vertexShader:A,fragmentShader:e}}function f0(A,e,t,n,i){return(n||i||t)&&(A=A.replace(Ax,`
${t}
void troikaOrigMain${e}() {`),A+=`
void main() {
  ${n}
  troikaOrigMain${e}();
  ${i}
}`),A}function vU(A,e){return A==="uniforms"?void 0:typeof e=="function"?e.toString():e}let wU=0;const d0=new Map;function BU(A){const e=JSON.stringify(A,vU);let t=d0.get(e);return t==null&&d0.set(e,t=++wU),t}function yU(A){function t(s,a,o,l,c,u,h){const f=1-h;return{x:f*f*s+2*f*h*o+h*h*c,y:f*f*a+2*f*h*l+h*h*u}}function n(s,a,o,l,c,u,h,f,d){const p=1-d;return{x:p*p*p*s+3*p*p*d*o+3*p*d*d*c+d*d*d*h,y:p*p*p*a+3*p*p*d*l+3*p*d*d*u+d*d*d*f}}function i(){return(self.performance||Date).now()}function r(s,a,o,l,c,u=1){const h=i(),f=new Uint8Array(s*a),d=l[2]-l[0],p=l[3]-l[1],v=A(l),g=/([MLQCZ])([^MLQCZ]*)/g;let m,w,B,y,C;for(;m=g.exec(o);){const x=m[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(E=>parseFloat(E));switch(m[1]){case"M":y=w=x[0],C=B=x[1];break;case"L":(x[0]!==y||x[1]!==C)&&v.addLineSegment(y,C,y=x[0],C=x[1]);break;case"Q":{let E={x:y,y:C};for(let M=1;M<16;M++){let H=t(y,C,x[0],x[1],x[2],x[3],M/15);v.addLineSegment(E.x,E.y,H.x,H.y),E=H}y=x[2],C=x[3];break}case"C":{let E={x:y,y:C};for(let M=1;M<16;M++){let H=n(y,C,x[0],x[1],x[2],x[3],x[4],x[5],M/15);v.addLineSegment(E.x,E.y,H.x,H.y),E=H}y=x[4],C=x[5];break}case"Z":(y!==w||C!==B)&&v.addLineSegment(y,C,w,B);break}}for(let x=0;x<s;x++)for(let E=0;E<a;E++){const M=v.findNearestSignedDistance(l[0]+d*(x+.5)/s,l[1]+p*(E+.5)/a,c);let H=Math.pow(1-Math.abs(M)/c,u)/2;M<0&&(H=1-H),H=Math.max(0,Math.min(255,Math.round(H*255))),f[E*s+x]=H}return{textureData:f,timing:i()-h}}return r}function xU(A,e,t){const{defaultFontURL:n}=t,i=Object.create(null),r=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function o(g,m){function w(){const B=y=>{console.error(`Failure loading font ${g}${g===n?"":"; trying fallback"}`,y),g!==n&&(g=n,w())};try{const y=new XMLHttpRequest;y.open("get",g,!0),y.responseType="arraybuffer",y.onload=function(){if(y.status>=400)B(new Error(y.statusText));else if(y.status>0)try{const C=A(y.response);m(C)}catch(C){B(C)}},y.onerror=B,y.send()}catch(y){B(y)}}w()}function l(g,m){g||(g=n);let w=i[g];w?w.pending?w.pending.push(m):m(w):(i[g]={pending:[m]},o(g,B=>{let y=i[g].pending;i[g]=B,y.forEach(C=>C(B))}))}function c({text:g="",font:m=n,sdfGlyphSize:w=64,fontSize:B=1,letterSpacing:y=0,lineHeight:C="normal",maxWidth:x=r,direction:E,textAlign:M="left",textIndent:H=0,whiteSpace:N="normal",overflowWrap:O="normal",anchorX:Q=0,anchorY:F=0,includeCaretPositions:G=!1,chunkedBoundsSize:I=8192,colorRanges:V=null},te,ie=!1){const ae=d(),ee={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),B=+B,y=+y,x=+x,C=C||"normal",H=+H,l(m,fe=>{const ne=isFinite(x);let me=null,we=null,j=null,Fe=null,xe=null,Ce=null,W=null,b=0,S=0,U=N!=="nowrap";const{ascender:P,descender:z,unitsPerEm:R}=fe;ee.fontLoad=d()-ae;const T=d(),_=B/R;C==="normal"&&(C=(P-z)/R),C=C*B;const K=(C-(P-z)*_)/2,Y=-(P*_+K),J=Math.min(C,(P-z)*_),se=(P+z)/2*_-J/2;let oe=H,le=new p;const ue=[le];fe.forEachGlyph(g,B,y,(re,$,ge)=>{const k=g.charAt(ge),he=re.advanceWidth*_,De=le.count;let Be;if("isEmpty"in re||(re.isWhitespace=!!k&&/\s/.test(k),re.canBreakAfter=!!k&&a.test(k),re.isEmpty=re.xMin===re.xMax||re.yMin===re.yMax||s.test(k)),!re.isWhitespace&&!re.isEmpty&&S++,U&&ne&&!re.isWhitespace&&$+he+oe>x&&De){if(le.glyphAt(De-1).glyphObj.canBreakAfter)Be=new p,oe=-$;else for(let Le=De;Le--;)if(Le===0&&O==="break-word"){Be=new p,oe=-$;break}else if(le.glyphAt(Le).glyphObj.canBreakAfter){Be=le.splitAt(Le+1);const Oe=Be.glyphAt(0).x;oe-=Oe;for(let ot=Be.count;ot--;)Be.glyphAt(ot).x-=Oe;break}Be&&(le.isSoftWrapped=!0,le=Be,ue.push(le),b=x)}let _e=le.glyphAt(le.count);_e.glyphObj=re,_e.x=$+oe,_e.width=he,_e.charIndex=ge,k===`
`&&(le=new p,ue.push(le),oe=-($+he+y*B)+H)}),ue.forEach(re=>{for(let $=re.count;$--;){let{glyphObj:ge,x:k,width:he}=re.glyphAt($);if(!ge.isWhitespace){re.width=k+he,re.width>b&&(b=re.width);return}}});let pe=0,X=0;if(Q&&(typeof Q=="number"?pe=-Q:typeof Q=="string"&&(pe=-b*(Q==="left"?0:Q==="center"?.5:Q==="right"?1:h(Q)))),F){if(typeof F=="number")X=-F;else if(typeof F=="string"){let re=ue.length*C;X=F==="top"?0:F==="top-baseline"?-Y:F==="middle"?re/2:F==="bottom"?re:F==="bottom-baseline"?re-K+z*_:h(F)*re}}if(!ie){const re=e.getEmbeddingLevels(g,E);me=new Uint16Array(S),we=new Float32Array(S*2),j={},Ce=[r,r,-r,-r],W=[];let $=Y;G&&(xe=new Float32Array(g.length*3)),V&&(Fe=new Uint8Array(S*3));let ge=0,k=-1,he=-1,De,Be;if(ue.forEach((_e,Le)=>{let{count:Oe,width:ot}=_e;if(Oe>0){let Ke=0;for(let At=Oe;At--&&_e.glyphAt(At).glyphObj.isWhitespace;)Ke++;let Je=0,$n=0;if(M==="center")Je=(b-ot)/2;else if(M==="right")Je=b-ot;else if(M==="justify"&&_e.isSoftWrapped){let At=0;for(let Xe=Oe-Ke;Xe--;)_e.glyphAt(Xe).glyphObj.isWhitespace&&At++;$n=(b-ot)/At}if($n||Je){let At=0;for(let Xe=0;Xe<Oe;Xe++){let Ut=_e.glyphAt(Xe);const Jt=Ut.glyphObj;Ut.x+=Je+At,$n!==0&&Jt.isWhitespace&&Xe<Oe-Ke&&(At+=$n,Ut.width+=$n)}}const tr=e.getReorderSegments(g,re,_e.glyphAt(0).charIndex,_e.glyphAt(_e.count-1).charIndex);for(let At=0;At<tr.length;At++){const[Xe,Ut]=tr[At];let Jt=1/0,nt=-1/0;for(let Gt=0;Gt<Oe;Gt++)if(_e.glyphAt(Gt).charIndex>=Xe){let Nn=Gt,Ht=Gt;for(;Ht<Oe;Ht++){let L=_e.glyphAt(Ht);if(L.charIndex>Ut)break;Ht<Oe-Ke&&(Jt=Math.min(Jt,L.x),nt=Math.max(nt,L.x+L.width))}for(let L=Nn;L<Ht;L++){const q=_e.glyphAt(L);q.x=nt-(q.x+q.width-Jt)}break}}let ht;const nr=At=>ht=At;for(let At=0;At<Oe;At++){let Xe=_e.glyphAt(At);ht=Xe.glyphObj;const Ut=ht.index,Jt=re.levels[Xe.charIndex]&1;if(Jt){const nt=e.getMirroredCharacter(g[Xe.charIndex]);nt&&fe.forEachGlyph(nt,0,0,nr)}if(G){const{charIndex:nt}=Xe,Gt=Xe.x+pe,Nn=Xe.x+Xe.width+pe;xe[nt*3]=Jt?Nn:Gt,xe[nt*3+1]=Jt?Gt:Nn,xe[nt*3+2]=$+se+X;const Ht=nt-k;Ht>1&&f(xe,k,Ht),k=nt}if(V){const{charIndex:nt}=Xe;for(;nt>he;)he++,V.hasOwnProperty(he)&&(Be=V[he])}if(!ht.isWhitespace&&!ht.isEmpty){const nt=ge++;j[Ut]||(j[Ut]={path:ht.path,pathBounds:[ht.xMin,ht.yMin,ht.xMax,ht.yMax]});const Gt=Xe.x+pe,Nn=$+X;we[nt*2]=Gt,we[nt*2+1]=Nn;const Ht=Gt+ht.xMin*_,L=Nn+ht.yMin*_,q=Gt+ht.xMax*_,Z=Nn+ht.yMax*_;Ht<Ce[0]&&(Ce[0]=Ht),L<Ce[1]&&(Ce[1]=L),q>Ce[2]&&(Ce[2]=q),Z>Ce[3]&&(Ce[3]=Z),nt%I===0&&(De={start:nt,end:nt,rect:[r,r,-r,-r]},W.push(De)),De.end++;const Ae=De.rect;if(Ht<Ae[0]&&(Ae[0]=Ht),L<Ae[1]&&(Ae[1]=L),q>Ae[2]&&(Ae[2]=q),Z>Ae[3]&&(Ae[3]=Z),me[nt]=Ut,V){const de=nt*3;Fe[de]=Be>>16&255,Fe[de+1]=Be>>8&255,Fe[de+2]=Be&255}}}}$-=C}),xe){const _e=g.length-k;_e>1&&f(xe,k,_e)}}ee.typesetting=d()-T,te({glyphIds:me,glyphPositions:we,glyphData:j,caretPositions:xe,caretHeight:J,glyphColors:Fe,chunkedBounds:W,fontSize:B,unitsPerEm:R,ascender:P*_,descender:z*_,lineHeight:C,topBaseline:Y,blockBounds:[pe,X-ue.length*C,pe+b,X],visibleBounds:Ce,timings:ee})})}function u(g,m){c(g,w=>{const[B,y,C,x]=w.blockBounds;m({width:C-B,height:x-y})},{metricsOnly:!0})}function h(g){let m=g.match(/^([\d.]+)%$/),w=m?parseFloat(m[1]):NaN;return isNaN(w)?0:w/100}function f(g,m,w){const B=g[m*3],y=g[m*3+1],C=g[m*3+2],x=(y-B)/w;for(let E=0;E<w;E++){const M=(m+E)*3;g[M]=B+x*E,g[M+1]=B+x*(E+1),g[M+2]=C}}function d(){return(self.performance||Date).now()}function p(){this.data=[]}const v=["glyphObj","x","width","charIndex"];return p.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt(g){let m=p.flyweight;return m.data=this.data,m.index=g,m},splitAt(g){let m=new p;return m.data=this.data.splice(g*v.length),m}},p.flyweight=v.reduce((g,m,w,B)=>(Object.defineProperty(g,m,{get(){return this.data[this.index*v.length+w]},set(y){this.data[this.index*v.length+w]=y}}),g),{data:null,index:0}),{typeset:c,measure:u,loadFont:l}}function CU(A){let e=!1;const t=[];function n(){e&&(t.sort(function(o,l){return o.maxX-l.maxX}),e=!1)}function i(o,l,c,u){const h={x0:o,y0:l,x1:c,y1:u,minX:Math.min(o,c),minY:Math.min(l,u),maxX:Math.max(o,c),maxY:Math.max(l,u)};t.push(h),e=!0}function r(o,l){n();let c=1/0,u=1/0;for(let h=t.length;h--;){const f=t[h];if(f.maxX+u<=o)break;if(o+u>f.minX&&l-u<f.maxY&&l+u>f.minY){const d=a(o,l,f.x0,f.y0,f.x1,f.y1);d<c&&(c=d,u=Math.sqrt(c))}}return s(o,l)&&(u=-u),u}function s(o,l){n();let c=!1;for(let u=t.length;u--;){const h=t[u];if(h.maxX<=o)break;h.minY<l&&h.maxY>l&&h.y0>l!=h.y1>l&&o<(h.x1-h.x0)*(l-h.y0)/(h.y1-h.y0)+h.x0&&(c=!c)}return c}function a(o,l,c,u,h,f){const d=h-c,p=f-u,v=d*d+p*p,g=v?Math.max(0,Math.min(1,((o-c)*d+(l-u)*p)/v)):0,m=o-(c+g*d),w=l-(u+g*p);return m*m+w*w}return{addLineSegment:i,findNearestSignedDistance:r}}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function _U(){return typeof window=="undefined"&&(self.window=self),function(A){var e={parse:function(i){var r=e._bin,s=new Uint8Array(i);if(r.readASCII(s,0,4)=="ttcf"){var a=4;r.readUshort(s,a),a+=2,r.readUshort(s,a),a+=2;var o=r.readUint(s,a);a+=4;for(var l=[],c=0;c<o;c++){var u=r.readUint(s,a);a+=4,l.push(e._readFont(s,u))}return l}return[e._readFont(s,0)]},_readFont:function(i,r){var s=e._bin,a=r;s.readFixed(i,r),r+=4;var o=s.readUshort(i,r);r+=2,s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2;for(var l=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:i,_offset:a},u={},h=0;h<o;h++){var f=s.readASCII(i,r,4);r+=4,s.readUint(i,r),r+=4;var d=s.readUint(i,r);r+=4;var p=s.readUint(i,r);r+=4,u[f]={offset:d,length:p}}for(h=0;h<l.length;h++){var v=l[h];u[v]&&(c[v.trim()]=e[v.trim()].parse(i,u[v].offset,u[v].length,c))}return c},_tabOffset:function(i,r,s){for(var a=e._bin,o=a.readUshort(i,s+4),l=s+12,c=0;c<o;c++){var u=a.readASCII(i,l,4);l+=4,a.readUint(i,l),l+=4;var h=a.readUint(i,l);if(l+=4,a.readUint(i,l),l+=4,u==r)return h}return 0}};e._bin={readFixed:function(i,r){return(i[r]<<8|i[r+1])+(i[r+2]<<8|i[r+3])/65540},readF2dot14:function(i,r){return e._bin.readShort(i,r)/16384},readInt:function(i,r){return e._bin._view(i).getInt32(r)},readInt8:function(i,r){return e._bin._view(i).getInt8(r)},readShort:function(i,r){return e._bin._view(i).getInt16(r)},readUshort:function(i,r){return e._bin._view(i).getUint16(r)},readUshorts:function(i,r,s){for(var a=[],o=0;o<s;o++)a.push(e._bin.readUshort(i,r+2*o));return a},readUint:function(i,r){return e._bin._view(i).getUint32(r)},readUint64:function(i,r){return 4294967296*e._bin.readUint(i,r)+e._bin.readUint(i,r+4)},readASCII:function(i,r,s){for(var a="",o=0;o<s;o++)a+=String.fromCharCode(i[r+o]);return a},readUnicode:function(i,r,s){for(var a="",o=0;o<s;o++){var l=i[r++]<<8|i[r++];a+=String.fromCharCode(l)}return a},_tdec:typeof window!="undefined"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,r,s){var a=e._bin._tdec;return a&&r==0&&s==i.length?a.decode(i):e._bin.readASCII(i,r,s)},readBytes:function(i,r,s){for(var a=[],o=0;o<s;o++)a.push(i[r+o]);return a},readASCIIArray:function(i,r,s){for(var a=[],o=0;o<s;o++)a.push(String.fromCharCode(i[r+o]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,r,s,a,o){var l=e._bin,c={},u=r;l.readFixed(i,r),r+=4;var h=l.readUshort(i,r);r+=2;var f=l.readUshort(i,r);r+=2;var d=l.readUshort(i,r);return r+=2,c.scriptList=e._lctf.readScriptList(i,u+h),c.featureList=e._lctf.readFeatureList(i,u+f),c.lookupList=e._lctf.readLookupList(i,u+d,o),c},e._lctf.readLookupList=function(i,r,s){var a=e._bin,o=r,l=[],c=a.readUshort(i,r);r+=2;for(var u=0;u<c;u++){var h=a.readUshort(i,r);r+=2;var f=e._lctf.readLookupTable(i,o+h,s);l.push(f)}return l},e._lctf.readLookupTable=function(i,r,s){var a=e._bin,o=r,l={tabs:[]};l.ltype=a.readUshort(i,r),r+=2,l.flag=a.readUshort(i,r),r+=2;var c=a.readUshort(i,r);r+=2;for(var u=l.ltype,h=0;h<c;h++){var f=a.readUshort(i,r);r+=2;var d=s(i,u,o+f,l);l.tabs.push(d)}return l},e._lctf.numOfOnes=function(i){for(var r=0,s=0;s<32;s++)(i>>>s&1)!=0&&r++;return r},e._lctf.readClassDef=function(i,r){var s=e._bin,a=[],o=s.readUshort(i,r);if(r+=2,o==1){var l=s.readUshort(i,r);r+=2;var c=s.readUshort(i,r);r+=2;for(var u=0;u<c;u++)a.push(l+u),a.push(l+u),a.push(s.readUshort(i,r)),r+=2}if(o==2){var h=s.readUshort(i,r);for(r+=2,u=0;u<h;u++)a.push(s.readUshort(i,r)),r+=2,a.push(s.readUshort(i,r)),r+=2,a.push(s.readUshort(i,r)),r+=2}return a},e._lctf.getInterval=function(i,r){for(var s=0;s<i.length;s+=3){var a=i[s],o=i[s+1];if(i[s+2],a<=r&&r<=o)return s}return-1},e._lctf.readCoverage=function(i,r){var s=e._bin,a={};a.fmt=s.readUshort(i,r),r+=2;var o=s.readUshort(i,r);return r+=2,a.fmt==1&&(a.tab=s.readUshorts(i,r,o)),a.fmt==2&&(a.tab=s.readUshorts(i,r,3*o)),a},e._lctf.coverageIndex=function(i,r){var s=i.tab;if(i.fmt==1)return s.indexOf(r);if(i.fmt==2){var a=e._lctf.getInterval(s,r);if(a!=-1)return s[a+2]+(r-s[a])}return-1},e._lctf.readFeatureList=function(i,r){var s=e._bin,a=r,o=[],l=s.readUshort(i,r);r+=2;for(var c=0;c<l;c++){var u=s.readASCII(i,r,4);r+=4;var h=s.readUshort(i,r);r+=2;var f=e._lctf.readFeatureTable(i,a+h);f.tag=u.trim(),o.push(f)}return o},e._lctf.readFeatureTable=function(i,r){var s=e._bin,a=r,o={},l=s.readUshort(i,r);r+=2,l>0&&(o.featureParams=a+l);var c=s.readUshort(i,r);r+=2,o.tab=[];for(var u=0;u<c;u++)o.tab.push(s.readUshort(i,r+2*u));return o},e._lctf.readScriptList=function(i,r){var s=e._bin,a=r,o={},l=s.readUshort(i,r);r+=2;for(var c=0;c<l;c++){var u=s.readASCII(i,r,4);r+=4;var h=s.readUshort(i,r);r+=2,o[u.trim()]=e._lctf.readScriptTable(i,a+h)}return o},e._lctf.readScriptTable=function(i,r){var s=e._bin,a=r,o={},l=s.readUshort(i,r);r+=2,o.default=e._lctf.readLangSysTable(i,a+l);var c=s.readUshort(i,r);r+=2;for(var u=0;u<c;u++){var h=s.readASCII(i,r,4);r+=4;var f=s.readUshort(i,r);r+=2,o[h.trim()]=e._lctf.readLangSysTable(i,a+f)}return o},e._lctf.readLangSysTable=function(i,r){var s=e._bin,a={};s.readUshort(i,r),r+=2,a.reqFeature=s.readUshort(i,r),r+=2;var o=s.readUshort(i,r);return r+=2,a.features=s.readUshorts(i,r,o),a},e.CFF={},e.CFF.parse=function(i,r,s){var a=e._bin;(i=new Uint8Array(i.buffer,r,s))[r=0],i[++r],i[++r],i[++r],r++;var o=[];r=e.CFF.readIndex(i,r,o);for(var l=[],c=0;c<o.length-1;c++)l.push(a.readASCII(i,r+o[c],o[c+1]-o[c]));r+=o[o.length-1];var u=[];r=e.CFF.readIndex(i,r,u);var h=[];for(c=0;c<u.length-1;c++)h.push(e.CFF.readDict(i,r+u[c],r+u[c+1]));r+=u[u.length-1];var f=h[0],d=[];r=e.CFF.readIndex(i,r,d);var p=[];for(c=0;c<d.length-1;c++)p.push(a.readASCII(i,r+d[c],d[c+1]-d[c]));if(r+=d[d.length-1],e.CFF.readSubrs(i,r,f),f.CharStrings){r=f.CharStrings,d=[],r=e.CFF.readIndex(i,r,d);var v=[];for(c=0;c<d.length-1;c++)v.push(a.readBytes(i,r+d[c],d[c+1]-d[c]));f.CharStrings=v}if(f.ROS){r=f.FDArray;var g=[];for(r=e.CFF.readIndex(i,r,g),f.FDArray=[],c=0;c<g.length-1;c++){var m=e.CFF.readDict(i,r+g[c],r+g[c+1]);e.CFF._readFDict(i,m,p),f.FDArray.push(m)}r+=g[g.length-1],r=f.FDSelect,f.FDSelect=[];var w=i[r];if(r++,w!=3)throw w;var B=a.readUshort(i,r);for(r+=2,c=0;c<B+1;c++)f.FDSelect.push(a.readUshort(i,r),i[r+2]),r+=3}return f.Encoding&&(f.Encoding=e.CFF.readEncoding(i,f.Encoding,f.CharStrings.length)),f.charset&&(f.charset=e.CFF.readCharset(i,f.charset,f.CharStrings.length)),e.CFF._readFDict(i,f,p),f},e.CFF._readFDict=function(i,r,s){var a;for(var o in r.Private&&(a=r.Private[1],r.Private=e.CFF.readDict(i,a,a+r.Private[0]),r.Private.Subrs&&e.CFF.readSubrs(i,a+r.Private.Subrs,r.Private)),r)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)!=-1&&(r[o]=s[r[o]-426+35])},e.CFF.readSubrs=function(i,r,s){var a=e._bin,o=[];r=e.CFF.readIndex(i,r,o);var l,c=o.length;l=c<1240?107:c<33900?1131:32768,s.Bias=l,s.Subrs=[];for(var u=0;u<o.length-1;u++)s.Subrs.push(a.readBytes(i,r+o[u],o[u+1]-o[u]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,r){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==r)return s;return-1},e.CFF.glyphBySE=function(i,r){return r<0||r>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[r])},e.CFF.readEncoding=function(i,r,s){e._bin;var a=[".notdef"],o=i[r];if(r++,o!=0)throw"error: unknown encoding format: "+o;var l=i[r];r++;for(var c=0;c<l;c++)a.push(i[r+c]);return a},e.CFF.readCharset=function(i,r,s){var a=e._bin,o=[".notdef"],l=i[r];if(r++,l==0)for(var c=0;c<s;c++){var u=a.readUshort(i,r);r+=2,o.push(u)}else{if(l!=1&&l!=2)throw"error: format: "+l;for(;o.length<s;){u=a.readUshort(i,r),r+=2;var h=0;for(l==1?(h=i[r],r++):(h=a.readUshort(i,r),r+=2),c=0;c<=h;c++)o.push(u),u++}}return o},e.CFF.readIndex=function(i,r,s){var a=e._bin,o=a.readUshort(i,r)+1,l=i[r+=2];if(r++,l==1)for(var c=0;c<o;c++)s.push(i[r+c]);else if(l==2)for(c=0;c<o;c++)s.push(a.readUshort(i,r+2*c));else if(l==3)for(c=0;c<o;c++)s.push(16777215&a.readUint(i,r+3*c-1));else if(o!=1)throw"unsupported offset size: "+l+", count: "+o;return(r+=o*l)-1},e.CFF.getCharString=function(i,r,s){var a=e._bin,o=i[r],l=i[r+1];i[r+2],i[r+3],i[r+4];var c=1,u=null,h=null;o<=20&&(u=o,c=1),o==12&&(u=100*o+l,c=2),21<=o&&o<=27&&(u=o,c=1),o==28&&(h=a.readShort(i,r+1),c=3),29<=o&&o<=31&&(u=o,c=1),32<=o&&o<=246&&(h=o-139,c=1),247<=o&&o<=250&&(h=256*(o-247)+l+108,c=2),251<=o&&o<=254&&(h=256*-(o-251)-l-108,c=2),o==255&&(h=a.readInt(i,r+1)/65535,c=5),s.val=h!=null?h:"o"+u,s.size=c},e.CFF.readCharString=function(i,r,s){for(var a=r+s,o=e._bin,l=[];r<a;){var c=i[r],u=i[r+1];i[r+2],i[r+3],i[r+4];var h=1,f=null,d=null;c<=20&&(f=c,h=1),c==12&&(f=100*c+u,h=2),c!=19&&c!=20||(f=c,h=2),21<=c&&c<=27&&(f=c,h=1),c==28&&(d=o.readShort(i,r+1),h=3),29<=c&&c<=31&&(f=c,h=1),32<=c&&c<=246&&(d=c-139,h=1),247<=c&&c<=250&&(d=256*(c-247)+u+108,h=2),251<=c&&c<=254&&(d=256*-(c-251)-u-108,h=2),c==255&&(d=o.readInt(i,r+1)/65535,h=5),l.push(d!=null?d:"o"+f),r+=h}return l},e.CFF.readDict=function(i,r,s){for(var a=e._bin,o={},l=[];r<s;){var c=i[r],u=i[r+1];i[r+2],i[r+3],i[r+4];var h=1,f=null,d=null;if(c==28&&(d=a.readShort(i,r+1),h=3),c==29&&(d=a.readInt(i,r+1),h=5),32<=c&&c<=246&&(d=c-139,h=1),247<=c&&c<=250&&(d=256*(c-247)+u+108,h=2),251<=c&&c<=254&&(d=256*-(c-251)-u-108,h=2),c==255)throw d=a.readInt(i,r+1)/65535,h=5,"unknown number";if(c==30){var p=[];for(h=1;;){var v=i[r+h];h++;var g=v>>4,m=15&v;if(g!=15&&p.push(g),m!=15&&p.push(m),m==15)break}for(var w="",B=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<p.length;y++)w+=B[p[y]];d=parseFloat(w)}c<=21&&(f=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(f=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][u],h=2)),f!=null?(o[f]=l.length==1?l[0]:l,l=[]):l.push(d),r+=h}return o},e.cmap={},e.cmap.parse=function(i,r,s){i=new Uint8Array(i.buffer,r,s),r=0;var a=e._bin,o={};a.readUshort(i,r),r+=2;var l=a.readUshort(i,r);r+=2;var c=[];o.tables=[];for(var u=0;u<l;u++){var h=a.readUshort(i,r);r+=2;var f=a.readUshort(i,r);r+=2;var d=a.readUint(i,r);r+=4;var p="p"+h+"e"+f,v=c.indexOf(d);if(v==-1){var g;v=o.tables.length,c.push(d);var m=a.readUshort(i,d);m==0?g=e.cmap.parse0(i,d):m==4?g=e.cmap.parse4(i,d):m==6?g=e.cmap.parse6(i,d):m==12?g=e.cmap.parse12(i,d):console.debug("unknown format: "+m,h,f,d),o.tables.push(g)}if(o[p]!=null)throw"multiple tables for one platform+encoding";o[p]=v}return o},e.cmap.parse0=function(i,r){var s=e._bin,a={};a.format=s.readUshort(i,r),r+=2;var o=s.readUshort(i,r);r+=2,s.readUshort(i,r),r+=2,a.map=[];for(var l=0;l<o-6;l++)a.map.push(i[r+l]);return a},e.cmap.parse4=function(i,r){var s=e._bin,a=r,o={};o.format=s.readUshort(i,r),r+=2;var l=s.readUshort(i,r);r+=2,s.readUshort(i,r),r+=2;var c=s.readUshort(i,r);r+=2;var u=c/2;o.searchRange=s.readUshort(i,r),r+=2,o.entrySelector=s.readUshort(i,r),r+=2,o.rangeShift=s.readUshort(i,r),r+=2,o.endCount=s.readUshorts(i,r,u),r+=2*u,r+=2,o.startCount=s.readUshorts(i,r,u),r+=2*u,o.idDelta=[];for(var h=0;h<u;h++)o.idDelta.push(s.readShort(i,r)),r+=2;for(o.idRangeOffset=s.readUshorts(i,r,u),r+=2*u,o.glyphIdArray=[];r<a+l;)o.glyphIdArray.push(s.readUshort(i,r)),r+=2;return o},e.cmap.parse6=function(i,r){var s=e._bin,a={};a.format=s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2,a.firstCode=s.readUshort(i,r),r+=2;var o=s.readUshort(i,r);r+=2,a.glyphIdArray=[];for(var l=0;l<o;l++)a.glyphIdArray.push(s.readUshort(i,r)),r+=2;return a},e.cmap.parse12=function(i,r){var s=e._bin,a={};a.format=s.readUshort(i,r),r+=2,r+=2,s.readUint(i,r),r+=4,s.readUint(i,r),r+=4;var o=s.readUint(i,r);r+=4,a.groups=[];for(var l=0;l<o;l++){var c=r+12*l,u=s.readUint(i,c+0),h=s.readUint(i,c+4),f=s.readUint(i,c+8);a.groups.push([u,h,f])}return a},e.glyf={},e.glyf.parse=function(i,r,s,a){for(var o=[],l=0;l<a.maxp.numGlyphs;l++)o.push(null);return o},e.glyf._parseGlyf=function(i,r){var s=e._bin,a=i._data,o=e._tabOffset(a,"glyf",i._offset)+i.loca[r];if(i.loca[r]==i.loca[r+1])return null;var l={};if(l.noc=s.readShort(a,o),o+=2,l.xMin=s.readShort(a,o),o+=2,l.yMin=s.readShort(a,o),o+=2,l.xMax=s.readShort(a,o),o+=2,l.yMax=s.readShort(a,o),o+=2,l.xMin>=l.xMax||l.yMin>=l.yMax)return null;if(l.noc>0){l.endPts=[];for(var c=0;c<l.noc;c++)l.endPts.push(s.readUshort(a,o)),o+=2;var u=s.readUshort(a,o);if(o+=2,a.length-o<u)return null;l.instructions=s.readBytes(a,o,u),o+=u;var h=l.endPts[l.noc-1]+1;for(l.flags=[],c=0;c<h;c++){var f=a[o];if(o++,l.flags.push(f),(8&f)!=0){var d=a[o];o++;for(var p=0;p<d;p++)l.flags.push(f),c++}}for(l.xs=[],c=0;c<h;c++){var v=(2&l.flags[c])!=0,g=(16&l.flags[c])!=0;v?(l.xs.push(g?a[o]:-a[o]),o++):g?l.xs.push(0):(l.xs.push(s.readShort(a,o)),o+=2)}for(l.ys=[],c=0;c<h;c++)v=(4&l.flags[c])!=0,g=(32&l.flags[c])!=0,v?(l.ys.push(g?a[o]:-a[o]),o++):g?l.ys.push(0):(l.ys.push(s.readShort(a,o)),o+=2);var m=0,w=0;for(c=0;c<h;c++)m+=l.xs[c],w+=l.ys[c],l.xs[c]=m,l.ys[c]=w}else{var B;l.parts=[];do{B=s.readUshort(a,o),o+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(l.parts.push(y),y.glyphIndex=s.readUshort(a,o),o+=2,1&B){var C=s.readShort(a,o);o+=2;var x=s.readShort(a,o);o+=2}else C=s.readInt8(a,o),o++,x=s.readInt8(a,o),o++;2&B?(y.m.tx=C,y.m.ty=x):(y.p1=C,y.p2=x),8&B?(y.m.a=y.m.d=s.readF2dot14(a,o),o+=2):64&B?(y.m.a=s.readF2dot14(a,o),o+=2,y.m.d=s.readF2dot14(a,o),o+=2):128&B&&(y.m.a=s.readF2dot14(a,o),o+=2,y.m.b=s.readF2dot14(a,o),o+=2,y.m.c=s.readF2dot14(a,o),o+=2,y.m.d=s.readF2dot14(a,o),o+=2)}while(32&B);if(256&B){var E=s.readUshort(a,o);for(o+=2,l.instr=[],c=0;c<E;c++)l.instr.push(a[o]),o++}}return l},e.GPOS={},e.GPOS.parse=function(i,r,s,a){return e._lctf.parse(i,r,s,a,e.GPOS.subt)},e.GPOS.subt=function(i,r,s,a){var o=e._bin,l=s,c={};if(c.fmt=o.readUshort(i,s),s+=2,r==1||r==2||r==3||r==7||r==8&&c.fmt<=2){var u=o.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,u+l)}if(r==1&&c.fmt==1){var h=o.readUshort(i,s);s+=2;var f=e._lctf.numOfOnes(h);h!=0&&(c.pos=e.GPOS.readValueRecord(i,s,h))}else if(r==2&&c.fmt>=1&&c.fmt<=2){h=o.readUshort(i,s),s+=2;var d=o.readUshort(i,s);s+=2,f=e._lctf.numOfOnes(h);var p=e._lctf.numOfOnes(d);if(c.fmt==1){c.pairsets=[];var v=o.readUshort(i,s);s+=2;for(var g=0;g<v;g++){var m=l+o.readUshort(i,s);s+=2;var w=o.readUshort(i,m);m+=2;for(var B=[],y=0;y<w;y++){var C=o.readUshort(i,m);m+=2,h!=0&&(O=e.GPOS.readValueRecord(i,m,h),m+=2*f),d!=0&&(Q=e.GPOS.readValueRecord(i,m,d),m+=2*p),B.push({gid2:C,val1:O,val2:Q})}c.pairsets.push(B)}}if(c.fmt==2){var x=o.readUshort(i,s);s+=2;var E=o.readUshort(i,s);s+=2;var M=o.readUshort(i,s);s+=2;var H=o.readUshort(i,s);for(s+=2,c.classDef1=e._lctf.readClassDef(i,l+x),c.classDef2=e._lctf.readClassDef(i,l+E),c.matrix=[],g=0;g<M;g++){var N=[];for(y=0;y<H;y++){var O=null,Q=null;h!=0&&(O=e.GPOS.readValueRecord(i,s,h),s+=2*f),d!=0&&(Q=e.GPOS.readValueRecord(i,s,d),s+=2*p),N.push({val1:O,val2:Q})}c.matrix.push(N)}}}else{if(r==9&&c.fmt==1){var F=o.readUshort(i,s);s+=2;var G=o.readUint(i,s);if(s+=4,a.ltype==9)a.ltype=F;else if(a.ltype!=F)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,l+G)}console.debug("unsupported GPOS table LookupType",r,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,r,s){var a=e._bin,o=[];return o.push(1&s?a.readShort(i,r):0),r+=1&s?2:0,o.push(2&s?a.readShort(i,r):0),r+=2&s?2:0,o.push(4&s?a.readShort(i,r):0),r+=4&s?2:0,o.push(8&s?a.readShort(i,r):0),r+=8&s?2:0,o},e.GSUB={},e.GSUB.parse=function(i,r,s,a){return e._lctf.parse(i,r,s,a,e.GSUB.subt)},e.GSUB.subt=function(i,r,s,a){var o=e._bin,l=s,c={};if(c.fmt=o.readUshort(i,s),s+=2,r!=1&&r!=4&&r!=5&&r!=6)return null;if(r==1||r==4||r==5&&c.fmt<=2||r==6&&c.fmt<=2){var u=o.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,l+u)}if(r==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=o.readShort(i,s),s+=2;else if(c.fmt==2){var h=o.readUshort(i,s);s+=2,c.newg=o.readUshorts(i,s,h),s+=2*c.newg.length}}else if(r==4){c.vals=[],h=o.readUshort(i,s),s+=2;for(var f=0;f<h;f++){var d=o.readUshort(i,s);s+=2,c.vals.push(e.GSUB.readLigatureSet(i,l+d))}}else if(r==5&&c.fmt==2){if(c.fmt==2){var p=o.readUshort(i,s);s+=2,c.cDef=e._lctf.readClassDef(i,l+p),c.scset=[];var v=o.readUshort(i,s);for(s+=2,f=0;f<v;f++){var g=o.readUshort(i,s);s+=2,c.scset.push(g==0?null:e.GSUB.readSubClassSet(i,l+g))}}}else if(r==6&&c.fmt==3){if(c.fmt==3){for(f=0;f<3;f++){h=o.readUshort(i,s),s+=2;for(var m=[],w=0;w<h;w++)m.push(e._lctf.readCoverage(i,l+o.readUshort(i,s+2*w)));s+=2*h,f==0&&(c.backCvg=m),f==1&&(c.inptCvg=m),f==2&&(c.ahedCvg=m)}h=o.readUshort(i,s),s+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,s,h)}}else{if(r==7&&c.fmt==1){var B=o.readUshort(i,s);s+=2;var y=o.readUint(i,s);if(s+=4,a.ltype==9)a.ltype=B;else if(a.ltype!=B)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,l+y)}console.debug("unsupported GSUB table LookupType",r,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,r){var s=e._bin.readUshort,a=r,o=[],l=s(i,r);r+=2;for(var c=0;c<l;c++){var u=s(i,r);r+=2,o.push(e.GSUB.readSubClassRule(i,a+u))}return o},e.GSUB.readSubClassRule=function(i,r){var s=e._bin.readUshort,a={},o=s(i,r),l=s(i,r+=2);r+=2,a.input=[];for(var c=0;c<o-1;c++)a.input.push(s(i,r)),r+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,r,l),a},e.GSUB.readSubstLookupRecords=function(i,r,s){for(var a=e._bin.readUshort,o=[],l=0;l<s;l++)o.push(a(i,r),a(i,r+2)),r+=4;return o},e.GSUB.readChainSubClassSet=function(i,r){var s=e._bin,a=r,o=[],l=s.readUshort(i,r);r+=2;for(var c=0;c<l;c++){var u=s.readUshort(i,r);r+=2,o.push(e.GSUB.readChainSubClassRule(i,a+u))}return o},e.GSUB.readChainSubClassRule=function(i,r){for(var s=e._bin,a={},o=["backtrack","input","lookahead"],l=0;l<o.length;l++){var c=s.readUshort(i,r);r+=2,l==1&&c--,a[o[l]]=s.readUshorts(i,r,c),r+=2*a[o[l]].length}return c=s.readUshort(i,r),r+=2,a.subst=s.readUshorts(i,r,2*c),r+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,r){var s=e._bin,a=r,o=[],l=s.readUshort(i,r);r+=2;for(var c=0;c<l;c++){var u=s.readUshort(i,r);r+=2,o.push(e.GSUB.readLigature(i,a+u))}return o},e.GSUB.readLigature=function(i,r){var s=e._bin,a={chain:[]};a.nglyph=s.readUshort(i,r),r+=2;var o=s.readUshort(i,r);r+=2;for(var l=0;l<o-1;l++)a.chain.push(s.readUshort(i,r)),r+=2;return a},e.head={},e.head.parse=function(i,r,s){var a=e._bin,o={};return a.readFixed(i,r),r+=4,o.fontRevision=a.readFixed(i,r),r+=4,a.readUint(i,r),r+=4,a.readUint(i,r),r+=4,o.flags=a.readUshort(i,r),r+=2,o.unitsPerEm=a.readUshort(i,r),r+=2,o.created=a.readUint64(i,r),r+=8,o.modified=a.readUint64(i,r),r+=8,o.xMin=a.readShort(i,r),r+=2,o.yMin=a.readShort(i,r),r+=2,o.xMax=a.readShort(i,r),r+=2,o.yMax=a.readShort(i,r),r+=2,o.macStyle=a.readUshort(i,r),r+=2,o.lowestRecPPEM=a.readUshort(i,r),r+=2,o.fontDirectionHint=a.readShort(i,r),r+=2,o.indexToLocFormat=a.readShort(i,r),r+=2,o.glyphDataFormat=a.readShort(i,r),r+=2,o},e.hhea={},e.hhea.parse=function(i,r,s){var a=e._bin,o={};return a.readFixed(i,r),r+=4,o.ascender=a.readShort(i,r),r+=2,o.descender=a.readShort(i,r),r+=2,o.lineGap=a.readShort(i,r),r+=2,o.advanceWidthMax=a.readUshort(i,r),r+=2,o.minLeftSideBearing=a.readShort(i,r),r+=2,o.minRightSideBearing=a.readShort(i,r),r+=2,o.xMaxExtent=a.readShort(i,r),r+=2,o.caretSlopeRise=a.readShort(i,r),r+=2,o.caretSlopeRun=a.readShort(i,r),r+=2,o.caretOffset=a.readShort(i,r),r+=2,r+=8,o.metricDataFormat=a.readShort(i,r),r+=2,o.numberOfHMetrics=a.readUshort(i,r),r+=2,o},e.hmtx={},e.hmtx.parse=function(i,r,s,a){for(var o=e._bin,l={aWidth:[],lsBearing:[]},c=0,u=0,h=0;h<a.maxp.numGlyphs;h++)h<a.hhea.numberOfHMetrics&&(c=o.readUshort(i,r),r+=2,u=o.readShort(i,r),r+=2),l.aWidth.push(c),l.lsBearing.push(u);return l},e.kern={},e.kern.parse=function(i,r,s,a){var o=e._bin,l=o.readUshort(i,r);if(r+=2,l==1)return e.kern.parseV1(i,r-2,s,a);var c=o.readUshort(i,r);r+=2;for(var u={glyph1:[],rval:[]},h=0;h<c;h++){r+=2,s=o.readUshort(i,r),r+=2;var f=o.readUshort(i,r);r+=2;var d=f>>>8;if((d&=15)!=0)throw"unknown kern table format: "+d;r=e.kern.readFormat0(i,r,u)}return u},e.kern.parseV1=function(i,r,s,a){var o=e._bin;o.readFixed(i,r),r+=4;var l=o.readUint(i,r);r+=4;for(var c={glyph1:[],rval:[]},u=0;u<l;u++){o.readUint(i,r),r+=4;var h=o.readUshort(i,r);r+=2,o.readUshort(i,r),r+=2;var f=h>>>8;if((f&=15)!=0)throw"unknown kern table format: "+f;r=e.kern.readFormat0(i,r,c)}return c},e.kern.readFormat0=function(i,r,s){var a=e._bin,o=-1,l=a.readUshort(i,r);r+=2,a.readUshort(i,r),r+=2,a.readUshort(i,r),r+=2,a.readUshort(i,r),r+=2;for(var c=0;c<l;c++){var u=a.readUshort(i,r);r+=2;var h=a.readUshort(i,r);r+=2;var f=a.readShort(i,r);r+=2,u!=o&&(s.glyph1.push(u),s.rval.push({glyph2:[],vals:[]}));var d=s.rval[s.rval.length-1];d.glyph2.push(h),d.vals.push(f),o=u}return r},e.loca={},e.loca.parse=function(i,r,s,a){var o=e._bin,l=[],c=a.head.indexToLocFormat,u=a.maxp.numGlyphs+1;if(c==0)for(var h=0;h<u;h++)l.push(o.readUshort(i,r+(h<<1))<<1);if(c==1)for(h=0;h<u;h++)l.push(o.readUint(i,r+(h<<2)));return l},e.maxp={},e.maxp.parse=function(i,r,s){var a=e._bin,o={},l=a.readUint(i,r);return r+=4,o.numGlyphs=a.readUshort(i,r),r+=2,l==65536&&(o.maxPoints=a.readUshort(i,r),r+=2,o.maxContours=a.readUshort(i,r),r+=2,o.maxCompositePoints=a.readUshort(i,r),r+=2,o.maxCompositeContours=a.readUshort(i,r),r+=2,o.maxZones=a.readUshort(i,r),r+=2,o.maxTwilightPoints=a.readUshort(i,r),r+=2,o.maxStorage=a.readUshort(i,r),r+=2,o.maxFunctionDefs=a.readUshort(i,r),r+=2,o.maxInstructionDefs=a.readUshort(i,r),r+=2,o.maxStackElements=a.readUshort(i,r),r+=2,o.maxSizeOfInstructions=a.readUshort(i,r),r+=2,o.maxComponentElements=a.readUshort(i,r),r+=2,o.maxComponentDepth=a.readUshort(i,r),r+=2),o},e.name={},e.name.parse=function(i,r,s){var a=e._bin,o={};a.readUshort(i,r),r+=2;var l=a.readUshort(i,r);r+=2,a.readUshort(i,r);for(var c,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=r+=2,f=0;f<l;f++){var d=a.readUshort(i,r);r+=2;var p=a.readUshort(i,r);r+=2;var v=a.readUshort(i,r);r+=2;var g=a.readUshort(i,r);r+=2;var m=a.readUshort(i,r);r+=2;var w=a.readUshort(i,r);r+=2;var B,y=u[g],C=h+12*l+w;if(d==0)B=a.readUnicode(i,C,m/2);else if(d==3&&p==0)B=a.readUnicode(i,C,m/2);else if(p==0)B=a.readASCII(i,C,m);else if(p==1)B=a.readUnicode(i,C,m/2);else if(p==3)B=a.readUnicode(i,C,m/2);else{if(d!=1)throw"unknown encoding "+p+", platformID: "+d;B=a.readASCII(i,C,m),console.debug("reading unknown MAC encoding "+p+" as ASCII")}var x="p"+d+","+v.toString(16);o[x]==null&&(o[x]={}),o[x][y!==void 0?y:g]=B,o[x]._lang=v}for(var E in o)if(o[E].postScriptName!=null&&o[E]._lang==1033)return o[E];for(var E in o)if(o[E].postScriptName!=null&&o[E]._lang==0)return o[E];for(var E in o)if(o[E].postScriptName!=null&&o[E]._lang==3084)return o[E];for(var E in o)if(o[E].postScriptName!=null)return o[E];for(var E in o){c=E;break}return console.debug("returning name table with languageID "+o[c]._lang),o[c]},e["OS/2"]={},e["OS/2"].parse=function(i,r,s){var a=e._bin.readUshort(i,r);r+=2;var o={};if(a==0)e["OS/2"].version0(i,r,o);else if(a==1)e["OS/2"].version1(i,r,o);else if(a==2||a==3||a==4)e["OS/2"].version2(i,r,o);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,r,o)}return o},e["OS/2"].version0=function(i,r,s){var a=e._bin;return s.xAvgCharWidth=a.readShort(i,r),r+=2,s.usWeightClass=a.readUshort(i,r),r+=2,s.usWidthClass=a.readUshort(i,r),r+=2,s.fsType=a.readUshort(i,r),r+=2,s.ySubscriptXSize=a.readShort(i,r),r+=2,s.ySubscriptYSize=a.readShort(i,r),r+=2,s.ySubscriptXOffset=a.readShort(i,r),r+=2,s.ySubscriptYOffset=a.readShort(i,r),r+=2,s.ySuperscriptXSize=a.readShort(i,r),r+=2,s.ySuperscriptYSize=a.readShort(i,r),r+=2,s.ySuperscriptXOffset=a.readShort(i,r),r+=2,s.ySuperscriptYOffset=a.readShort(i,r),r+=2,s.yStrikeoutSize=a.readShort(i,r),r+=2,s.yStrikeoutPosition=a.readShort(i,r),r+=2,s.sFamilyClass=a.readShort(i,r),r+=2,s.panose=a.readBytes(i,r,10),r+=10,s.ulUnicodeRange1=a.readUint(i,r),r+=4,s.ulUnicodeRange2=a.readUint(i,r),r+=4,s.ulUnicodeRange3=a.readUint(i,r),r+=4,s.ulUnicodeRange4=a.readUint(i,r),r+=4,s.achVendID=[a.readInt8(i,r),a.readInt8(i,r+1),a.readInt8(i,r+2),a.readInt8(i,r+3)],r+=4,s.fsSelection=a.readUshort(i,r),r+=2,s.usFirstCharIndex=a.readUshort(i,r),r+=2,s.usLastCharIndex=a.readUshort(i,r),r+=2,s.sTypoAscender=a.readShort(i,r),r+=2,s.sTypoDescender=a.readShort(i,r),r+=2,s.sTypoLineGap=a.readShort(i,r),r+=2,s.usWinAscent=a.readUshort(i,r),r+=2,s.usWinDescent=a.readUshort(i,r),r+=2},e["OS/2"].version1=function(i,r,s){var a=e._bin;return r=e["OS/2"].version0(i,r,s),s.ulCodePageRange1=a.readUint(i,r),r+=4,s.ulCodePageRange2=a.readUint(i,r),r+=4},e["OS/2"].version2=function(i,r,s){var a=e._bin;return r=e["OS/2"].version1(i,r,s),s.sxHeight=a.readShort(i,r),r+=2,s.sCapHeight=a.readShort(i,r),r+=2,s.usDefault=a.readUshort(i,r),r+=2,s.usBreak=a.readUshort(i,r),r+=2,s.usMaxContext=a.readUshort(i,r),r+=2},e["OS/2"].version5=function(i,r,s){var a=e._bin;return r=e["OS/2"].version2(i,r,s),s.usLowerOpticalPointSize=a.readUshort(i,r),r+=2,s.usUpperOpticalPointSize=a.readUshort(i,r),r+=2},e.post={},e.post.parse=function(i,r,s){var a=e._bin,o={};return o.version=a.readFixed(i,r),r+=4,o.italicAngle=a.readFixed(i,r),r+=4,o.underlinePosition=a.readShort(i,r),r+=2,o.underlineThickness=a.readShort(i,r),r+=2,o},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,r){var s=i.cmap,a=-1;if(s.p0e4!=null?a=s.p0e4:s.p3e1!=null?a=s.p3e1:s.p1e0!=null?a=s.p1e0:s.p0e3!=null&&(a=s.p0e3),a==-1)throw"no familiar platform and encoding!";var o=s.tables[a];if(o.format==0)return r>=o.map.length?0:o.map[r];if(o.format==4){for(var l=-1,c=0;c<o.endCount.length;c++)if(r<=o.endCount[c]){l=c;break}return l==-1||o.startCount[l]>r?0:65535&(o.idRangeOffset[l]!=0?o.glyphIdArray[r-o.startCount[l]+(o.idRangeOffset[l]>>1)-(o.idRangeOffset.length-l)]:r+o.idDelta[l])}if(o.format==12){if(r>o.groups[o.groups.length-1][1])return 0;for(c=0;c<o.groups.length;c++){var u=o.groups[c];if(u[0]<=r&&r<=u[1])return u[2]+(r-u[0])}return 0}throw"unknown cmap table format "+o.format},e.U.glyphToPath=function(i,r){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[r]){var a=i.SVG.entries[r];return a==null?s:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[r]=a),a)}if(i.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},l=i.CFF,c=i.CFF.Private;if(l.ROS){for(var u=0;l.FDSelect[u+2]<=r;)u+=2;c=l.FDArray[l.FDSelect[u+1]].Private}e.U._drawCFF(i.CFF.CharStrings[r],o,l,c,s)}else i.glyf&&e.U._drawGlyf(r,i,s);return s},e.U._drawGlyf=function(i,r,s){var a=r.glyf[i];a==null&&(a=r.glyf[i]=e.glyf._parseGlyf(r,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,s):e.U._compoGlyph(a,r,s))},e.U._simpleGlyph=function(i,r){for(var s=0;s<i.noc;s++){for(var a=s==0?0:i.endPts[s-1]+1,o=i.endPts[s],l=a;l<=o;l++){var c=l==a?o:l-1,u=l==o?a:l+1,h=1&i.flags[l],f=1&i.flags[c],d=1&i.flags[u],p=i.xs[l],v=i.ys[l];if(l==a)if(h){if(!f){e.U.P.moveTo(r,p,v);continue}e.U.P.moveTo(r,i.xs[c],i.ys[c])}else f?e.U.P.moveTo(r,i.xs[c],i.ys[c]):e.U.P.moveTo(r,(i.xs[c]+p)/2,(i.ys[c]+v)/2);h?f&&e.U.P.lineTo(r,p,v):d?e.U.P.qcurveTo(r,p,v,i.xs[u],i.ys[u]):e.U.P.qcurveTo(r,p,v,(p+i.xs[u])/2,(v+i.ys[u])/2)}e.U.P.closePath(r)}},e.U._compoGlyph=function(i,r,s){for(var a=0;a<i.parts.length;a++){var o={cmds:[],crds:[]},l=i.parts[a];e.U._drawGlyf(l.glyphIndex,r,o);for(var c=l.m,u=0;u<o.crds.length;u+=2){var h=o.crds[u],f=o.crds[u+1];s.crds.push(h*c.a+f*c.b+c.tx),s.crds.push(h*c.c+f*c.d+c.ty)}for(u=0;u<o.cmds.length;u++)s.cmds.push(o.cmds[u])}},e.U._getGlyphClass=function(i,r){var s=e._lctf.getInterval(r,i);return s==-1?0:r[s+2]},e.U.getPairAdjustment=function(i,r,s){var a=0;if(i.GPOS)for(var o=i.GPOS,l=o.lookupList,c=o.featureList,u=[],h=0;h<c.length;h++){var f=c[h];if(f.tag=="kern"){for(var d=0;d<f.tab.length;d++)if(!u[f.tab[d]]){u[f.tab[d]]=!0;for(var p=l[f.tab[d]],v=0;v<p.tabs.length;v++)if(p.tabs[v]!=null){var g,m=p.tabs[v];if((!m.coverage||(g=e._lctf.coverageIndex(m.coverage,r))!=-1)&&p.ltype!=1){if(p.ltype==2){var w;if(m.fmt==1){var B=m.pairsets[g];for(h=0;h<B.length;h++)B[h].gid2==s&&(w=B[h])}else if(m.fmt==2){var y=e.U._getGlyphClass(r,m.classDef1),C=e.U._getGlyphClass(s,m.classDef2);w=m.matrix[y][C]}w&&w.val1&&w.val1[2]&&(a+=w.val1[2]),w&&w.val2&&w.val2[0]&&(a+=w.val2[0])}}}}}}if(i.kern){var x=i.kern.glyph1.indexOf(r);if(x!=-1){var E=i.kern.rval[x].glyph2.indexOf(s);E!=-1&&(a+=i.kern.rval[x].vals[E])}}return a},e.U._applySubs=function(i,r,s,a){for(var o=i.length-r-1,l=0;l<s.tabs.length;l++)if(s.tabs[l]!=null){var c,u=s.tabs[l];if(!u.coverage||(c=e._lctf.coverageIndex(u.coverage,i[r]))!=-1){if(s.ltype==1)i[r],u.fmt==1?i[r]=i[r]+u.delta:i[r]=u.newg[c];else if(s.ltype==4)for(var h=u.vals[c],f=0;f<h.length;f++){var d=h[f],p=d.chain.length;if(!(p>o)){for(var v=!0,g=0,m=0;m<p;m++){for(;i[r+g+(1+m)]==-1;)g++;d.chain[m]!=i[r+g+(1+m)]&&(v=!1)}if(v){for(i[r]=d.nglyph,m=0;m<p+g;m++)i[r+m+1]=-1;break}}}else if(s.ltype==5&&u.fmt==2)for(var w=e._lctf.getInterval(u.cDef,i[r]),B=u.cDef[w+2],y=u.scset[B],C=0;C<y.length;C++){var x=y[C],E=x.input;if(!(E.length>o)){for(v=!0,m=0;m<E.length;m++){var M=e._lctf.getInterval(u.cDef,i[r+1+m]);if(w==-1&&u.cDef[M+2]!=E[m]){v=!1;break}}if(v){var H=x.substLookupRecords;for(f=0;f<H.length;f+=2)H[f],H[f+1]}}}else if(s.ltype==6&&u.fmt==3){if(!e.U._glsCovered(i,u.backCvg,r-u.backCvg.length)||!e.U._glsCovered(i,u.inptCvg,r)||!e.U._glsCovered(i,u.ahedCvg,r+u.inptCvg.length))continue;var N=u.lookupRec;for(C=0;C<N.length;C+=2){w=N[C];var O=a[N[C+1]];e.U._applySubs(i,r+w,O,a)}}}}},e.U._glsCovered=function(i,r,s){for(var a=0;a<r.length;a++)if(e._lctf.coverageIndex(r[a],i[s+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,r,s){for(var a={cmds:[],crds:[]},o=0,l=0;l<r.length;l++){var c=r[l];if(c!=-1){for(var u=l<r.length-1&&r[l+1]!=-1?r[l+1]:0,h=e.U.glyphToPath(i,c),f=0;f<h.crds.length;f+=2)a.crds.push(h.crds[f]+o),a.crds.push(h.crds[f+1]);for(s&&a.cmds.push(s),f=0;f<h.cmds.length;f++)a.cmds.push(h.cmds[f]);s&&a.cmds.push("X"),o+=i.hmtx.aWidth[c],l<r.length-1&&(o+=e.U.getPairAdjustment(i,c,u))}}return a},e.U.P={},e.U.P.moveTo=function(i,r,s){i.cmds.push("M"),i.crds.push(r,s)},e.U.P.lineTo=function(i,r,s){i.cmds.push("L"),i.crds.push(r,s)},e.U.P.curveTo=function(i,r,s,a,o,l,c){i.cmds.push("C"),i.crds.push(r,s,a,o,l,c)},e.U.P.qcurveTo=function(i,r,s,a,o){i.cmds.push("Q"),i.crds.push(r,s,a,o)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,r,s,a,o){for(var l=r.stack,c=r.nStems,u=r.haveWidth,h=r.width,f=r.open,d=0,p=r.x,v=r.y,g=0,m=0,w=0,B=0,y=0,C=0,x=0,E=0,M=0,H=0,N={val:0,size:0};d<i.length;){e.CFF.getCharString(i,d,N);var O=N.val;if(d+=N.size,O=="o1"||O=="o18")l.length%2!=0&&!u&&(h=l.shift()+a.nominalWidthX),c+=l.length>>1,l.length=0,u=!0;else if(O=="o3"||O=="o23")l.length%2!=0&&!u&&(h=l.shift()+a.nominalWidthX),c+=l.length>>1,l.length=0,u=!0;else if(O=="o4")l.length>1&&!u&&(h=l.shift()+a.nominalWidthX,u=!0),f&&e.U.P.closePath(o),v+=l.pop(),e.U.P.moveTo(o,p,v),f=!0;else if(O=="o5")for(;l.length>0;)p+=l.shift(),v+=l.shift(),e.U.P.lineTo(o,p,v);else if(O=="o6"||O=="o7")for(var Q=l.length,F=O=="o6",G=0;G<Q;G++){var I=l.shift();F?p+=I:v+=I,F=!F,e.U.P.lineTo(o,p,v)}else if(O=="o8"||O=="o24"){Q=l.length;for(var V=0;V+6<=Q;)g=p+l.shift(),m=v+l.shift(),w=g+l.shift(),B=m+l.shift(),p=w+l.shift(),v=B+l.shift(),e.U.P.curveTo(o,g,m,w,B,p,v),V+=6;O=="o24"&&(p+=l.shift(),v+=l.shift(),e.U.P.lineTo(o,p,v))}else{if(O=="o11")break;if(O=="o1234"||O=="o1235"||O=="o1236"||O=="o1237")O=="o1234"&&(m=v,w=(g=p+l.shift())+l.shift(),H=B=m+l.shift(),C=B,E=v,p=(x=(y=(M=w+l.shift())+l.shift())+l.shift())+l.shift(),e.U.P.curveTo(o,g,m,w,B,M,H),e.U.P.curveTo(o,y,C,x,E,p,v)),O=="o1235"&&(g=p+l.shift(),m=v+l.shift(),w=g+l.shift(),B=m+l.shift(),M=w+l.shift(),H=B+l.shift(),y=M+l.shift(),C=H+l.shift(),x=y+l.shift(),E=C+l.shift(),p=x+l.shift(),v=E+l.shift(),l.shift(),e.U.P.curveTo(o,g,m,w,B,M,H),e.U.P.curveTo(o,y,C,x,E,p,v)),O=="o1236"&&(g=p+l.shift(),m=v+l.shift(),w=g+l.shift(),H=B=m+l.shift(),C=B,x=(y=(M=w+l.shift())+l.shift())+l.shift(),E=C+l.shift(),p=x+l.shift(),e.U.P.curveTo(o,g,m,w,B,M,H),e.U.P.curveTo(o,y,C,x,E,p,v)),O=="o1237"&&(g=p+l.shift(),m=v+l.shift(),w=g+l.shift(),B=m+l.shift(),M=w+l.shift(),H=B+l.shift(),y=M+l.shift(),C=H+l.shift(),x=y+l.shift(),E=C+l.shift(),Math.abs(x-p)>Math.abs(E-v)?p=x+l.shift():v=E+l.shift(),e.U.P.curveTo(o,g,m,w,B,M,H),e.U.P.curveTo(o,y,C,x,E,p,v));else if(O=="o14"){if(l.length>0&&!u&&(h=l.shift()+s.nominalWidthX,u=!0),l.length==4){var te=l.shift(),ie=l.shift(),ae=l.shift(),ee=l.shift(),fe=e.CFF.glyphBySE(s,ae),ne=e.CFF.glyphBySE(s,ee);e.U._drawCFF(s.CharStrings[fe],r,s,a,o),r.x=te,r.y=ie,e.U._drawCFF(s.CharStrings[ne],r,s,a,o)}f&&(e.U.P.closePath(o),f=!1)}else if(O=="o19"||O=="o20")l.length%2!=0&&!u&&(h=l.shift()+a.nominalWidthX),c+=l.length>>1,l.length=0,u=!0,d+=c+7>>3;else if(O=="o21")l.length>2&&!u&&(h=l.shift()+a.nominalWidthX,u=!0),v+=l.pop(),p+=l.pop(),f&&e.U.P.closePath(o),e.U.P.moveTo(o,p,v),f=!0;else if(O=="o22")l.length>1&&!u&&(h=l.shift()+a.nominalWidthX,u=!0),p+=l.pop(),f&&e.U.P.closePath(o),e.U.P.moveTo(o,p,v),f=!0;else if(O=="o25"){for(;l.length>6;)p+=l.shift(),v+=l.shift(),e.U.P.lineTo(o,p,v);g=p+l.shift(),m=v+l.shift(),w=g+l.shift(),B=m+l.shift(),p=w+l.shift(),v=B+l.shift(),e.U.P.curveTo(o,g,m,w,B,p,v)}else if(O=="o26")for(l.length%2&&(p+=l.shift());l.length>0;)g=p,m=v+l.shift(),p=w=g+l.shift(),v=(B=m+l.shift())+l.shift(),e.U.P.curveTo(o,g,m,w,B,p,v);else if(O=="o27")for(l.length%2&&(v+=l.shift());l.length>0;)m=v,w=(g=p+l.shift())+l.shift(),B=m+l.shift(),p=w+l.shift(),v=B,e.U.P.curveTo(o,g,m,w,B,p,v);else if(O=="o10"||O=="o29"){var me=O=="o10"?a:s;if(l.length==0)console.debug("error: empty stack");else{var we=l.pop(),j=me.Subrs[we+me.Bias];r.x=p,r.y=v,r.nStems=c,r.haveWidth=u,r.width=h,r.open=f,e.U._drawCFF(j,r,s,a,o),p=r.x,v=r.y,c=r.nStems,u=r.haveWidth,h=r.width,f=r.open}}else if(O=="o30"||O=="o31"){var Fe=l.length,xe=(V=0,O=="o31");for(V+=Fe-(Q=-3&Fe);V<Q;)xe?(m=v,w=(g=p+l.shift())+l.shift(),v=(B=m+l.shift())+l.shift(),Q-V==5?(p=w+l.shift(),V++):p=w,xe=!1):(g=p,m=v+l.shift(),w=g+l.shift(),B=m+l.shift(),p=w+l.shift(),Q-V==5?(v=B+l.shift(),V++):v=B,xe=!0),e.U.P.curveTo(o,g,m,w,B,p,v),V+=4}else{if((O+"").charAt(0)=="o")throw console.debug("Unknown operation: "+O,i),O;l.push(O)}}}r.x=p,r.y=v,r.nStems=c,r.haveWidth=u,r.width=h,r.open=f};var t=e,n={Typr:t};return A.Typr=t,A.default=n,Object.defineProperty(A,"__esModule",{value:!0}),A}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function EU(){return function(A){var e=Uint8Array,t=Uint16Array,n=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(O,Q){for(var F=new t(31),G=0;G<31;++G)F[G]=Q+=1<<O[G-1];var I=new n(F[30]);for(G=1;G<30;++G)for(var V=F[G];V<F[G+1];++V)I[V]=V-F[G]<<5|G;return[F,I]},o=a(i,2),l=o[0],c=o[1];l[28]=258,c[258]=28;for(var u=a(r,0)[0],h=new t(32768),f=0;f<32768;++f){var d=(43690&f)>>>1|(21845&f)<<1;d=(61680&(d=(52428&d)>>>2|(13107&d)<<2))>>>4|(3855&d)<<4,h[f]=((65280&d)>>>8|(255&d)<<8)>>>1}var p=function(O,Q,F){for(var G=O.length,I=0,V=new t(Q);I<G;++I)++V[O[I]-1];var te,ie=new t(Q);for(I=0;I<Q;++I)ie[I]=ie[I-1]+V[I-1]<<1;if(F){te=new t(1<<Q);var ae=15-Q;for(I=0;I<G;++I)if(O[I])for(var ee=I<<4|O[I],fe=Q-O[I],ne=ie[O[I]-1]++<<fe,me=ne|(1<<fe)-1;ne<=me;++ne)te[h[ne]>>>ae]=ee}else for(te=new t(G),I=0;I<G;++I)O[I]&&(te[I]=h[ie[O[I]-1]++]>>>15-O[I]);return te},v=new e(288);for(f=0;f<144;++f)v[f]=8;for(f=144;f<256;++f)v[f]=9;for(f=256;f<280;++f)v[f]=7;for(f=280;f<288;++f)v[f]=8;var g=new e(32);for(f=0;f<32;++f)g[f]=5;var m=p(v,9,1),w=p(g,5,1),B=function(O){for(var Q=O[0],F=1;F<O.length;++F)O[F]>Q&&(Q=O[F]);return Q},y=function(O,Q,F){var G=Q/8|0;return(O[G]|O[G+1]<<8)>>(7&Q)&F},C=function(O,Q){var F=Q/8|0;return(O[F]|O[F+1]<<8|O[F+2]<<16)>>(7&Q)},x=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(O,Q,F){var G=new Error(Q||x[O]);if(G.code=O,Error.captureStackTrace&&Error.captureStackTrace(G,E),!F)throw G;return G},M=function(O,Q,F){var G=O.length;if(!G||F&&!F.l&&G<5)return Q||new e(0);var I=!Q||F,V=!F||F.i;F||(F={}),Q||(Q=new e(3*G));var te,ie=function(_e){var Le=Q.length;if(_e>Le){var Oe=new e(Math.max(2*Le,_e));Oe.set(Q),Q=Oe}},ae=F.f||0,ee=F.p||0,fe=F.b||0,ne=F.l,me=F.d,we=F.m,j=F.n,Fe=8*G;do{if(!ne){F.f=ae=y(O,ee,1);var xe=y(O,ee+1,3);if(ee+=3,!xe){var Ce=O[(Y=((te=ee)/8|0)+(7&te&&1)+4)-4]|O[Y-3]<<8,W=Y+Ce;if(W>G){V&&E(0);break}I&&ie(fe+Ce),Q.set(O.subarray(Y,W),fe),F.b=fe+=Ce,F.p=ee=8*W;continue}if(xe==1)ne=m,me=w,we=9,j=5;else if(xe==2){var b=y(O,ee,31)+257,S=y(O,ee+10,15)+4,U=b+y(O,ee+5,31)+1;ee+=14;for(var P=new e(U),z=new e(19),R=0;R<S;++R)z[s[R]]=y(O,ee+3*R,7);ee+=3*S;var T=B(z),_=(1<<T)-1,K=p(z,T,1);for(R=0;R<U;){var Y,J=K[y(O,ee,_)];if(ee+=15&J,(Y=J>>>4)<16)P[R++]=Y;else{var se=0,oe=0;for(Y==16?(oe=3+y(O,ee,3),ee+=2,se=P[R-1]):Y==17?(oe=3+y(O,ee,7),ee+=3):Y==18&&(oe=11+y(O,ee,127),ee+=7);oe--;)P[R++]=se}}var le=P.subarray(0,b),ue=P.subarray(b);we=B(le),j=B(ue),ne=p(le,we,1),me=p(ue,j,1)}else E(1);if(ee>Fe){V&&E(0);break}}I&&ie(fe+131072);for(var pe=(1<<we)-1,X=(1<<j)-1,re=ee;;re=ee){var $=(se=ne[C(O,ee)&pe])>>>4;if((ee+=15&se)>Fe){V&&E(0);break}if(se||E(2),$<256)Q[fe++]=$;else{if($==256){re=ee,ne=null;break}var ge=$-254;if($>264){var k=i[R=$-257];ge=y(O,ee,(1<<k)-1)+l[R],ee+=k}var he=me[C(O,ee)&X],De=he>>>4;if(he||E(3),ee+=15&he,ue=u[De],De>3&&(k=r[De],ue+=C(O,ee)&(1<<k)-1,ee+=k),ee>Fe){V&&E(0);break}I&&ie(fe+131072);for(var Be=fe+ge;fe<Be;fe+=4)Q[fe]=Q[fe-ue],Q[fe+1]=Q[fe+1-ue],Q[fe+2]=Q[fe+2-ue],Q[fe+3]=Q[fe+3-ue];fe=Be}}F.l=ne,F.p=re,F.b=fe,ne&&(ae=1,F.m=we,F.d=me,F.n=j)}while(!ae);return fe==Q.length?Q:function(_e,Le,Oe){(Le==null||Le<0)&&(Le=0),(Oe==null||Oe>_e.length)&&(Oe=_e.length);var ot=new(_e instanceof t?t:_e instanceof n?n:e)(Oe-Le);return ot.set(_e.subarray(Le,Oe)),ot}(Q,0,fe)},H=new e(0),N=typeof TextDecoder!="undefined"&&new TextDecoder;try{N.decode(H,{stream:!0})}catch{}return A.convert_streams=function(O){var Q=new DataView(O),F=0;function G(){var b=Q.getUint16(F);return F+=2,b}function I(){var b=Q.getUint32(F);return F+=4,b}function V(b){Ce.setUint16(W,b),W+=2}function te(b){Ce.setUint32(W,b),W+=4}for(var ie={signature:I(),flavor:I(),length:I(),numTables:G(),reserved:G(),totalSfntSize:I(),majorVersion:G(),minorVersion:G(),metaOffset:I(),metaLength:I(),metaOrigLength:I(),privOffset:I(),privLength:I()},ae=0;Math.pow(2,ae)<=ie.numTables;)ae++;ae--;for(var ee=16*Math.pow(2,ae),fe=16*ie.numTables-ee,ne=12,me=[],we=0;we<ie.numTables;we++)me.push({tag:I(),offset:I(),compLength:I(),origLength:I(),origChecksum:I()}),ne+=16;var j,Fe=new Uint8Array(12+16*me.length+me.reduce(function(b,S){return b+S.origLength+4},0)),xe=Fe.buffer,Ce=new DataView(xe),W=0;return te(ie.flavor),V(ie.numTables),V(ee),V(ae),V(fe),me.forEach(function(b){te(b.tag),te(b.origChecksum),te(ne),te(b.origLength),b.outOffset=ne,(ne+=b.origLength)%4!=0&&(ne+=4-ne%4)}),me.forEach(function(b){var S,U=O.slice(b.offset,b.offset+b.compLength);if(b.compLength!=b.origLength){var P=new Uint8Array(b.origLength);S=new Uint8Array(U,2),M(S,P)}else P=new Uint8Array(U);Fe.set(P,b.outOffset);var z=0;(ne=b.outOffset+b.origLength)%4!=0&&(z=4-ne%4),Fe.set(new Uint8Array(z).buffer,b.outOffset+b.origLength),j=ne+z}),xe.slice(0,j)},Object.defineProperty(A,"__esModule",{value:!0}),A}({}).convert_streams}function bU(A,e){const t={M:2,L:2,Q:4,C:6,Z:0},n={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,r=2,s=4,a=8,o=16,l=32;let c;function u(B){if(!c){const y={R:r,L:i,D:s,C:o,U:l,T:a};c=new Map;for(let C in n){let x=0;n[C].split(",").forEach(E=>{let[M,H]=E.split("+");M=parseInt(M,36),H=H?parseInt(H,36):0,c.set(x+=M,y[C]);for(let N=H;N--;)c.set(++x,y[C])})}}return c.get(B)||l}const h=1,f=2,d=3,p=4,v=[null,"isol","init","fina","medi"];function g(B){const y=new Uint8Array(B.length);let C=l,x=h,E=-1;for(let M=0;M<B.length;M++){const H=B.codePointAt(M);let N=u(H)|0,O=h;N&a||(C&(i|s|o)?N&(r|s|o)?(O=d,(x===h||x===d)&&y[E]++):N&(i|l)&&(x===f||x===p)&&y[E]--:C&(r|l)&&(x===f||x===p)&&y[E]--,x=y[M]=O,C=N,E=M,H>65535&&M++)}return y}function m(B,y){const C=[];for(let E=0;E<y.length;E++){const M=y.codePointAt(E);M>65535&&E++,C.push(A.U.codeToGlyph(B,M))}const x=B.GSUB;if(x){const{lookupList:E,featureList:M}=x;let H;const N=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,O=[];M.forEach(Q=>{if(N.test(Q.tag))for(let F=0;F<Q.tab.length;F++){if(O[Q.tab[F]])continue;O[Q.tab[F]]=!0;const G=E[Q.tab[F]],I=/^(isol|init|fina|medi)$/.test(Q.tag);I&&!H&&(H=g(y));for(let V=0;V<C.length;V++)(!H||!I||v[H[V]]===Q.tag)&&A.U._applySubs(C,V,G,E)}})}return C}function w(B){const y=Object.create(null),C={unitsPerEm:B.head.unitsPerEm,ascender:B.hhea.ascender,descender:B.hhea.descender,forEachGlyph(x,E,M,H){let N=0;const O=1/C.unitsPerEm*E,Q=m(B,x);let F=0,G=-1;return Q.forEach((I,V)=>{if(I!==-1){let te=y[I];if(!te){const{cmds:ie,crds:ae}=A.U.glyphToPath(B,I);let ee="",fe=0;for(let Fe=0,xe=ie.length;Fe<xe;Fe++){const Ce=t[ie[Fe]];ee+=ie[Fe];for(let W=1;W<=Ce;W++)ee+=(W>1?",":"")+ae[fe++]}let ne,me,we,j;if(ae.length){ne=me=1/0,we=j=-1/0;for(let Fe=0,xe=ae.length;Fe<xe;Fe+=2){let Ce=ae[Fe],W=ae[Fe+1];Ce<ne&&(ne=Ce),W<me&&(me=W),Ce>we&&(we=Ce),W>j&&(j=W)}}else ne=we=me=j=0;te=y[I]={index:I,advanceWidth:B.hmtx.aWidth[I],xMin:ne,yMin:me,xMax:we,yMax:j,path:ee,pathCommandCount:ie.length}}G!==-1&&(N+=A.U.getPairAdjustment(B,G,I)*O),H.call(null,te,N,F),te.advanceWidth&&(N+=te.advanceWidth*O),M&&(N+=M*E),G=I}F+=x.codePointAt(F)>65535?2:1}),N}};return C}return function(y){const C=new Uint8Array(y,0,4),x=A._bin.readASCII(C,0,4);if(x==="wOFF")y=e(y);else if(x==="wOF2")throw new Error("woff2 fonts not supported");return w(A.parse(y)[0])}}const MU=wa({name:"Typr Font Parser",dependencies:[_U,EU,bU],init(A,e,t){const n=A(),i=e();return t(n,i)}}),dA={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},TU=new ve;function ps(){return(self.performance||Date).now()}const p0=Object.create(null);function SU(A,e){A=FU({},A);const t=ps();if(A.font=UU(A.font||dA.defaultFontURL),A.text=""+A.text,A.sdfGlyphSize=A.sdfGlyphSize||dA.sdfGlyphSize,A.colorRanges!=null){let o={};for(let l in A.colorRanges)if(A.colorRanges.hasOwnProperty(l)){let c=A.colorRanges[l];typeof c!="number"&&(c=TU.set(c).getHex()),o[l]=c}A.colorRanges=o}Object.freeze(A);const{textureWidth:n,sdfExponent:i}=dA,{sdfGlyphSize:r}=A;let s=p0[r];s||(s=p0[r]={glyphCount:0,sdfTexture:new Ur(new Uint8Array(r*n*4),n,r,Mn,void 0,void 0,void 0,void 0,tt,tt),glyphsByFont:new Map});let a=s.glyphsByFont.get(A.font);a||s.glyphsByFont.set(A.font,a=new Map),LU(A).then(o=>{const{glyphIds:l,glyphPositions:c,fontSize:u,unitsPerEm:h,timings:f}=o,d=[],p=new Float32Array(l.length*4),v=u/h;let g=0,m=0;const w=ps();l.forEach((y,C)=>{let x=a.get(y);if(!x){const{path:N,pathBounds:O}=o.glyphData[y],Q=Math.max(O[2]-O[0],O[3]-O[1])/r*(dA.sdfMargin*r+.5),F=s.glyphCount++,G=[O[0]-Q,O[1]-Q,O[2]+Q,O[3]+Q];a.set(y,x={path:N,atlasIndex:F,sdfViewBox:G}),d.push(x)}const{sdfViewBox:E}=x,M=c[m++],H=c[m++];p[g++]=M+E[0]*v,p[g++]=H+E[1]*v,p[g++]=M+E[2]*v,p[g++]=H+E[3]*v,l[C]=x.atlasIndex}),f.quads=(f.quads||0)+(ps()-w);const B=ps();f.sdf={},aa.all(d.map(({path:y,atlasIndex:C,sdfViewBox:x})=>{const E=Math.max(x[2]-x[0],x[3]-x[1]);return IU(r,r,y,x,E,dA.sdfExponent).then(({textureData:M,timing:H})=>(f.sdf[C]=H,{atlasIndex:C,textureData:M,timing:H}))})).then(y=>{y.length&&(y.forEach(({atlasIndex:C,textureData:x})=>{const E=s.sdfTexture.image;for(;E.data.length<(C+1)*r*r;){const O=new Uint8Array(E.data.length*2);O.set(E.data),E.data=O,E.height*=2}const M=Math.floor(C/4),H=E.width/r,N=Math.floor(M/H)*E.width*r*4+M%H*r*4+C%4;for(let O=0;O<r;O++){const Q=O*r,F=N+O*E.width*4;for(let G=0;G<r;G++)E.data[F+G*4]=x[Q+G]}}),s.sdfTexture.needsUpdate=!0),f.sdfTotal=ps()-B,f.total=ps()-t,e(Object.freeze({parameters:A,sdfTexture:s.sdfTexture,sdfGlyphSize:r,sdfExponent:i,glyphBounds:p,glyphAtlasIndices:l,glyphColors:o.glyphColors,caretPositions:o.caretPositions,caretHeight:o.caretHeight,chunkedBounds:o.chunkedBounds,ascender:o.ascender,descender:o.descender,lineHeight:o.lineHeight,topBaseline:o.topBaseline,blockBounds:o.blockBounds,visibleBounds:o.visibleBounds,timings:o.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),o.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[C,x,E,M]=o.blockBounds;return[E-C,M-x]}}))})})}function FU(A,e){for(let t in e)e.hasOwnProperty(t)&&(A[t]=e[t]);return A}let sc;function UU(A){return sc||(sc=typeof document=="undefined"?{}:document.createElement("a")),sc.href=A,sc.href}const DU=wa({name:"Typesetter",dependencies:[dA,MU,xU,fU],init(A,e,t,n){const{defaultFontURL:i}=A;return t(e,n(),{defaultFontURL:i})}}),IU=function(){const t={};let n=0;return function(...i){const r="TroikaTextSDFGenerator_"+n++%4;let s=t[r];return s||(s=t[r]={workerModule:wa({name:r,workerId:r,dependencies:[dA,CU,yU],init(a,o,l){const{sdfExponent:c,sdfMargin:u}=a;return l(o,{sdfExponent:c,sdfMargin:u})},getTransferables(a){return[a.textureData.buffer]}}),requests:0,idleTimer:null}),s.requests++,clearTimeout(s.idleTimer),s.workerModule(...i).then(a=>(--s.requests===0&&(s.idleTimer=setTimeout(()=>{cU(r)},2e3)),a))}}(),LU=wa({name:"Typesetter",dependencies:[DU,hU],init(A,e){return function(t){const n=new e;return A.typeset(t,n.resolve),n}},getTransferables(A){const e=[A.glyphPositions.buffer,A.glyphIds.buffer];return A.caretPositions&&e.push(A.caretPositions.buffer),A.glyphColors&&e.push(A.glyphColors.buffer),e}}),QU=(()=>{const A={};function e(o){let l=A[o];if(!l){const c=new Mi(1,1,o,o),u=c.clone(),h=c.attributes,f=u.attributes,d=new Ie,p=h.uv.count;for(let v=0;v<p;v++)f.position.array[v*3]*=-1,f.normal.array[v*3+2]*=-1;["position","normal","uv"].forEach(v=>{d.setAttribute(v,new Te([...h[v].array,...f[v].array],h[v].itemSize))}),d.setIndex([...c.index.array,...u.index.array.map(v=>v+p)]),d.translate(.5,.5,0),l=A[o]=d}return l}const t="aTroikaGlyphBounds",n="aTroikaGlyphIndex",i="aTroikaGlyphColor";class r extends Tu{constructor(){super();this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ui,this.boundingBox=new vn}computeBoundingSphere(){}computeBoundingBox(){}setSide(l){const c=this.getIndex().count;this.setDrawRange(l===ct?c/2:0,l===Cn?c:c/2)}set detail(l){if(l!==this._detail){this._detail=l,(typeof l!="number"||l<1)&&(l=1);let c=e(l);["position","normal","uv"].forEach(u=>{this.attributes[u]=c.attributes[u].clone()}),this.setIndex(c.getIndex().clone())}}get detail(){return this._detail}set curveRadius(l){l!==this._curveRadius&&(this._curveRadius=l,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(l,c,u,h,f){s(this,t,l,4),s(this,n,c,1),s(this,i,f,3),this._blockBounds=u,this._chunkedBounds=h,a(this,c.length),this._updateBounds()}_updateBounds(){const l=this._blockBounds;if(l){const{curveRadius:c,boundingBox:u}=this;if(c){const{PI:h,floor:f,min:d,max:p,sin:v,cos:g}=Math,m=h/2,w=h*2,B=Math.abs(c),y=l[0]/B,C=l[2]/B,x=f((y+m)/w)!==f((C+m)/w)?-B:d(v(y)*B,v(C)*B),E=f((y-m)/w)!==f((C-m)/w)?B:p(v(y)*B,v(C)*B),M=f((y+h)/w)!==f((C+h)/w)?B*2:p(B-g(y)*B,B-g(C)*B);u.min.set(x,l[1],c<0?-M:0),u.max.set(E,l[3],c<0?0:M)}else u.min.set(l[0],l[1],0),u.max.set(l[2],l[3],0);u.getBoundingSphere(this.boundingSphere)}}applyClipRect(l){let c=this.getAttribute(n).count,u=this._chunkedBounds;if(u)for(let h=u.length;h--;){c=u[h].end;let f=u[h].rect;if(f[1]<l.w&&f[3]>l.y&&f[0]<l.z&&f[2]>l.x)break}a(this,c)}}r.prototype.setAttribute||(r.prototype.setAttribute=function(o,l){return this.attributes[o]=l,this});function s(o,l,c,u){const h=o.getAttribute(l);c?h&&h.array.length===c.length?(h.array.set(c),h.needsUpdate=!0):(o.setAttribute(l,new Su(c,u)),delete o._maxInstanceCount,o.dispose()):h&&o.deleteAttribute(l)}function a(o,l){o[o.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=l}return r})(),RU=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,HU=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,PU=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of encoding in SDFGenerator.js
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,OU=`
float aaDist = troikaGetAADist();
float distance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(distance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  distance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function NU(A){const e=ad(A,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ce},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new $e(0,0,0,0)},uTroikaClipRect:{value:new $e(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ce},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ve},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Qt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:RU,vertexTransform:HU,fragmentDefs:PU,fragmentColorTransform:OU,customRewriter({vertexShader:t,fragmentShader:n}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(n)&&(n=n.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(Ax,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:n}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const lH=(()=>{const A=new hn({color:16777215,side:Cn,transparent:!0}),e=8421504,t=new Se,n=new D,i=new D,r=[],s=new D,a="+x+y";function o(g){return Array.isArray(g)?g[0]:g}let l=()=>{const g=new gt(new Mi(1,1),A);return l=()=>g,g},c=()=>{const g=new gt(new Mi(1,1,32,1),A);return c=()=>g,g};const u={type:"syncstart"},h={type:"synccomplete"},f=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],d=f.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class p extends gt{constructor(){const m=new QU;super(m,null);this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=e,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=a,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}sync(m){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(m):(this._isSyncing=!0,this.dispatchEvent(u),SU({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},w=>{this._isSyncing=!1,this._textRenderInfo=w,this.geometry.updateGlyphs(w.glyphBounds,w.glyphAtlasIndices,w.blockBounds,w.chunkedBounds,w.glyphColors);const B=this._queuedSyncs;B&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{B.forEach(y=>y&&y())})),this.dispatchEvent(h),m&&m()})))}onBeforeRender(m,w,B,y,C,x){this.sync(),C.isTroikaTextMaterial&&this._prepareForRender(C),C._hadOwnSide=C.hasOwnProperty("side"),this.geometry.setSide(C._actualSide=C.side),C.side=Ei}onAfterRender(m,w,B,y,C,x){C._hadOwnSide?C.side=C._actualSide:delete C.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let m=this._derivedMaterial;const w=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=A.clone());if((!m||m.baseMaterial!==w)&&(m=this._derivedMaterial=NU(w),w.addEventListener("dispose",function B(){w.removeEventListener("dispose",B),m.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let B=m._outlineMtl;return B||(B=m._outlineMtl=Object.create(m,{id:{value:m.id+.1}}),B.isTextOutlineMaterial=!0,B.depthWrite=!1,B.map=null,m.addEventListener("dispose",function y(){m.removeEventListener("dispose",y),B.dispose()})),[B,m]}else return m}set material(m){m&&m.isTroikaTextMaterial?(this._derivedMaterial=m,this._baseMaterial=m.baseMaterial):this._baseMaterial=m}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(m){this.geometry.detail=m}get curveRadius(){return this.geometry.curveRadius}set curveRadius(m){this.geometry.curveRadius=m}get customDepthMaterial(){return o(this.material).getDepthMaterial()}get customDistanceMaterial(){return o(this.material).getDistanceMaterial()}_prepareForRender(m){const w=m.isTextOutlineMaterial,B=m.uniforms,y=this.textRenderInfo;if(y){const{sdfTexture:E,blockBounds:M}=y;B.uTroikaSDFTexture.value=E,B.uTroikaSDFTextureSize.value.set(E.image.width,E.image.height),B.uTroikaSDFGlyphSize.value=y.sdfGlyphSize,B.uTroikaSDFExponent.value=y.sdfExponent,B.uTroikaTotalBounds.value.fromArray(M),B.uTroikaUseGlyphColors.value=!w&&!!y.glyphColors;let H=0,N=0,O=0,Q,F,G,I=0,V=0;if(w){let{outlineWidth:ie,outlineOffsetX:ae,outlineOffsetY:ee,outlineBlur:fe,outlineOpacity:ne}=this;H=this._parsePercent(ie)||0,N=Math.max(0,this._parsePercent(fe)||0),Q=ne,I=this._parsePercent(ae)||0,V=this._parsePercent(ee)||0}else O=Math.max(0,this._parsePercent(this.strokeWidth)||0),O&&(G=this.strokeColor,B.uTroikaStrokeColor.value.set(G==null?e:G),F=this.strokeOpacity,F==null&&(F=1)),Q=this.fillOpacity;B.uTroikaDistanceOffset.value=H,B.uTroikaPositionOffset.value.set(I,V),B.uTroikaBlurRadius.value=N,B.uTroikaStrokeWidth.value=O,B.uTroikaStrokeOpacity.value=F,B.uTroikaFillOpacity.value=Q==null?1:Q,B.uTroikaCurveRadius.value=this.curveRadius||0;let te=this.clipRect;if(te&&Array.isArray(te)&&te.length===4)B.uTroikaClipRect.value.fromArray(te);else{const ie=(this.fontSize||.1)*100;B.uTroikaClipRect.value.set(M[0]-ie,M[1]-ie,M[2]+ie,M[3]+ie)}this.geometry.applyClipRect(B.uTroikaClipRect.value)}B.uTroikaSDFDebug.value=!!this.debugSDF,m.polygonOffset=!!this.depthOffset,m.polygonOffsetFactor=m.polygonOffsetUnits=this.depthOffset||0;const C=w?this.outlineColor||0:this.color;if(C==null)delete m.color;else{const E=m.hasOwnProperty("color")?m.color:m.color=new ve;(C!==E._input||typeof C=="object")&&E.set(E._input=C)}let x=this.orientation||a;if(x!==m._orientation){let E=B.uTroikaOrient.value;x=x.replace(/[^-+xyz]/g,"");let M=x!==a&&x.match(/^([-+])([xyz])([-+])([xyz])$/);if(M){let[,H,N,O,Q]=M;n.set(0,0,0)[N]=H==="-"?1:-1,i.set(0,0,0)[Q]=O==="-"?-1:1,t.lookAt(s,n.cross(i),i),E.setFromMatrix4(t)}else E.identity();m._orientation=x}}_parsePercent(m){if(typeof m=="string"){let w=m.match(/^(-?[\d.]+)%$/),B=w?parseFloat(w[1]):NaN;m=(isNaN(B)?0:B/100)*this.fontSize}return m}localPositionToTextCoords(m,w=new ce){w.copy(m);const B=this.curveRadius;return B&&(w.x=Math.atan2(m.x,Math.abs(B)-Math.abs(m.z))*Math.abs(B)),w}worldPositionToTextCoords(m,w=new ce){return n.copy(m),this.localPositionToTextCoords(this.worldToLocal(n),w)}raycast(m,w){const{textRenderInfo:B,curveRadius:y}=this;if(B){const C=B.blockBounds,x=y?c():l(),E=x.geometry,{position:M,uv:H}=E.attributes;for(let N=0;N<H.count;N++){let O=C[0]+H.getX(N)*(C[2]-C[0]);const Q=C[1]+H.getY(N)*(C[3]-C[1]);let F=0;y&&(F=y-Math.cos(O/y)*y,O=Math.sin(O/y)*y),M.setXYZ(N,O,Q,F)}E.boundingSphere=this.geometry.boundingSphere,E.boundingBox=this.geometry.boundingBox,x.matrixWorld=this.matrixWorld,x.material.side=this.material.side,r.length=0,x.raycast(m,r);for(let N=0;N<r.length;N++)r[N].object=this,w.push(r[N])}}copy(m){const w=this.geometry;return super.copy(m),this.geometry=w,d.forEach(B=>{this[B]=m[B]}),this}clone(){return new this.constructor().copy(this)}}f.forEach(g=>{const m="_private_"+g;Object.defineProperty(p.prototype,g,{get(){return this[m]},set(w){w!==this[m]&&(this[m]=w,this._needsSync=!0)}})});let v=!1;return Object.defineProperty(p.prototype,"anchor",{get(){return this._deprecated_anchor},set(g){this._deprecated_anchor=g,v||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),v=!0),Array.isArray(g)?(this.anchorX=`${(+g[0]||0)*100}%`,this.anchorY=`${(+g[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),p})();var GU=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},sx={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(GU,function(){return function(){var t={d:function(W,b){for(var S in b)t.o(b,S)&&!t.o(W,S)&&Object.defineProperty(W,S,{enumerable:!0,get:b[S]})},o:function(W,b){return Object.prototype.hasOwnProperty.call(W,b)}},n={};t.d(n,{default:function(){return xe}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},r={classes:"",inline:!1,locale:{days:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],daysShort:["\u0412\u043E\u0441","\u041F\u043E\u043D","\u0412\u0442\u043E","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041F\u044F\u0442","\u0421\u0443\u0431"],daysMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1};function s(W){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof W=="string"?b.querySelector(W):W}function a(){let{tagName:W="div",className:b="",innerHtml:S="",id:U="",attrs:P={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=document.createElement(W);if(b&&z.classList.add(...b.split(" ")),U&&(z.id=U),S&&(z.innerHTML=S),P)for(let R in P)z.setAttribute(R,P[R]);return z}function o(W,b){for(let[S,U]of Object.entries(b))W.setAttribute(S,U);return W}function l(W){return new Date(W.getFullYear(),W.getMonth()+1,0).getDate()}function c(W){let b=W.getHours(),S=b%12==0?12:b%12;return{year:W.getFullYear(),month:W.getMonth(),fullMonth:W.getMonth()+1<10?"0"+(W.getMonth()+1):W.getMonth()+1,date:W.getDate(),fullDate:W.getDate()<10?"0"+W.getDate():W.getDate(),day:W.getDay(),hours:b,fullHours:u(b),hours12:S,fullHours12:u(S),minutes:W.getMinutes(),fullMinutes:W.getMinutes()<10?"0"+W.getMinutes():W.getMinutes()}}function u(W){return W<10?"0"+W:W}function h(W){let b=10*Math.floor(W.getFullYear()/10);return[b,b+9]}function f(){let W=[];for(var b=arguments.length,S=new Array(b),U=0;U<b;U++)S[U]=arguments[U];return S.forEach(P=>{if(typeof P=="object")for(let z in P)P[z]&&W.push(z);else P&&W.push(P)}),W.join(" ")}function d(W,b){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.days;if(!W||!b)return!1;let U=c(W),P=c(b);return{[i.days]:U.date===P.date&&U.month===P.month&&U.year===P.year,[i.months]:U.month===P.month&&U.year===P.year,[i.years]:U.year===P.year}[S]}function p(W,b,S){let U=g(W,!1).getTime(),P=g(b,!1).getTime();return S?U>=P:U>P}function v(W,b){return!p(W,b,!0)}function g(W){let b=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],S=new Date(W.getTime());return typeof b!="boolean"||b||m(S),S}function m(W){return W.setHours(0,0,0,0),W}function w(W,b,S){W.length?W.forEach(U=>{U.addEventListener(b,S)}):W.addEventListener(b,S)}function B(W,b){return!(!W||W===document||W instanceof DocumentFragment)&&(W.matches(b)?W:B(W.parentNode,b))}function y(W,b,S){return W>S?S:W<b?b:W}function C(W){for(var b=arguments.length,S=new Array(b>1?b-1:0),U=1;U<b;U++)S[U-1]=arguments[U];return S.filter(P=>P).forEach(P=>{for(let[z,R]of Object.entries(P))if(R!==void 0&&R.toString()==="[object Object]"){let T=W[z]!==void 0?W[z].toString():void 0,_=R.toString(),K=Array.isArray(R)?[]:{};W[z]=W[z]?T!==_?K:W[z]:K,C(W[z],R)}else W[z]=R}),W}function x(W){let b=W;return W instanceof Date||(b=new Date(W)),isNaN(b.getTime())&&(console.log('Unable to convert value "'.concat(W,'" to Date object')),b=!1),b}function E(W){let b="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+b+")("+W+")($|<|"+b+")","g")}function M(W,b,S){return b in W?Object.defineProperty(W,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):W[b]=S,W}class H{constructor(){let{type:b,date:S,dp:U,opts:P,body:z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};M(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),M(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),M(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),M(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),M(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),M(this,"onChangeFocusDate",R=>{if(!R)return void(this.focused&&this.removeFocus());let T=d(R,this.date,this.type);T?this.focus():!T&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),M(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=b,this.singleType=this.type.slice(0,-1),this.date=S,this.dp=U,this.opts=P,this.body=z,this.customData=!1,this.init()}init(){let{range:b,onRenderCell:S}=this.opts;S&&(this.customData=S({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),b&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){let{year:b,month:S,date:U}=c(this.date);this.$cell=a({className:this._getClassName(),attrs:{"data-year":b,"data-month":S,"data-date":U}})}_getClassName(){var b,S;let U=new Date,{selectOtherMonths:P,selectOtherYears:z}=this.opts,{minDate:R,maxDate:T}=this.dp,{day:_}=c(this.date),K=this._isOutOfMinMaxRange(),Y=(b=this.customData)===null||b===void 0?void 0:b.disabled,J=f("air-datepicker-cell","-".concat(this.singleType,"-"),{"-current-":d(U,this.date,this.type),"-min-date-":R&&d(R,this.date,this.type),"-max-date-":T&&d(T,this.date,this.type)}),se="";switch(this.type){case i.days:se=f({"-weekend-":this.dp.isWeekend(_),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!P||K||Y});break;case i.months:se=f({"-disabled-":K||Y});break;case i.years:se=f({"-other-decade-":this.isOtherDecade,"-disabled-":K||this.isOtherDecade&&!z||Y})}return f(J,se,(S=this.customData)===null||S===void 0?void 0:S.classes)}_getHtml(){var b;let{year:S,month:U,date:P}=c(this.date),{showOtherMonths:z,showOtherYears:R}=this.opts;if((b=this.customData)!==null&&b!==void 0&&b.html)return this.customData.html;switch(this.type){case i.days:return!z&&this.isOtherMonth?"":P;case i.months:return this.dp.locale[this.opts.monthsField][U];case i.years:return!R&&this.isOtherDecade?"":S}}_isOutOfMinMaxRange(){let{minDate:b,maxDate:S}=this.dp,{type:U,date:P}=this,{month:z,year:R,date:T}=c(P),_=U===i.days,K=U===i.years,Y=!!b&&new Date(R,K?b.getMonth():z,_?T:b.getDate()),J=!!S&&new Date(R,K?S.getMonth():z,_?T:S.getDate());return b&&S?v(Y,b)||p(J,S):b?v(Y,b):S?p(J,S):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:b,rangeDateTo:S}=this.dp,U=f({"-in-range-":b&&S&&(P=this.date,z=b,R=S,p(P,z)&&v(P,R)),"-range-from-":b&&d(this.date,b,this.type),"-range-to-":S&&d(this.date,S,this.type)});var P,z,R;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),U&&this.$cell.classList.add(...U.split(" "))}_handleSelectedStatus(){let b=this.dp._checkIfDateIsSelected(this.date,this.type);b?this.select():!b&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){d(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function N(W,b,S){return b in W?Object.defineProperty(W,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):W[b]=S,W}let O={[i.days]:'<div class="air-datepicker-body--day-names"></div>'+'<div class="air-datepicker-body--cells -'.concat(i.days,'-"></div>'),[i.months]:'<div class="air-datepicker-body--cells -'.concat(i.months,'-"></div>'),[i.years]:'<div class="air-datepicker-body--cells -'.concat(i.years,'-"></div>')};class Q{constructor(b){let{dp:S,type:U,opts:P}=b;N(this,"handleClick",z=>{let R=B(z.target,".air-datepicker-cell");if(!R)return;let T=R.adpCell;if(T.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let _=this.dp._checkIfDateIsSelected(T.date,T.type);_?this.dp._handleAlreadySelectedDates(_,T.date):this.dp.selectDate(T.date)}),N(this,"onChangeCurrentView",z=>{z!==this.type?this.hide():(this.show(),this.render())}),N(this,"onMouseOverCell",z=>{let R=B(z.target,".air-datepicker-cell");this.dp.setFocusDate(!!R&&R.adpCell.date)}),N(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),N(this,"onClickCell",z=>{this.handleClick(z)}),N(this,"onMouseDown",z=>{this.pressed=!0;let R=B(z.target,".air-datepicker-cell"),T=R&&R.adpCell;d(T.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),d(T.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),N(this,"onMouseMove",z=>{if(!this.pressed||!this.dp.isMinViewReached)return;z.preventDefault();let R=B(z.target,".air-datepicker-cell"),T=R&&R.adpCell,{selectedDates:_,rangeDateTo:K,rangeDateFrom:Y}=this.dp;if(!T||T.isDisabled)return;let{date:J}=T;if(_.length===2){if(this.rangeFromFocused&&!p(J,K)){let{hours:se,minutes:oe}=c(Y);J.setHours(se),J.setMinutes(oe),this.dp.rangeDateFrom=J,this.dp.replaceDate(Y,J)}if(this.rangeToFocused&&!v(J,Y)){let{hours:se,minutes:oe}=c(K);J.setHours(se),J.setMinutes(oe),this.dp.rangeDateTo=J,this.dp.replaceDate(K,J)}}}),N(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),N(this,"onChangeViewDate",(z,R)=>{if(!this.isVisible)return;let T=h(z),_=h(R);switch(this.dp.currentView){case i.days:if(d(z,R,i.months))return;break;case i.months:if(d(z,R,i.years))return;break;case i.years:if(T[0]===_[0]&&T[1]===_[1])return}this.render()}),N(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(z=>{this.$cells.appendChild(z.render())})}),this.dp=S,this.type=U,this.opts=P,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:b,dynamicRange:S}=this.opts;w(this.$el,"mouseover",this.onMouseOverCell),w(this.$el,"mouseout",this.onMouseOutCell),w(this.$el,"click",this.onClickCell),b&&S&&(w(this.$el,"mousedown",this.onMouseDown),w(this.$el,"mousemove",this.onMouseMove),w(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=a({className:"air-datepicker-body -".concat(this.type,"-"),innerHtml:O[this.type]}),this.$names=s(".air-datepicker-body--day-names",this.$el),this.$cells=s(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,S="",U=this.dp.isWeekend,P=b,z=0;for(;z<7;){let R=P%7,T=f("air-datepicker-body--day-name",{[i.cssClassWeekend]:U(R)}),_=this.dp.locale.daysMin[R];S+='<div class="'.concat(T,'">').concat(_,"</div>"),z++,P++}return S}_getDaysCells(){let{viewDate:b,locale:{firstDay:S}}=this.dp,U=l(b),{year:P,month:z}=c(b),R=new Date(P,z,1),T=new Date(P,z,U),_=R.getDay()-S,K=6-T.getDay()+S;_=_<0?_+7:_,K=K>6?K-7:K;let Y=function(pe,X){let{year:re,month:$,date:ge}=c(pe);return new Date(re,$,ge-X)}(R,_),J=U+_+K,se=Y.getDate(),{year:oe,month:le}=c(Y),ue=0;for(;ue<J;){let pe=new Date(oe,le,se+ue);this._generateCell(pe),ue++}}_generateCell(b){let{type:S,dp:U,opts:P}=this,z=new H({type:S,dp:U,opts:P,date:b,body:this});return this.cells.push(z),z}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:b}=this.dp.parsedViewDate,S=0;for(;S<12;)this.cells.push(this._generateCell(new Date(b,S))),S++}_generateYearCells(){let b=h(this.dp.viewDate),S=b[0]-1,U=b[1]+1,P=S;for(;P<=U;)this.cells.push(this._generateCell(new Date(P,0))),P++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case i.days:this._generateDayCells();break;case i.months:this._generateMonthCells();break;case i.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(b=>b.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}}function F(W,b,S){return b in W?Object.defineProperty(W,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):W[b]=S,W}class G{constructor(b){let{dp:S,opts:U}=b;F(this,"onClickNav",P=>{let z=B(P.target,".air-datepicker-nav--action");if(!z)return;let R=z.dataset.action;this.dp[R]()}),F(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),F(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),F(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),F(this,"update",()=>{let{prevHtml:P,nextHtml:z}=this.opts;this.$prev.innerHTML=P,this.$next.innerHTML=z,this._resetNavStatus(),this.render(),this.handleNavStatus()}),F(this,"renderDelay",()=>{setTimeout(this.render)}),F(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(P,z){for(let R in z)z[R]?P.classList.add(R):P.classList.remove(R)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=S,this.opts=U,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=s(".air-datepicker-nav--title",this.$el),this.$prev=s('[data-action="prev"]',this.$el),this.$next=s('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=a({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:b,opts:S}=this,U=S.navTitles[b.currentView];return typeof U=="function"?U(b):b.formatDate(b.viewDate,U)}handleNavStatus(){let{disableNavWhenOutOfRange:b}=this.opts,{minDate:S,maxDate:U}=this.dp;if(!S&&!U||!b)return;let{year:P,month:z}=this.dp.parsedViewDate,R=!!S&&c(S),T=!!U&&c(U);switch(this.dp.currentView){case i.days:S&&R.month>=z&&R.year>=P&&this._disableNav("prev"),U&&T.month<=z&&T.year<=P&&this._disableNav("next");break;case i.months:S&&R.year>=P&&this._disableNav("prev"),U&&T.year<=P&&this._disableNav("next");break;case i.years:{let _=h(this.dp.viewDate);S&&R.year>=_[0]&&this._disableNav("prev"),U&&T.year<=_[1]&&this._disableNav("next");break}}}_disableNav(b){s('[data-action="'+b+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(b){for(var S=arguments.length,U=new Array(S>1?S-1:0),P=1;P<S;P++)U[P-1]=arguments[P];b.length?b.forEach(z=>{z.classList.remove(...U)}):b.classList.remove(...U)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:b,nextHtml:S}=this.opts;this.$el.innerHTML='<div class="air-datepicker-nav--action" data-action="prev">'.concat(b,"</div>")+'<div class="air-datepicker-nav--title"></div>'+'<div class="air-datepicker-nav--action" data-action="next">'.concat(S,"</div>")}get isNavIsFunction(){let{navTitles:b}=this.opts;return Object.keys(b).find(S=>typeof b[S]=="function")}}var I={today:{content:W=>W.locale.today,onClick:W=>W.setViewDate(new Date)},clear:{content:W=>W.locale.clear,onClick:W=>W.clear()}};class V{constructor(b){let{dp:S,opts:U}=b;this.dp=S,this.opts=U,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=a({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:b}=this.opts;Array.isArray(b)||(b=[b]),b.forEach(S=>{let U=S;typeof S=="string"&&I[S]&&(U=I[S]);let P=this.createButton(U);U.onClick&&this.attachEventToButton(P,U.onClick),this.$el.appendChild(P)})}attachEventToButton(b,S){b.addEventListener("click",()=>{S(this.dp)})}createButton(b){let{content:S,className:U,tagName:P="button",attrs:z={}}=b,R=typeof S=="function"?S(this.dp):S;return a({tagName:P,innerHtml:"<span tabindex='-1'>".concat(R,"</span>"),className:f("air-datepicker-button",U),attrs:z})}render(){this.generateButtons()}}function te(W,b,S){return b in W?Object.defineProperty(W,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):W[b]=S,W}class ie{constructor(){let{opts:b,dp:S}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(this,"toggleTimepickerIsActive",P=>{this.dp.timepickerIsActive=P}),te(this,"onChangeSelectedDate",P=>{let{date:z,updateTime:R=!1}=P;z&&(this.setMinMaxTime(z),this.setCurrentTime(!!R&&z),this.addTimeToDate(z))}),te(this,"onChangeLastSelectedDate",P=>{P&&(this.setTime(P),this.render())}),te(this,"onChangeInputRange",P=>{let z=P.target;this[z.getAttribute("name")]=z.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),te(this,"onMouseEnterLeave",P=>{let z=P.target.getAttribute("name"),R=this.$minutesText;z==="hours"&&(R=this.$hoursText),R.classList.toggle("-focus-")}),te(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),te(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=b,this.dp=S;let{timeFormat:U}=this.dp.locale;U&&(U.match(E("h"))||U.match(E("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let b="input";navigator.userAgent.match(/trident/gi)&&(b="change"),w(this.$ranges,b,this.onChangeInputRange),w(this.$ranges,"mouseenter",this.onMouseEnterLeave),w(this.$ranges,"mouseleave",this.onMouseEnterLeave),w(this.$ranges,"focus",this.onFocus),w(this.$ranges,"mousedown",this.onFocus),w(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=a({className:f("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:b,hours:S,displayHours:U,minutes:P,minHours:z,minMinutes:R,maxHours:T,maxMinutes:_,dayPeriod:K,opts:{hoursStep:Y,minutesStep:J}}=this;this.$el.innerHTML='<div class="air-datepicker-time--current">'+'   <span class="air-datepicker-time--current-hours">'.concat(u(U),"</span>")+'   <span class="air-datepicker-time--current-colon">:</span>'+'   <span class="air-datepicker-time--current-minutes">'.concat(u(P),"</span>")+"   ".concat(b?"<span class='air-datepicker-time--current-ampm'>".concat(K,"</span>"):"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+'      <input type="range" name="hours" value="'.concat(S,'" min="').concat(z,'" max="').concat(T,'" step="').concat(Y,'"/>')+'   </div>   <div class="air-datepicker-time--row">'+'      <input type="range" name="minutes" value="'.concat(P,'" min="').concat(R,'" max="').concat(_,'" step="').concat(J,'"/>')+"   </div></div>"}defineDOM(){let b=S=>s(S,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=b('[name="hours"]'),this.$minutes=b('[name="minutes"]'),this.$hoursText=b(".air-datepicker-time--current-hours"),this.$minutesText=b(".air-datepicker-time--current-minutes"),this.$ampm=b(".air-datepicker-time--current-ampm")}setTime(b){this.setMinMaxTime(b),this.setCurrentTime(b)}addTimeToDate(b){b&&(b.setHours(this.hours),b.setMinutes(this.minutes))}setMinMaxTime(b){if(this.setMinMaxTimeFromOptions(),b){let{minDate:S,maxDate:U}=this.dp;S&&d(b,S)&&this.setMinTimeFromMinDate(S),U&&d(b,U)&&this.setMaxTimeFromMaxDate(U)}}setCurrentTime(b){let{hours:S,minutes:U}=b?c(b):this;this.hours=y(S,this.minHours,this.maxHours),this.minutes=y(U,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:b,minMinutes:S,maxHours:U,maxMinutes:P}=this.opts;this.minHours=y(b,0,23),this.minMinutes=y(S,0,59),this.maxHours=y(U,0,23),this.maxMinutes=y(P,0,59)}setMinTimeFromMinDate(b){let{lastSelectedDate:S}=this.dp;this.minHours=b.getHours(),S&&S.getHours()>b.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=b.getMinutes()}setMaxTimeFromMaxDate(b){let{lastSelectedDate:S}=this.dp;this.maxHours=b.getHours(),S&&S.getHours()<b.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=b.getMinutes()}getDayPeriod(b,S){let U=b,P=Number(b);b instanceof Date&&(U=c(b),P=Number(U.hours));let z="am";if(S||this.ampm){switch(!0){case P===12:case P>11:z="pm"}P=P%12==0?12:P%12}return{hours:P,dayPeriod:z}}updateSliders(){o(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,o(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=u(this.displayHours),this.$minutesText.innerHTML=u(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(b){this._hours=b;let{hours:S,dayPeriod:U}=this.getDayPeriod(b);this.displayHours=S,this.dayPeriod=U}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function ae(W,b,S){return b in W?Object.defineProperty(W,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):W[b]=S,W}class ee{constructor(b){let{dp:S,opts:U}=b;ae(this,"pressedKeys",new Set),ae(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],P=>P.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],P=>P.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],P=>P.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],P=>P.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],P=>P.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],P=>P.year-=10],[["Control","Shift","ArrowUp"],(P,z)=>z.up()]])),ae(this,"handleHotKey",P=>{let z=this.hotKeys.get(P),R=c(this.getInitialFocusDate());z(R,this.dp);let{year:T,month:_,date:K}=R,Y=l(new Date(T,_));Y<K&&(K=Y);let J=this.dp.getClampedDate(new Date(T,_,K));this.dp.setFocusDate(J,{viewDateTransition:!0})}),ae(this,"isHotKeyPressed",()=>{let P=!1,z=this.pressedKeys.size,R=T=>this.pressedKeys.has(T);for(let[T]of this.hotKeys){if(P)break;if(Array.isArray(T[0]))T.forEach(_=>{P||z!==_.length||(P=_.every(R)&&T)});else{if(z!==T.length)continue;P=T.every(R)&&T}}return P}),ae(this,"isArrow",P=>P>=37&&P<=40),ae(this,"onKeyDown",P=>{let{key:z,which:R}=P,{dp:T,dp:{focusDate:_},opts:K}=this;this.registerKey(z);let Y=this.isHotKeyPressed();if(Y)return P.preventDefault(),void this.handleHotKey(Y);if(this.isArrow(R))return P.preventDefault(),void this.focusNextCell(z);if(z==="Enter"){if(T.currentView!==K.minView)return void T.down();if(_){let J=T._checkIfDateIsSelected(_);return void(J?T._handleAlreadySelectedDates(J,_):T.selectDate(_))}}z==="Escape"&&this.dp.hide()}),ae(this,"onKeyUp",P=>{this.removeKey(P.key)}),this.dp=S,this.opts=U,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:b}=this.dp;b.addEventListener("keydown",this.onKeyDown),b.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:b}=this.dp;b.removeEventListener("keydown",this.onKeyDown),b.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:b,currentView:S,selectedDates:U,parsedViewDate:{year:P,month:z}}=this.dp,R=b||U[U.length-1];if(!R)switch(S){case i.days:R=new Date(P,z,new Date().getDate());break;case i.months:R=new Date(P,z,1);break;case i.years:R=new Date(P,0,1)}return R}focusNextCell(b){let S=this.getInitialFocusDate(),{currentView:U}=this.dp,{days:P,months:z,years:R}=i,T=c(S),_=T.year,K=T.month,Y=T.date;switch(b){case"ArrowLeft":U===P&&(Y-=1),U===z&&(K-=1),U===R&&(_-=1);break;case"ArrowUp":U===P&&(Y-=7),U===z&&(K-=3),U===R&&(_-=4);break;case"ArrowRight":U===P&&(Y+=1),U===z&&(K+=1),U===R&&(_+=1);break;case"ArrowDown":U===P&&(Y+=7),U===z&&(K+=3),U===R&&(_+=4)}let J=this.dp.getClampedDate(new Date(_,K,Y));this.dp.setFocusDate(J,{viewDateTransition:!0})}registerKey(b){this.pressedKeys.add(b)}removeKey(b){this.pressedKeys.delete(b)}}let fe={on(W,b){this.__events||(this.__events={}),this.__events[W]?this.__events[W].push(b):this.__events[W]=[b]},off(W,b){this.__events&&this.__events[W]&&(this.__events[W]=this.__events[W].filter(S=>S!==b))},removeAllEvents(){this.__events={}},trigger(W){for(var b=arguments.length,S=new Array(b>1?b-1:0),U=1;U<b;U++)S[U-1]=arguments[U];this.__events&&this.__events[W]&&this.__events[W].forEach(P=>{P(...S)})}};function ne(W,b,S){return b in W?Object.defineProperty(W,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):W[b]=S,W}let me="",we="",j="",Fe=!1;class xe{constructor(b,S){var U=this;if(ne(this,"viewIndexes",[i.days,i.months,i.years]),ne(this,"next",()=>{let{year:R,month:T}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(R,T+1,1));break;case i.months:this.setViewDate(new Date(R+1,T,1));break;case i.years:this.setViewDate(new Date(R+10,0,1))}}),ne(this,"prev",()=>{let{year:R,month:T}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(R,T-1,1));break;case i.months:this.setViewDate(new Date(R-1,T,1));break;case i.years:this.setViewDate(new Date(R-10,0,1))}}),ne(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),ne(this,"setPosition",function(R){let T=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(R=R||U.opts.position)=="function")return void(U.customHide=R({$datepicker:U.$datepicker,$target:U.$el,$pointer:U.$pointer,isViewChange:T,done:U._finishHide}));let _,K,{isMobile:Y}=U.opts,J=U.$el.getBoundingClientRect(),se=U.$el.getBoundingClientRect(),oe=U.$datepicker.offsetParent,le=U.$el.offsetParent,ue=U.$datepicker.getBoundingClientRect(),pe=R.split(" "),X=window.scrollY,re=window.scrollX,$=U.opts.offset,ge=pe[0],k=pe[1];if(Y)U.$datepicker.style.cssText="left: 50%; top: 50%";else{if(oe===le&&oe!==document.body&&(se={top:U.$el.offsetTop,left:U.$el.offsetLeft,width:J.width,height:U.$el.offsetHeight},X=0,re=0),oe!==le&&oe!==document.body){let he=oe.getBoundingClientRect();se={top:J.top-he.top,left:J.left-he.left,width:J.width,height:J.height},X=0,re=0}switch(ge){case"top":_=se.top-ue.height-$;break;case"right":K=se.left+se.width+$;break;case"bottom":_=se.top+se.height+$;break;case"left":K=se.left-ue.width-$}switch(k){case"top":_=se.top;break;case"right":K=se.left+se.width-ue.width;break;case"bottom":_=se.top+se.height-ue.height;break;case"left":K=se.left;break;case"center":/left|right/.test(ge)?_=se.top+se.height/2-ue.height/2:K=se.left+se.width/2-ue.width/2}U.$datepicker.style.cssText="left: ".concat(K+re,"px; top: ").concat(_+X,"px")}}),ne(this,"_setInputValue",()=>{let{opts:R,$altField:T,locale:{dateFormat:_}}=this,{altFieldDateFormat:K,altField:Y}=R;Y&&T&&(T.value=this._getInputValue(K)),this.$el.value=this._getInputValue(_)}),ne(this,"_getInputValue",R=>{let{selectedDates:T,opts:_}=this,{multipleDates:K,multipleDatesSeparator:Y}=_;if(!T.length)return"";let J=typeof R=="function",se=J?R(K?T:T[0]):T.map(oe=>this.formatDate(oe,R));return se=J?se:se.join(Y),se}),ne(this,"_checkIfDateIsSelected",function(R){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.days,_=!1;return U.selectedDates.some(K=>{let Y=d(R,K,T);return _=Y&&K,Y}),_}),ne(this,"_scheduleCallAfterTransition",R=>{this._cancelScheduledCall(),R&&R(!1),this._onTransitionEnd=()=>{R&&R(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),ne(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),ne(this,"setViewDate",R=>{if(!((R=x(R))instanceof Date)||d(R,this.viewDate))return;let T=this.viewDate;this.viewDate=R;let{onChangeViewDate:_}=this.opts;if(_){let{month:K,year:Y}=this.parsedViewDate;_({month:K,year:Y,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,R,T)}),ne(this,"setFocusDate",function(R){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!R||(R=x(R))instanceof Date)&&(U.focusDate=R,U.opts.range&&R&&U._handleRangeOnFocus(),U.trigger(i.eventChangeFocusDate,R,T))}),ne(this,"setCurrentView",R=>{if(this.viewIndexes.includes(R)){if(this.currentView=R,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(i.eventChangeCurrentView,R),!this.views[R]){let T=this.views[R]=new Q({dp:this,opts:this.opts,type:R});this.$content.appendChild(T.$el)}this.opts.onChangeView&&this.opts.onChangeView(R)}}),ne(this,"_updateLastSelectedDate",R=>{this.lastSelectedDate=R,this.trigger(i.eventChangeLastSelectedDate,R)}),ne(this,"destroy",()=>{let{showEvent:R,isMobile:T}=this.opts,_=this.$datepicker.parentNode;_&&_.removeChild(this.$datepicker),this.$el.removeEventListener(R,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),T&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),ne(this,"update",R=>{let T=C({},this.opts);C(this.opts,R);let{timepicker:_,buttons:K,range:Y,selectedDates:J,isMobile:se}=this.opts,oe=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!T.selectedDates&&J&&this.selectDate(J),R.view&&this.setCurrentView(R.view),this._setInputValue(),T.range&&!Y?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!T.range&&Y&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),T.timepicker&&!_?(oe&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!T.timepicker&&_&&this._addTimepicker(),!T.buttons&&K?this._addButtons():T.buttons&&!K?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):oe&&T.buttons&&K&&this.buttons.clearHtml().render(),!T.isMobile&&se?(this.treatAsInline||j||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):T.isMobile&&!se&&(this._removeMobileAttributes(),this.visible&&(j.classList.remove("-active-"),typeof this.opts.position!="function"&&this.setPosition())),oe&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===i.days&&this.views[this.currentView].renderDayNames())}),ne(this,"isOtherMonth",R=>{let{month:T}=c(R);return T!==this.parsedViewDate.month}),ne(this,"isOtherYear",R=>{let{year:T}=c(R);return T!==this.parsedViewDate.year}),ne(this,"isOtherDecade",R=>{let{year:T}=c(R),[_,K]=h(this.viewDate);return T<_||T>K}),ne(this,"_onChangeSelectedDate",R=>{let{silent:T}=R;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!T&&this._triggerOnSelect()})}),ne(this,"_onChangeFocusedDate",function(R){let{viewDateTransition:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!R)return;let _=!1;T&&(_=U.isOtherMonth(R)||U.isOtherYear(R)||U.isOtherDecade(R)),_&&U.setViewDate(R)}),ne(this,"_onChangeTime",R=>{let{hours:T,minutes:_}=R,K=new Date,{lastSelectedDate:Y,opts:{onSelect:J}}=this,se=Y;Y||(se=K);let oe=this.getCell(se,this.currentViewSingular),le=oe&&oe.adpCell;le&&le.isDisabled||(se.setHours(T),se.setMinutes(_),Y?(this._setInputValue(),J&&this._triggerOnSelect()):this.selectDate(se))}),ne(this,"_onFocus",R=>{this.visible||this.show()}),ne(this,"_onBlur",R=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),ne(this,"_onMouseDown",R=>{this.inFocus=!0}),ne(this,"_onMouseUp",R=>{this.inFocus=!1,this.$el.focus()}),ne(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),ne(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),ne(this,"isWeekend",R=>this.opts.weekends.includes(R)),ne(this,"getClampedDate",R=>{let{minDate:T,maxDate:_}=this,K=R;return _&&p(R,_)?K=_:T&&v(R,T)&&(K=T),K}),this.$el=s(b),!this.$el)return;this.$datepicker=a({className:"air-datepicker"}),this.opts=C({},r,S),this.$customContainer=!!this.opts.container&&s(this.opts.container),this.$altField=s(this.opts.altField||!1),me||(me=s("body"));let{view:P,startDate:z}=this.opts;z||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=x(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=P,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:b,treatAsInline:S,opts:{inline:U,isMobile:P,selectedDates:z,keyboardNav:R,onlyTimepicker:T}}=this;var _;Fe||U||!this.elIsInput||(Fe=!0,we=a({className:_=xe.defaultContainerId,id:_}),me.appendChild(we)),!P||j||S||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(U||this._bindEvents(),R&&!T&&(this.keyboardNav=new ee({dp:this,opts:b}))),z&&this.selectDate(z,{silent:!0}),this.opts.visible&&!S&&this.show(),S&&this._createComponents()}_createMobileOverlay(){j=a({className:"air-datepicker-overlay"}),we.appendChild(j)}_createComponents(){let{opts:b,treatAsInline:S,opts:{inline:U,buttons:P,timepicker:z,position:R,classes:T,onlyTimepicker:_,isMobile:K}}=this;this._buildBaseHtml(),this.elIsInput&&(U||this._setPositionClasses(R)),!U&&this.elIsInput||this.$datepicker.classList.add("-inline-"),T&&this.$datepicker.classList.add(...T.split(" ")),_&&this.$datepicker.classList.add("-only-timepicker-"),K&&!S&&this._addMobileAttributes(),this.views[this.currentView]=new Q({dp:this,type:this.currentView,opts:b}),this.nav=new G({dp:this,opts:b}),z&&this._addTimepicker(),P&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let b in this.views)this.views[b].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){j.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){j.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:b,maxDate:S}=this.opts;this.minDate=!!b&&x(b),this.maxDate=!!S&&x(S)}_addTimepicker(){this.$timepicker=a({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new ie({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=a({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new V({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:b}=this.opts;var S,U;this.elIsInput?b?(S=this.$datepicker,(U=this.$el).parentNode.insertBefore(S,U.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=s(".air-datepicker--content",this.$datepicker),this.$pointer=s(".air-datepicker--pointer",this.$datepicker),this.$nav=s(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:b,dateFormat:S,firstDay:U,timepicker:P,onlyTimepicker:z,timeFormat:R,dateTimeSeparator:T}=this.opts;var _;this.locale=(_=b,JSON.parse(JSON.stringify(_))),S&&(this.locale.dateFormat=S),R!==void 0&&R!==""&&(this.locale.timeFormat=R);let{timeFormat:K}=this.locale;if(U!==""&&(this.locale.firstDay=U),P&&typeof S!="function"){let Y=K?T:"";this.locale.dateFormat=[this.locale.dateFormat,K||""].join(Y)}z&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(b){if(typeof b=="function")return void this.$datepicker.classList.add("-custom-position-");let S=(b=b.split(" "))[0],U=b[1],P="air-datepicker -".concat(S,"-").concat(U,"- -from-").concat(S,"-");this.$datepicker.classList.add(...P.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:b,minDate:S,maxDate:U}=this;U&&p(b,U)&&this.setViewDate(U),S&&v(b,S)&&this.setViewDate(S)}formatDate(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,S=arguments.length>1?arguments[1]:void 0;if(b=x(b),!(b instanceof Date))return;let U=S,P=this.locale,z=c(b),R=h(b),T=xe.replacer,_="am";this.opts.timepicker&&this.timepicker&&(_=this.timepicker.getDayPeriod(b).dayPeriod);let K={T:b.getTime(),m:z.minutes,mm:z.fullMinutes,h:z.hours12,hh:z.fullHours12,H:z.hours,HH:z.fullHours,aa:_,AA:_.toUpperCase(),E:P.daysShort[z.day],EEEE:P.days[z.day],d:z.date,dd:z.fullDate,M:z.month+1,MM:z.fullMonth,MMM:P.monthsShort[z.month],MMMM:P.months[z.month],yy:z.year.toString().slice(-2),yyyy:z.year,yyyy1:R[0],yyyy2:R[1]};for(let[Y,J]of Object.entries(K))U=T(U,E(Y),J);return U}down(b){this._handleUpDownActions(b,"down")}up(b){this._handleUpDownActions(b,"up")}selectDate(b){let S,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:P,parsedViewDate:z,selectedDates:R}=this,{updateTime:T}=U,{moveToOtherMonthsOnSelect:_,moveToOtherYearsOnSelect:K,multipleDates:Y,range:J,autoClose:se}=this.opts,oe=R.length;if(Array.isArray(b))return b.forEach(le=>{this.selectDate(le,U)}),new Promise(le=>{setTimeout(le)});if((b=x(b))instanceof Date){if(P===i.days&&b.getMonth()!==z.month&&_&&(S=new Date(b.getFullYear(),b.getMonth(),1)),P===i.years&&b.getFullYear()!==z.year&&K&&(S=new Date(b.getFullYear(),0,1)),S&&this.setViewDate(S),Y&&!J){if(oe===Y)return;this._checkIfDateIsSelected(b)||R.push(b)}else if(J)switch(oe){case 1:R.push(b),this.rangeDateTo||(this.rangeDateTo=b),p(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=b),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[b],this.rangeDateFrom=b,this.rangeDateTo="";break;default:this.selectedDates=[b],this.rangeDateFrom=b}else this.selectedDates=[b];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:U==null?void 0:U.silent,date:b,updateTime:T}),this._updateLastSelectedDate(b),se&&!this.timepickerIsActive&&this.visible&&(Y||J?J&&oe===1&&this.hide():this.hide()),new Promise(le=>{setTimeout(le)})}}unselectDate(b){let S=this.selectedDates,U=this;if((b=x(b))instanceof Date)return S.some((P,z)=>{if(d(P,b))return S.splice(z,1),U.selectedDates.length?U._updateLastSelectedDate(U.selectedDates[U.selectedDates.length-1]):(U.rangeDateFrom="",U.rangeDateTo="",U._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:b}),!0})}replaceDate(b,S){let U=this.selectedDates.find(z=>d(z,b,this.currentView)),P=this.selectedDates.indexOf(U);P<0||d(this.selectedDates[P],S,this.currentView)||(this.selectedDates[P]=S,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:S,updateTime:!0}),this._updateLastSelectedDate(S))}clear(){this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate})}show(){let{onShow:b,isMobile:S}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,b&&this._scheduleCallAfterTransition(b),S&&this._showMobileOverlay()}hide(){let{onHide:b,isMobile:S}=this.opts,U=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(P=>{!this.customHide&&(P&&U||!P&&!U)&&this._finishHide(),b&&b(P)}),S&&j.classList.remove("-active-")}_triggerOnSelect(){let b=[],S=[],{selectedDates:U,locale:P,opts:{onSelect:z,multipleDates:R,range:T}}=this,_=R||T,K=typeof P.dateFormat=="function";U.length&&(b=U.map(g),S=K?R?P.dateFormat(b):b.map(Y=>P.dateFormat(Y)):b.map(Y=>this.formatDate(Y,P.dateFormat))),z({date:_?b:b[0],formattedDate:_?S:S[0],datepicker:this})}_handleAlreadySelectedDates(b,S){let{range:U,toggleSelected:P}=this.opts;U?P?this.unselectDate(S):this.selectedDates.length!==2&&this.selectDate(S):P&&this.unselectDate(S),P||this._updateLastSelectedDate(b)}_handleUpDownActions(b,S){if(!((b=x(b||this.focusDate||this.viewDate))instanceof Date))return;let U=S==="up"?this.viewIndex+1:this.viewIndex-1;U>2&&(U=2),U<0&&(U=0),this.setViewDate(new Date(b.getFullYear(),b.getMonth(),1)),this.setCurrentView(this.viewIndexes[U])}_handleRangeOnFocus(){this.selectedDates.length===1&&(p(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(b){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.day;if(!((b=x(b))instanceof Date))return;let{year:U,month:P,date:z}=c(b),R='[data-year="'.concat(U,'"]'),T='[data-month="'.concat(P,'"]'),_='[data-date="'.concat(z,'"]'),K={[i.day]:"".concat(R).concat(T).concat(_),[i.month]:"".concat(R).concat(T),[i.year]:"".concat(R)};return this.views[this.currentView].$el.querySelector(K[S])}_showMobileOverlay(){j.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((b,S)=>parseFloat(S)+b,0)>0}get parsedViewDate(){return c(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return h(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||we}static replacer(b,S,U){return b.replace(S,function(P,z,R,T){return z+U+T})}}var Ce;return ne(xe,"defaults",r),ne(xe,"version","3.1.0"),ne(xe,"defaultContainerId","air-datepicker-global-container"),Ce=xe.prototype,Object.assign(Ce,fe),n.default}()})})(sx);var cH=sx.exports,Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});var kU=Vp.default=void 0,VU={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};kU=Vp.default=VU;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var od=function(A,e){return od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},od(A,e)};function pi(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");od(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ld=function(){return ld=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ld.apply(this,arguments)};function un(A,e,t,n){function i(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(c){try{l(n.next(c))}catch(u){s(u)}}function o(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){c.done?r(c.value):i(c.value).then(a,o)}l((n=n.apply(A,e||[])).next())})}function An(A,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,i,r,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return o([l,c])}}function o(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(r=l[0]&2?i.return:l[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,l[1])).done)return r;switch(i=0,r&&(l=[l[0]&2,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){t.label=l[1];break}if(l[0]===6&&t.label<r[1]){t.label=r[1],r=l;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(l);break}r[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(A,t)}catch(c){l=[6,c],i=0}finally{n=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ac(A,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,r;n<i;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return A.concat(r||e)}var $i=function(){function A(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return A.prototype.add=function(e,t,n,i){return new A(this.left+e,this.top+t,this.width+n,this.height+i)},A.fromClientRect=function(e,t){return new A(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},A.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new A(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A}(),Fu=function(A,e){return $i.fromClientRect(A,e.getBoundingClientRect())},zU=function(A){var e=A.body,t=A.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new $i(0,0,n,i)},Uu=function(A){for(var e=[],t=0,n=A.length;t<n;){var i=A.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var r=A.charCodeAt(t++);(r&64512)===56320?e.push(((i&1023)<<10)+(r&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},St=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var n=[],i=-1,r="";++i<t;){var s=A[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===t||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},g0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KU=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var oc=0;oc<g0.length;oc++)KU[g0.charCodeAt(oc)]=oc;var m0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$a=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var lc=0;lc<m0.length;lc++)$a[m0.charCodeAt(lc)]=lc;var WU=function(A){var e=A.length*.75,t=A.length,n,i=0,r,s,a,o;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var l=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<t;n+=4)r=$a[A.charCodeAt(n)],s=$a[A.charCodeAt(n+1)],a=$a[A.charCodeAt(n+2)],o=$a[A.charCodeAt(n+3)],c[i++]=r<<2|s>>4,c[i++]=(s&15)<<4|a>>2,c[i++]=(a&3)<<6|o&63;return l},XU=function(A){for(var e=A.length,t=[],n=0;n<e;n+=2)t.push(A[n+1]<<8|A[n]);return t},YU=function(A){for(var e=A.length,t=[],n=0;n<e;n+=4)t.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return t},MA=5,zp=6+5,Zh=2,JU=zp-MA,ax=65536>>MA,ZU=1<<MA,qh=ZU-1,qU=1024>>MA,jU=ax+qU,$U=jU,eD=32,tD=$U+eD,nD=65536>>zp,iD=1<<JU,rD=iD-1,v0=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},AD=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},sD=function(A,e){var t=WU(A),n=Array.isArray(t)?YU(t):new Uint32Array(t),i=Array.isArray(t)?XU(t):new Uint16Array(t),r=24,s=v0(i,r/2,n[4]/2),a=n[5]===2?v0(i,(r+n[4])/2):AD(n,Math.ceil((r+n[4])/4));return new aD(n[0],n[1],n[2],n[3],s,a)},aD=function(){function A(e,t,n,i,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=s}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>MA],t=(t<<Zh)+(e&qh),this.data[t];if(e<=65535)return t=this.index[ax+(e-55296>>MA)],t=(t<<Zh)+(e&qh),this.data[t];if(e<this.highStart)return t=tD-nD+(e>>zp),t=this.index[t],t+=e>>MA&rD,t=this.index[t],t=(t<<Zh)+(e&qh),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),w0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oD=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var cc=0;cc<w0.length;cc++)oD[w0.charCodeAt(cc)]=cc;var lD="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",B0=50,cD=1,ox=2,lx=3,uD=4,hD=5,y0=7,cx=8,x0=9,xr=10,cd=11,C0=12,ud=13,fD=14,eo=15,hd=16,uc=17,Ka=18,dD=19,_0=20,fd=21,Wa=22,jh=23,gs=24,Dn=25,to=26,no=27,ms=28,pD=29,pA=30,gD=31,hc=32,fc=33,dd=34,pd=35,gd=36,Oo=37,md=38,Lc=39,Qc=40,$h=41,ux=42,mD=43,vD=[9001,65288],hx="!",We="\xD7",dc="\xF7",vd=sD(lD),Ni=[pA,gd],wd=[cD,ox,lx,hD],fx=[xr,cx],E0=[no,to],wD=wd.concat(fx),b0=[md,Lc,Qc,dd,pd],BD=[eo,ud],yD=function(A,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return A.forEach(function(r,s){var a=vd.get(r);if(a>B0?(i.push(!0),a-=B0):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(r)!==-1)return n.push(s),t.push(hd);if(a===uD||a===cd){if(s===0)return n.push(s),t.push(pA);var o=t[s-1];return wD.indexOf(o)===-1?(n.push(n[s-1]),t.push(o)):(n.push(s),t.push(pA))}if(n.push(s),a===gD)return t.push(e==="strict"?fd:Oo);if(a===ux||a===pD)return t.push(pA);if(a===mD)return r>=131072&&r<=196605||r>=196608&&r<=262141?t.push(Oo):t.push(pA);t.push(a)}),[n,t,i]},ef=function(A,e,t,n){var i=n[t];if(Array.isArray(A)?A.indexOf(i)!==-1:A===i)for(var r=t;r<=n.length;){r++;var s=n[r];if(s===e)return!0;if(s!==xr)break}if(i===xr)for(var r=t;r>0;){r--;var a=n[r];if(Array.isArray(A)?A.indexOf(a)!==-1:A===a)for(var o=t;o<=n.length;){o++;var s=n[o];if(s===e)return!0;if(s!==xr)break}if(a!==xr)break}return!1},M0=function(A,e){for(var t=A;t>=0;){var n=e[t];if(n===xr)t--;else return n}return 0},xD=function(A,e,t,n,i){if(t[n]===0)return We;var r=n-1;if(Array.isArray(i)&&i[r]===!0)return We;var s=r-1,a=r+1,o=e[r],l=s>=0?e[s]:0,c=e[a];if(o===ox&&c===lx)return We;if(wd.indexOf(o)!==-1)return hx;if(wd.indexOf(c)!==-1||fx.indexOf(c)!==-1)return We;if(M0(r,e)===cx)return dc;if(vd.get(A[r])===cd||(o===hc||o===fc)&&vd.get(A[a])===cd||o===y0||c===y0||o===x0||[xr,ud,eo].indexOf(o)===-1&&c===x0||[uc,Ka,dD,gs,ms].indexOf(c)!==-1||M0(r,e)===Wa||ef(jh,Wa,r,e)||ef([uc,Ka],fd,r,e)||ef(C0,C0,r,e))return We;if(o===xr)return dc;if(o===jh||c===jh)return We;if(c===hd||o===hd)return dc;if([ud,eo,fd].indexOf(c)!==-1||o===fD||l===gd&&BD.indexOf(o)!==-1||o===ms&&c===gd||c===_0||Ni.indexOf(c)!==-1&&o===Dn||Ni.indexOf(o)!==-1&&c===Dn||o===no&&[Oo,hc,fc].indexOf(c)!==-1||[Oo,hc,fc].indexOf(o)!==-1&&c===to||Ni.indexOf(o)!==-1&&E0.indexOf(c)!==-1||E0.indexOf(o)!==-1&&Ni.indexOf(c)!==-1||[no,to].indexOf(o)!==-1&&(c===Dn||[Wa,eo].indexOf(c)!==-1&&e[a+1]===Dn)||[Wa,eo].indexOf(o)!==-1&&c===Dn||o===Dn&&[Dn,ms,gs].indexOf(c)!==-1)return We;if([Dn,ms,gs,uc,Ka].indexOf(c)!==-1)for(var u=r;u>=0;){var h=e[u];if(h===Dn)return We;if([ms,gs].indexOf(h)!==-1)u--;else break}if([no,to].indexOf(c)!==-1)for(var u=[uc,Ka].indexOf(o)!==-1?s:r;u>=0;){var h=e[u];if(h===Dn)return We;if([ms,gs].indexOf(h)!==-1)u--;else break}if(md===o&&[md,Lc,dd,pd].indexOf(c)!==-1||[Lc,dd].indexOf(o)!==-1&&[Lc,Qc].indexOf(c)!==-1||[Qc,pd].indexOf(o)!==-1&&c===Qc||b0.indexOf(o)!==-1&&[_0,to].indexOf(c)!==-1||b0.indexOf(c)!==-1&&o===no||Ni.indexOf(o)!==-1&&Ni.indexOf(c)!==-1||o===gs&&Ni.indexOf(c)!==-1||Ni.concat(Dn).indexOf(o)!==-1&&c===Wa&&vD.indexOf(A[a])===-1||Ni.concat(Dn).indexOf(c)!==-1&&o===Ka)return We;if(o===$h&&c===$h){for(var f=t[r],d=1;f>0&&(f--,e[f]===$h);)d++;if(d%2!==0)return We}return o===hc&&c===fc?We:dc},CD=function(A,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=yD(A,e.lineBreak),n=t[0],i=t[1],r=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[Dn,pA,ux].indexOf(a)!==-1?Oo:a}));var s=e.wordBreak==="keep-all"?r.map(function(a,o){return a&&A[o]>=19968&&A[o]<=40959}):void 0;return[n,i,s]},_D=function(){function A(e,t,n,i){this.codePoints=e,this.required=t===hx,this.start=n,this.end=i}return A.prototype.slice=function(){return St.apply(void 0,this.codePoints.slice(this.start,this.end))},A}(),ED=function(A,e){var t=Uu(A),n=CD(t,e),i=n[0],r=n[1],s=n[2],a=t.length,o=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var c=We;l<a&&(c=xD(t,r,i,++l,s))===We;);if(c!==We||l===a){var u=new _D(t,c,o,l);return o=l,{value:u,done:!1}}return{done:!0,value:null}}}},bD=1<<0,MD=1<<1,il=1<<2,T0=1<<3,Zc=10,S0=47,po=92,TD=9,SD=32,pc=34,Xa=61,FD=35,UD=36,DD=37,gc=39,mc=40,Ya=41,ID=95,Bn=45,LD=33,QD=60,RD=62,HD=64,PD=91,OD=93,ND=61,GD=123,vc=63,kD=125,F0=124,VD=126,zD=128,U0=65533,tf=42,wA=43,KD=44,WD=58,XD=59,No=46,YD=0,JD=8,ZD=11,qD=14,jD=31,$D=127,gi=-1,dx=48,px=97,gx=101,eI=102,tI=117,nI=122,mx=65,vx=69,wx=70,iI=85,rI=90,sn=function(A){return A>=dx&&A<=57},AI=function(A){return A>=55296&&A<=57343},vs=function(A){return sn(A)||A>=mx&&A<=wx||A>=px&&A<=eI},sI=function(A){return A>=px&&A<=nI},aI=function(A){return A>=mx&&A<=rI},oI=function(A){return sI(A)||aI(A)},lI=function(A){return A>=zD},wc=function(A){return A===Zc||A===TD||A===SD},qc=function(A){return oI(A)||lI(A)||A===ID},D0=function(A){return qc(A)||sn(A)||A===Bn},cI=function(A){return A>=YD&&A<=JD||A===ZD||A>=qD&&A<=jD||A===$D},mr=function(A,e){return A!==po?!1:e!==Zc},Bc=function(A,e,t){return A===Bn?qc(e)||mr(e,t):qc(A)?!0:!!(A===po&&mr(A,e))},nf=function(A,e,t){return A===wA||A===Bn?sn(e)?!0:e===No&&sn(t):sn(A===No?e:A)},uI=function(A){var e=0,t=1;(A[e]===wA||A[e]===Bn)&&(A[e]===Bn&&(t=-1),e++);for(var n=[];sn(A[e]);)n.push(A[e++]);var i=n.length?parseInt(St.apply(void 0,n),10):0;A[e]===No&&e++;for(var r=[];sn(A[e]);)r.push(A[e++]);var s=r.length,a=s?parseInt(St.apply(void 0,r),10):0;(A[e]===vx||A[e]===gx)&&e++;var o=1;(A[e]===wA||A[e]===Bn)&&(A[e]===Bn&&(o=-1),e++);for(var l=[];sn(A[e]);)l.push(A[e++]);var c=l.length?parseInt(St.apply(void 0,l),10):0;return t*(i+a*Math.pow(10,-s))*Math.pow(10,o*c)},hI={type:2},fI={type:3},dI={type:4},pI={type:13},gI={type:8},mI={type:21},vI={type:9},wI={type:10},BI={type:11},yI={type:12},xI={type:14},yc={type:23},CI={type:1},_I={type:25},EI={type:24},bI={type:26},MI={type:27},TI={type:28},SI={type:29},FI={type:31},Bd={type:32},Bx=function(){function A(){this._value=[]}return A.prototype.write=function(e){this._value=this._value.concat(Uu(e))},A.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Bd;)e.push(t),t=this.consumeToken();return e},A.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case pc:return this.consumeStringToken(pc);case FD:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(D0(t)||mr(n,i)){var r=Bc(t,n,i)?MD:bD,s=this.consumeName();return{type:5,value:s,flags:r}}break;case UD:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),pI;break;case gc:return this.consumeStringToken(gc);case mc:return hI;case Ya:return fI;case tf:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),xI;break;case wA:if(nf(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case KD:return dI;case Bn:var a=e,o=this.peekCodePoint(0),l=this.peekCodePoint(1);if(nf(a,o,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Bc(a,o,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===Bn&&l===RD)return this.consumeCodePoint(),this.consumeCodePoint(),EI;break;case No:if(nf(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case S0:if(this.peekCodePoint(0)===tf)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===tf&&(c=this.consumeCodePoint(),c===S0))return this.consumeToken();if(c===gi)return this.consumeToken()}break;case WD:return bI;case XD:return MI;case QD:if(this.peekCodePoint(0)===LD&&this.peekCodePoint(1)===Bn&&this.peekCodePoint(2)===Bn)return this.consumeCodePoint(),this.consumeCodePoint(),_I;break;case HD:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Bc(u,h,f)){var s=this.consumeName();return{type:7,value:s}}break;case PD:return TI;case po:if(mr(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case OD:return SI;case ND:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),gI;break;case GD:return BI;case kD:return yI;case tI:case iI:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d===wA&&(vs(p)||p===vc)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case F0:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),vI;if(this.peekCodePoint(0)===F0)return this.consumeCodePoint(),mI;break;case VD:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),wI;break;case gi:return Bd}return wc(e)?(this.consumeWhiteSpace(),FI):sn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):qc(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:St(e)}},A.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e=="undefined"?-1:e},A.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},A.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},A.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();vs(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===vc&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(St.apply(void 0,e.map(function(o){return o===vc?dx:o})),16),r=parseInt(St.apply(void 0,e.map(function(o){return o===vc?wx:o})),16);return{type:30,start:i,end:r}}var s=parseInt(St.apply(void 0,e),16);if(this.peekCodePoint(0)===Bn&&vs(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];vs(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();var r=parseInt(St.apply(void 0,a),16);return{type:30,start:s,end:r}}else return{type:30,start:s,end:s}},A.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===mc?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===mc?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},A.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===gi)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===gc||t===pc){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===gi||this.peekCodePoint(0)===Ya)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yc)}for(;;){var i=this.consumeCodePoint();if(i===gi||i===Ya)return{type:22,value:St.apply(void 0,e)};if(wc(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===gi||this.peekCodePoint(0)===Ya?(this.consumeCodePoint(),{type:22,value:St.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yc);if(i===pc||i===gc||i===mc||cI(i))return this.consumeBadUrlRemnants(),yc;if(i===po)if(mr(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),yc;else e.push(i)}},A.prototype.consumeWhiteSpace=function(){for(;wc(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ya||e===gi)return;mr(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=St.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},A.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===gi||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===Zc)return this._value.splice(0,n),CI;if(i===po){var r=this._value[n+1];r!==gi&&r!==void 0&&(r===Zc?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):mr(i,r)&&(t+=this.consumeStringSlice(n),t+=St(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},A.prototype.consumeNumber=function(){var e=[],t=il,n=this.peekCodePoint(0);for((n===wA||n===Bn)&&e.push(this.consumeCodePoint());sn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===No&&sn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=T0;sn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((n===vx||n===gx)&&((i===wA||i===Bn)&&sn(r)||sn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=T0;sn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[uI(e),t]},A.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Bc(i,r,s)){var a=this.consumeName();return{type:15,number:t,flags:n,unit:a}}return i===DD?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},A.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(vs(e)){for(var t=St(e);vs(this.peekCodePoint(0))&&t.length<6;)t+=St(this.consumeCodePoint());wc(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||AI(n)||n>1114111?U0:n}return e===gi?U0:e},A.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(D0(t))e+=St(t);else if(mr(t,this.peekCodePoint(0)))e+=St(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},A}(),yx=function(){function A(e){this._tokens=e}return A.create=function(e){var t=new Bx;return t.write(e),new A(t.read())},A.parseValue=function(e){return A.create(e).parseComponentValue()},A.parseValues=function(e){return A.create(e).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},A.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},A.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||DI(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},A.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e=="undefined"?Bd:e},A.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},A}(),rl=function(A){return A.type===15},Ba=function(A){return A.type===17},it=function(A){return A.type===20},UI=function(A){return A.type===0},yd=function(A,e){return it(A)&&A.value===e},xx=function(A){return A.type!==31},oa=function(A){return A.type!==31&&A.type!==4},Di=function(A){var e=[],t=[];return A.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},DI=function(A,e){return e===11&&A.type===12||e===28&&A.type===29?!0:e===2&&A.type===3},Vr=function(A){return A.type===17||A.type===15},Lt=function(A){return A.type===16||Vr(A)},Cx=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},tn={type:17,number:0,flags:il},Kp={type:16,number:50,flags:il},Cr={type:16,number:100,flags:il},io=function(A,e,t){var n=A[0],i=A[1];return[ut(n,e),ut(typeof i!="undefined"?i:n,t)]},ut=function(A,e){if(A.type===16)return A.number/100*e;if(rl(A))switch(A.unit){case"rem":case"em":return 16*A.number;case"px":default:return A.number}return A.number},_x="deg",Ex="grad",bx="rad",Mx="turn",Du={name:"angle",parse:function(A,e){if(e.type===15)switch(e.unit){case _x:return Math.PI*e.number/180;case Ex:return Math.PI/200*e.number;case bx:return e.number;case Mx:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Tx=function(A){return A.type===15&&(A.unit===_x||A.unit===Ex||A.unit===bx||A.unit===Mx)},Sx=function(A){var e=A.filter(it).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[tn,tn];case"to top":case"bottom":return Zn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[tn,Cr];case"to right":case"left":return Zn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Cr,Cr];case"to bottom":case"top":return Zn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Cr,tn];case"to left":case"right":return Zn(270)}return 0},Zn=function(A){return Math.PI*A/180},Ir={name:"color",parse:function(A,e){if(e.type===18){var t=II[e.name];if(typeof t=="undefined")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(A,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);return _r(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3),s=e.value.substring(3,4);return _r(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6);return _r(parseInt(n,16),parseInt(i,16),parseInt(r,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),s=e.value.substring(6,8);return _r(parseInt(n,16),parseInt(i,16),parseInt(r,16),parseInt(s,16)/255)}}if(e.type===20){var a=Yi[e.value.toUpperCase()];if(typeof a!="undefined")return a}return Yi.TRANSPARENT}},Lr=function(A){return(255&A)===0},Vt=function(A){var e=255&A,t=255&A>>8,n=255&A>>16,i=255&A>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},_r=function(A,e,t,n){return(A<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},I0=function(A,e){if(A.type===17)return A.number;if(A.type===16){var t=e===3?1:255;return e===3?A.number/100*t:Math.round(A.number/100*t)}return 0},L0=function(A,e){var t=e.filter(oa);if(t.length===3){var n=t.map(I0),i=n[0],r=n[1],s=n[2];return _r(i,r,s,1)}if(t.length===4){var a=t.map(I0),i=a[0],r=a[1],s=a[2],o=a[3];return _r(i,r,s,o)}return 0};function rf(A,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-A)*t*6+A:t<1/2?e:t<2/3?(e-A)*6*(2/3-t)+A:A}var Q0=function(A,e){var t=e.filter(oa),n=t[0],i=t[1],r=t[2],s=t[3],a=(n.type===17?Zn(n.number):Du.parse(A,n))/(Math.PI*2),o=Lt(i)?i.number/100:0,l=Lt(r)?r.number/100:0,c=typeof s!="undefined"&&Lt(s)?ut(s,1):1;if(o===0)return _r(l*255,l*255,l*255,1);var u=l<=.5?l*(o+1):l+o-l*o,h=l*2-u,f=rf(h,u,a+1/3),d=rf(h,u,a),p=rf(h,u,a-1/3);return _r(f*255,d*255,p*255,c)},II={hsl:Q0,hsla:Q0,rgb:L0,rgba:L0},go=function(A,e){return Ir.parse(A,yx.create(e).parseComponentValue())},Yi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},LI={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(it(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},QI={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Iu=function(A,e){var t=Ir.parse(A,e[0]),n=e[1];return n&&Lt(n)?{color:t,stop:n}:{color:t,stop:null}},R0=function(A,e){var t=A[0],n=A[A.length-1];t.stop===null&&(t.stop=tn),n.stop===null&&(n.stop=Cr);for(var i=[],r=0,s=0;s<A.length;s++){var a=A[s].stop;if(a!==null){var o=ut(a,e);o>r?i.push(o):i.push(r),r=o}else i.push(null)}for(var l=null,s=0;s<i.length;s++){var c=i[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var u=s-l,h=i[l-1],f=(c-h)/(u+1),d=1;d<=u;d++)i[l+d-1]=f*d;l=null}}return A.map(function(p,v){var g=p.color;return{color:g,stop:Math.max(Math.min(1,i[v]/e),0)}})},RI=function(A,e,t){var n=e/2,i=t/2,r=ut(A[0],e)-n,s=i-ut(A[1],t);return(Math.atan2(s,r)+Math.PI*2)%(Math.PI*2)},HI=function(A,e,t){var n=typeof A=="number"?A:RI(A,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),r=e/2,s=t/2,a=i/2,o=Math.sin(n-Math.PI/2)*a,l=Math.cos(n-Math.PI/2)*a;return[i,r-l,r+l,s-o,s+o]},li=function(A,e){return Math.sqrt(A*A+e*e)},H0=function(A,e,t,n,i){var r=[[0,0],[0,e],[A,0],[A,e]];return r.reduce(function(s,a){var o=a[0],l=a[1],c=li(t-o,n-l);return(i?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:a,optimumDistance:c}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},PI=function(A,e,t,n,i){var r=0,s=0;switch(A.size){case 0:A.shape===0?r=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):A.shape===1&&(r=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(A.shape===0)r=s=Math.min(li(e,t),li(e,t-i),li(e-n,t),li(e-n,t-i));else if(A.shape===1){var a=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),o=H0(n,i,e,t,!0),l=o[0],c=o[1];r=li(l-e,(c-t)/a),s=a*r}break;case 1:A.shape===0?r=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):A.shape===1&&(r=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(A.shape===0)r=s=Math.max(li(e,t),li(e,t-i),li(e-n,t),li(e-n,t-i));else if(A.shape===1){var a=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=H0(n,i,e,t,!1),l=u[0],c=u[1];r=li(l-e,(c-t)/a),s=a*r}break}return Array.isArray(A.size)&&(r=ut(A.size[0],n),s=A.size.length===2?ut(A.size[1],i):r),[r,s]},OI=function(A,e){var t=Zn(180),n=[];return Di(e).forEach(function(i,r){if(r===0){var s=i[0];if(s.type===20&&s.value==="to"){t=Sx(i);return}else if(Tx(s)){t=Du.parse(A,s);return}}var a=Iu(A,i);n.push(a)}),{angle:t,stops:n,type:1}},xc=function(A,e){var t=Zn(180),n=[];return Di(e).forEach(function(i,r){if(r===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=Sx(i);return}else if(Tx(s)){t=(Du.parse(A,s)+Zn(270))%Zn(360);return}}var a=Iu(A,i);n.push(a)}),{angle:t,stops:n,type:1}},NI=function(A,e){var t=Zn(180),n=[],i=1,r=0,s=3,a=[];return Di(e).forEach(function(o,l){var c=o[0];if(l===0){if(it(c)&&c.value==="linear"){i=1;return}else if(it(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=Ir.parse(A,c.values[0]);n.push({stop:tn,color:u})}else if(c.name==="to"){var u=Ir.parse(A,c.values[0]);n.push({stop:Cr,color:u})}else if(c.name==="color-stop"){var h=c.values.filter(oa);if(h.length===2){var u=Ir.parse(A,h[1]),f=h[0];Ba(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),i===1?{angle:(t+Zn(180))%Zn(360),stops:n,type:i}:{size:s,shape:r,stops:n,position:a,type:i}},Fx="closest-side",Ux="farthest-side",Dx="closest-corner",Ix="farthest-corner",Lx="circle",Qx="ellipse",Rx="cover",Hx="contain",GI=function(A,e){var t=0,n=3,i=[],r=[];return Di(e).forEach(function(s,a){var o=!0;if(a===0){var l=!1;o=s.reduce(function(u,h){if(l)if(it(h))switch(h.value){case"center":return r.push(Kp),u;case"top":case"left":return r.push(tn),u;case"right":case"bottom":return r.push(Cr),u}else(Lt(h)||Vr(h))&&r.push(h);else if(it(h))switch(h.value){case Lx:return t=0,!1;case Qx:return t=1,!1;case"at":return l=!0,!1;case Fx:return n=0,!1;case Rx:case Ux:return n=1,!1;case Hx:case Dx:return n=2,!1;case Ix:return n=3,!1}else if(Vr(h)||Lt(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},o)}if(o){var c=Iu(A,s);i.push(c)}}),{size:n,shape:t,stops:i,position:r,type:2}},Cc=function(A,e){var t=0,n=3,i=[],r=[];return Di(e).forEach(function(s,a){var o=!0;if(a===0?o=s.reduce(function(c,u){if(it(u))switch(u.value){case"center":return r.push(Kp),!1;case"top":case"left":return r.push(tn),!1;case"right":case"bottom":return r.push(Cr),!1}else if(Lt(u)||Vr(u))return r.push(u),!1;return c},o):a===1&&(o=s.reduce(function(c,u){if(it(u))switch(u.value){case Lx:return t=0,!1;case Qx:return t=1,!1;case Hx:case Fx:return n=0,!1;case Ux:return n=1,!1;case Dx:return n=2,!1;case Rx:case Ix:return n=3,!1}else if(Vr(u)||Lt(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},o)),o){var l=Iu(A,s);i.push(l)}}),{size:n,shape:t,stops:i,position:r,type:2}},kI=function(A){return A.type===1},VI=function(A){return A.type===2},Wp={name:"image",parse:function(A,e){if(e.type===22){var t={url:e.value,type:0};return A.cache.addImage(e.value),t}if(e.type===18){var n=Px[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(A,e.values)}throw new Error("Unsupported image type "+e.type)}};function zI(A){return!(A.type===20&&A.value==="none")&&(A.type!==18||!!Px[A.name])}var Px={"linear-gradient":OI,"-moz-linear-gradient":xc,"-ms-linear-gradient":xc,"-o-linear-gradient":xc,"-webkit-linear-gradient":xc,"radial-gradient":GI,"-moz-radial-gradient":Cc,"-ms-radial-gradient":Cc,"-o-radial-gradient":Cc,"-webkit-radial-gradient":Cc,"-webkit-gradient":NI},KI={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return oa(n)&&zI(n)}).map(function(n){return Wp.parse(A,n)})}},WI={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(it(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},XI={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,e){return Di(e).map(function(t){return t.filter(Lt)}).map(Cx)}},YI={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,e){return Di(e).map(function(t){return t.filter(it).map(function(n){return n.value}).join(" ")}).map(JI)}},JI=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Qs;(function(A){A.AUTO="auto",A.CONTAIN="contain",A.COVER="cover"})(Qs||(Qs={}));var ZI={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,e){return Di(e).map(function(t){return t.filter(qI)})}},qI=function(A){return it(A)||Lt(A)},Lu=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jI=Lu("top"),$I=Lu("right"),eL=Lu("bottom"),tL=Lu("left"),Qu=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Cx(t.filter(Lt))}}},nL=Qu("top-left"),iL=Qu("top-right"),rL=Qu("bottom-right"),AL=Qu("bottom-left"),Ru=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},sL=Ru("top"),aL=Ru("right"),oL=Ru("bottom"),lL=Ru("left"),Hu=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return rl(t)?t.number:0}}},cL=Hu("top"),uL=Hu("right"),hL=Hu("bottom"),fL=Hu("left"),dL={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pL={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},gL={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,e){return e.filter(it).reduce(function(t,n){return t|mL(n.value)},0)}},mL=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vL={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},wL={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},jc;(function(A){A.NORMAL="normal",A.STRICT="strict"})(jc||(jc={}));var BL={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"strict":return jc.STRICT;case"normal":default:return jc.NORMAL}}},yL={name:"line-height",initialValue:"normal",prefix:!1,type:4},P0=function(A,e){return it(A)&&A.value==="normal"?1.2*e:A.type===17?e*A.number:Lt(A)?ut(A,e):e},xL={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,e){return e.type===20&&e.value==="none"?null:Wp.parse(A,e)}},CL={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},xd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Pu=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},_L=Pu("top"),EL=Pu("right"),bL=Pu("bottom"),ML=Pu("left"),TL={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,e){return e.filter(it).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},SL={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ou=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},FL=Ou("top"),UL=Ou("right"),DL=Ou("bottom"),IL=Ou("left"),LL={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},QL={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},RL={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&yd(e[0],"none")?[]:Di(e).map(function(t){for(var n={color:Yi.TRANSPARENT,offsetX:tn,offsetY:tn,blur:tn},i=0,r=0;r<t.length;r++){var s=t[r];Vr(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:n.blur=s,i++):n.color=Ir.parse(A,s)}return n})}},HL={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},PL={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=GL[e.name];if(typeof t=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},OL=function(A){var e=A.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},NL=function(A){var e=A.filter(function(o){return o.type===17}).map(function(o){return o.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],r=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],e.length===16?[t,n,i,r,s,a]:null},GL={matrix:OL,matrix3d:NL},O0={type:16,number:50,flags:il},kL=[O0,O0],VL={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,e){var t=e.filter(Lt);return t.length!==2?kL:[t[0],t[1]]}},zL={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},mo;(function(A){A.NORMAL="normal",A.BREAK_ALL="break-all",A.KEEP_ALL="keep-all"})(mo||(mo={}));var KL={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-all":return mo.BREAK_ALL;case"keep-all":return mo.KEEP_ALL;case"normal":default:return mo.NORMAL}}},WL={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,e){if(e.type===20)return{auto:!0,order:0};if(Ba(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Ox={name:"time",parse:function(A,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},XL={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,e){return Ba(e)?e.number:1}},YL={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JL={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,e){return e.filter(it).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},ZL={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},qL={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},jL={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,e){if(Ba(e))return e.number;if(it(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},$L={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.filter(it).map(function(t){return t.value})}},e2={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Pt=function(A,e){return(A&e)!==0},t2={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},n2={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(xx),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(s.type===20){var o=a&&Ba(a)?a.number:1;n.push({counter:s.value,increment:o})}}return n}},i2={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return[];for(var t=[],n=e.filter(xx),i=0;i<n.length;i++){var r=n[i],s=n[i+1];if(it(r)&&r.value!=="none"){var a=s&&Ba(s)?s.number:0;t.push({counter:r.value,reset:a})}}return t}},r2={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,e){return e.filter(rl).map(function(t){return Ox.parse(A,t)})}},A2={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(UI);if(i.length%2!==0)return null;for(var r=0;r<i.length;r+=2){var s=i[r].value,a=i[r+1].value;n.push({open:s,close:a})}return n}},N0=function(A,e,t){if(!A)return"";var n=A[Math.min(e,A.length-1)];return n?t?n.open:n.close:""},s2={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&yd(e[0],"none")?[]:Di(e).map(function(t){for(var n={color:255,offsetX:tn,offsetY:tn,blur:tn,spread:tn,inset:!1},i=0,r=0;r<t.length;r++){var s=t[r];yd(s,"inset")?n.inset=!0:Vr(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:i===2?n.blur=s:n.spread=s,i++):n.color=Ir.parse(A,s)}return n})}},a2={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,e){var t=[0,1,2],n=[];return e.filter(it).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},o2={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},l2={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return rl(e)?e.number:0}},c2=function(){function A(e,t){var n,i;this.animationDuration=be(e,r2,t.animationDuration),this.backgroundClip=be(e,LI,t.backgroundClip),this.backgroundColor=be(e,QI,t.backgroundColor),this.backgroundImage=be(e,KI,t.backgroundImage),this.backgroundOrigin=be(e,WI,t.backgroundOrigin),this.backgroundPosition=be(e,XI,t.backgroundPosition),this.backgroundRepeat=be(e,YI,t.backgroundRepeat),this.backgroundSize=be(e,ZI,t.backgroundSize),this.borderTopColor=be(e,jI,t.borderTopColor),this.borderRightColor=be(e,$I,t.borderRightColor),this.borderBottomColor=be(e,eL,t.borderBottomColor),this.borderLeftColor=be(e,tL,t.borderLeftColor),this.borderTopLeftRadius=be(e,nL,t.borderTopLeftRadius),this.borderTopRightRadius=be(e,iL,t.borderTopRightRadius),this.borderBottomRightRadius=be(e,rL,t.borderBottomRightRadius),this.borderBottomLeftRadius=be(e,AL,t.borderBottomLeftRadius),this.borderTopStyle=be(e,sL,t.borderTopStyle),this.borderRightStyle=be(e,aL,t.borderRightStyle),this.borderBottomStyle=be(e,oL,t.borderBottomStyle),this.borderLeftStyle=be(e,lL,t.borderLeftStyle),this.borderTopWidth=be(e,cL,t.borderTopWidth),this.borderRightWidth=be(e,uL,t.borderRightWidth),this.borderBottomWidth=be(e,hL,t.borderBottomWidth),this.borderLeftWidth=be(e,fL,t.borderLeftWidth),this.boxShadow=be(e,s2,t.boxShadow),this.color=be(e,dL,t.color),this.direction=be(e,pL,t.direction),this.display=be(e,gL,t.display),this.float=be(e,vL,t.cssFloat),this.fontFamily=be(e,ZL,t.fontFamily),this.fontSize=be(e,qL,t.fontSize),this.fontStyle=be(e,e2,t.fontStyle),this.fontVariant=be(e,$L,t.fontVariant),this.fontWeight=be(e,jL,t.fontWeight),this.letterSpacing=be(e,wL,t.letterSpacing),this.lineBreak=be(e,BL,t.lineBreak),this.lineHeight=be(e,yL,t.lineHeight),this.listStyleImage=be(e,xL,t.listStyleImage),this.listStylePosition=be(e,CL,t.listStylePosition),this.listStyleType=be(e,xd,t.listStyleType),this.marginTop=be(e,_L,t.marginTop),this.marginRight=be(e,EL,t.marginRight),this.marginBottom=be(e,bL,t.marginBottom),this.marginLeft=be(e,ML,t.marginLeft),this.opacity=be(e,XL,t.opacity);var r=be(e,TL,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=be(e,SL,t.overflowWrap),this.paddingTop=be(e,FL,t.paddingTop),this.paddingRight=be(e,UL,t.paddingRight),this.paddingBottom=be(e,DL,t.paddingBottom),this.paddingLeft=be(e,IL,t.paddingLeft),this.paintOrder=be(e,a2,t.paintOrder),this.position=be(e,QL,t.position),this.textAlign=be(e,LL,t.textAlign),this.textDecorationColor=be(e,YL,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=be(e,JL,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=be(e,RL,t.textShadow),this.textTransform=be(e,HL,t.textTransform),this.transform=be(e,PL,t.transform),this.transformOrigin=be(e,VL,t.transformOrigin),this.visibility=be(e,zL,t.visibility),this.webkitTextStrokeColor=be(e,o2,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=be(e,l2,t.webkitTextStrokeWidth),this.wordBreak=be(e,KL,t.wordBreak),this.zIndex=be(e,WL,t.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},A.prototype.isTransparent=function(){return Lr(this.backgroundColor)},A.prototype.isTransformed=function(){return this.transform!==null},A.prototype.isPositioned=function(){return this.position!==0},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return this.float!==0},A.prototype.isInlineLevel=function(){return Pt(this.display,4)||Pt(this.display,33554432)||Pt(this.display,268435456)||Pt(this.display,536870912)||Pt(this.display,67108864)||Pt(this.display,134217728)},A}(),u2=function(){function A(e,t){this.content=be(e,t2,t.content),this.quotes=be(e,A2,t.quotes)}return A}(),G0=function(){function A(e,t){this.counterIncrement=be(e,n2,t.counterIncrement),this.counterReset=be(e,i2,t.counterReset)}return A}(),be=function(A,e,t){var n=new Bx,i=t!==null&&typeof t!="undefined"?t.toString():e.initialValue;n.write(i);var r=new yx(n.read());switch(e.type){case 2:var s=r.parseComponentValue();return e.parse(A,it(s)?s.value:e.initialValue);case 0:return e.parse(A,r.parseComponentValue());case 1:return e.parse(A,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(e.format){case"angle":return Du.parse(A,r.parseComponentValue());case"color":return Ir.parse(A,r.parseComponentValue());case"image":return Wp.parse(A,r.parseComponentValue());case"length":var a=r.parseComponentValue();return Vr(a)?a:tn;case"length-percentage":var o=r.parseComponentValue();return Lt(o)?o:tn;case"time":return Ox.parse(A,r.parseComponentValue())}break}},h2="data-html2canvas-debug",f2=function(A){var e=A.getAttribute(h2);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Cd=function(A,e){var t=f2(A);return t===1||e===t},Ii=function(){function A(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Cd(t,3))debugger;this.styles=new c2(e,window.getComputedStyle(t,null)),bd(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Fu(this.context,t),Cd(t,4)&&(this.flags|=16)}return A}(),d2="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",k0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ro=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var _c=0;_c<k0.length;_c++)ro[k0.charCodeAt(_c)]=_c;var p2=function(A){var e=A.length*.75,t=A.length,n,i=0,r,s,a,o;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var l=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<t;n+=4)r=ro[A.charCodeAt(n)],s=ro[A.charCodeAt(n+1)],a=ro[A.charCodeAt(n+2)],o=ro[A.charCodeAt(n+3)],c[i++]=r<<2|s>>4,c[i++]=(s&15)<<4|a>>2,c[i++]=(a&3)<<6|o&63;return l},g2=function(A){for(var e=A.length,t=[],n=0;n<e;n+=2)t.push(A[n+1]<<8|A[n]);return t},m2=function(A){for(var e=A.length,t=[],n=0;n<e;n+=4)t.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return t},TA=5,Xp=6+5,Af=2,v2=Xp-TA,Nx=65536>>TA,w2=1<<TA,sf=w2-1,B2=1024>>TA,y2=Nx+B2,x2=y2,C2=32,_2=x2+C2,E2=65536>>Xp,b2=1<<v2,M2=b2-1,V0=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},T2=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},S2=function(A,e){var t=p2(A),n=Array.isArray(t)?m2(t):new Uint32Array(t),i=Array.isArray(t)?g2(t):new Uint16Array(t),r=24,s=V0(i,r/2,n[4]/2),a=n[5]===2?V0(i,(r+n[4])/2):T2(n,Math.ceil((r+n[4])/4));return new F2(n[0],n[1],n[2],n[3],s,a)},F2=function(){function A(e,t,n,i,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=s}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>TA],t=(t<<Af)+(e&sf),this.data[t];if(e<=65535)return t=this.index[Nx+(e-55296>>TA)],t=(t<<Af)+(e&sf),this.data[t];if(e<this.highStart)return t=_2-E2+(e>>Xp),t=this.index[t],t+=e>>TA&M2,t=this.index[t],t=(t<<Af)+(e&sf),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),z0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U2=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Ec=0;Ec<z0.length;Ec++)U2[z0.charCodeAt(Ec)]=Ec;var D2=1,af=2,of=3,K0=4,W0=5,I2=7,X0=8,lf=9,cf=10,Y0=11,J0=12,Z0=13,q0=14,uf=15,L2=function(A){for(var e=[],t=0,n=A.length;t<n;){var i=A.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var r=A.charCodeAt(t++);(r&64512)===56320?e.push(((i&1023)<<10)+(r&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Q2=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var n=[],i=-1,r="";++i<t;){var s=A[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===t||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},R2=S2(d2),zn="\xD7",hf="\xF7",H2=function(A){return R2.get(A)},P2=function(A,e,t){var n=t-2,i=e[n],r=e[t-1],s=e[t];if(r===af&&s===of)return zn;if(r===af||r===of||r===K0||s===af||s===of||s===K0)return hf;if(r===X0&&[X0,lf,Y0,J0].indexOf(s)!==-1||(r===Y0||r===lf)&&(s===lf||s===cf)||(r===J0||r===cf)&&s===cf||s===Z0||s===W0||s===I2||r===D2)return zn;if(r===Z0&&s===q0){for(;i===W0;)i=e[--n];if(i===q0)return zn}if(r===uf&&s===uf){for(var a=0;i===uf;)a++,i=e[--n];if(a%2===0)return zn}return hf},O2=function(A){var e=L2(A),t=e.length,n=0,i=0,r=e.map(H2);return{next:function(){if(n>=t)return{done:!0,value:null};for(var s=zn;n<t&&(s=P2(e,r,++n))===zn;);if(s!==zn||n===t){var a=Q2.apply(null,e.slice(i,n));return i=n,{value:a,done:!1}}return{done:!0,value:null}}}},N2=function(A){for(var e=O2(A),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},G2=function(A){var e=123;if(A.createRange){var t=A.createRange();if(t.getBoundingClientRect){var n=A.createElement("boundtest");n.style.height=e+"px",n.style.display="block",A.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),r=Math.round(i.height);if(A.body.removeChild(n),r===e)return!0}}return!1},k2=function(A){var e=A.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",A.body.appendChild(e);var t=A.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Uu(n.data).map(function(o){return St(o)}),r=0,s={},a=i.every(function(o,l){t.setStart(n,r),t.setEnd(n,r+o.length);var c=t.getBoundingClientRect();r+=o.length;var u=c.x>s.x||c.y>s.y;return s=c,l===0?!0:u});return A.body.removeChild(e),a},V2=function(){return typeof new Image().crossOrigin!="undefined"},z2=function(){return typeof new XMLHttpRequest().responseType=="string"},K2=function(A){var e=new Image,t=A.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},j0=function(A){return A[0]===0&&A[1]===255&&A[2]===0&&A[3]===255},W2=function(A){var e=A.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,r=e.toDataURL();i.src=r;var s=_d(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),$0(s).then(function(a){n.drawImage(a,0,0);var o=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var l=A.createElement("div");return l.style.backgroundImage="url("+r+")",l.style.height=t+"px",j0(o)?$0(_d(t,t,0,0,l)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),j0(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},_d=function(A,e,t,n,i){var r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return s.setAttributeNS(null,"width",A.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},$0=function(A){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},jt={get SUPPORT_RANGE_BOUNDS(){var A=G2(document);return Object.defineProperty(jt,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=jt.SUPPORT_RANGE_BOUNDS&&k2(document);return Object.defineProperty(jt,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=K2(document);return Object.defineProperty(jt,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A=typeof Array.from=="function"&&typeof window.fetch=="function"?W2(document):Promise.resolve(!1);return Object.defineProperty(jt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=V2();return Object.defineProperty(jt,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A=z2();return Object.defineProperty(jt,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(jt,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(jt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},vo=function(){function A(e,t){this.text=e,this.bounds=t}return A}(),X2=function(A,e,t,n){var i=Z2(e,t),r=[],s=0;return i.forEach(function(a){if(t.textDecorationLine.length||a.trim().length>0)if(jt.SUPPORT_RANGE_BOUNDS){var o=ev(n,s,a.length).getClientRects();if(o.length>1){var l=Yp(a),c=0;l.forEach(function(h){r.push(new vo(h,$i.fromDOMRectList(A,ev(n,c+s,h.length).getClientRects()))),c+=h.length})}else r.push(new vo(a,$i.fromDOMRectList(A,o)))}else{var u=n.splitText(a.length);r.push(new vo(a,Y2(A,n))),n=u}else jt.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));s+=a.length}),r},Y2=function(A,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var r=Fu(A,n);return n.firstChild&&i.replaceChild(n.firstChild,n),r}}return $i.EMPTY},ev=function(A,e,t){var n=A.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(A,e),i.setEnd(A,e+t),i},Yp=function(A){if(jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(A)).map(function(t){return t.segment})}return N2(A)},J2=function(A,e){if(jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(A)).map(function(n){return n.segment})}return j2(A,e)},Z2=function(A,e){return e.letterSpacing!==0?Yp(A):J2(A,e)},q2=[32,160,4961,65792,65793,4153,4241],j2=function(A,e){for(var t=ED(A,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,r=function(){if(i.value){var s=i.value.slice(),a=Uu(s),o="";a.forEach(function(l){q2.indexOf(l)===-1?o+=St(l):(o.length&&n.push(o),n.push(St(l)),o="")}),o.length&&n.push(o)}};!(i=t.next()).done;)r();return n},$2=function(){function A(e,t,n){this.text=eQ(t.data,n.textTransform),this.textBounds=X2(e,this.text,n,t)}return A}(),eQ=function(A,e){switch(e){case 1:return A.toLowerCase();case 3:return A.replace(tQ,nQ);case 2:return A.toUpperCase();default:return A}},tQ=/(^|\s|:|-|\(|\))([a-z])/g,nQ=function(A,e,t){return A.length>0?e+t.toUpperCase():A},Gx=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Ii),kx=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Ii),Vx=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this,r=new XMLSerializer,s=Fu(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Ii),zx=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;return i.value=n.value,i}return e}(Ii),Ed=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Ii),iQ=[{type:15,flags:0,unit:"px",number:3}],rQ=[{type:16,flags:0,number:50}],AQ=function(A){return A.width>A.height?new $i(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new $i(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A},sQ=function(A){var e=A.type===aQ?new Array(A.value.length+1).join("\u2022"):A.value;return e.length===0?A.placeholder||"":e},$c="checkbox",eu="radio",aQ="password",tv=707406591,Jp=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=sQ(n),(i.type===$c||i.type===eu)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=AQ(i.bounds)),i.type){case $c:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=iQ;break;case eu:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=rQ;break}return i}return e}(Ii),Kx=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this,r=n.options[n.selectedIndex||0];return i.value=r&&r.text||"",i}return e}(Ii),Wx=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;return i.value=n.value,i}return e}(Ii),Xx=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=Jx(t,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?go(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Yi.TRANSPARENT,s=n.contentWindow.document.body?go(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Yi.TRANSPARENT;i.backgroundColor=Lr(r)?Lr(s)?i.styles.backgroundColor:s:r}}catch{}return i}return e}(Ii),oQ=["OL","UL","MENU"],Rc=function(A,e,t,n){for(var i=e.firstChild,r=void 0;i;i=r)if(r=i.nextSibling,Zx(i)&&i.data.trim().length>0)t.textNodes.push(new $2(A,i,t.styles));else if(Ss(i))if(eC(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return Rc(A,a,t,n)});else{var s=Yx(A,i);s.styles.isVisible()&&(lQ(i,s,n)?s.flags|=4:cQ(s.styles)&&(s.flags|=2),oQ.indexOf(i.tagName)!==-1&&(s.flags|=8),t.elements.push(s),i.slot,i.shadowRoot?Rc(A,i.shadowRoot,s,n):!tu(i)&&!qx(i)&&!nu(i)&&Rc(A,i,s,n))}},Yx=function(A,e){return Md(e)?new Gx(A,e):jx(e)?new kx(A,e):qx(e)?new Vx(A,e):uQ(e)?new zx(A,e):hQ(e)?new Ed(A,e):fQ(e)?new Jp(A,e):nu(e)?new Kx(A,e):tu(e)?new Wx(A,e):$x(e)?new Xx(A,e):new Ii(A,e)},Jx=function(A,e){var t=Yx(A,e);return t.flags|=4,Rc(A,e,t,t),t},lQ=function(A,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Zp(A)&&t.styles.isTransparent()},cQ=function(A){return A.isPositioned()||A.isFloating()},Zx=function(A){return A.nodeType===Node.TEXT_NODE},Ss=function(A){return A.nodeType===Node.ELEMENT_NODE},bd=function(A){return Ss(A)&&typeof A.style!="undefined"&&!Hc(A)},Hc=function(A){return typeof A.className=="object"},uQ=function(A){return A.tagName==="LI"},hQ=function(A){return A.tagName==="OL"},fQ=function(A){return A.tagName==="INPUT"},dQ=function(A){return A.tagName==="HTML"},qx=function(A){return A.tagName==="svg"},Zp=function(A){return A.tagName==="BODY"},jx=function(A){return A.tagName==="CANVAS"},nv=function(A){return A.tagName==="VIDEO"},Md=function(A){return A.tagName==="IMG"},$x=function(A){return A.tagName==="IFRAME"},iv=function(A){return A.tagName==="STYLE"},pQ=function(A){return A.tagName==="SCRIPT"},tu=function(A){return A.tagName==="TEXTAREA"},nu=function(A){return A.tagName==="SELECT"},eC=function(A){return A.tagName==="SLOT"},rv=function(A){return A.tagName.indexOf("-")>0},gQ=function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},A.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},A.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},A.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,r=!0;n!==null&&n.forEach(function(a){var o=t.counters[a.counter];o&&a.increment!==0&&(r=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var s=[];return r&&i.forEach(function(a){var o=t.counters[a.counter];s.push(a.counter),o||(o=t.counters[a.counter]=[]),o.push(a.reset)}),s},A}(),Av={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},sv={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},mQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},vQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},ws=function(A,e,t,n,i,r){return A<e||A>t?Go(A,i,r.length>0):n.integers.reduce(function(s,a,o){for(;A>=a;)A-=a,s+=n.values[o];return s},"")+r},tC=function(A,e,t,n){var i="";do t||A--,i=n(A)+i,A/=e;while(A*e>=e);return i},Tt=function(A,e,t,n,i){var r=t-e+1;return(A<0?"-":"")+(tC(Math.abs(A),r,n,function(s){return St(Math.floor(s%r)+e)})+i)},AA=function(A,e,t){t===void 0&&(t=". ");var n=e.length;return tC(Math.abs(A),n,!1,function(i){return e[Math.floor(i%n)]})+t},xs=1<<0,pr=1<<1,gr=1<<2,Ao=1<<3,Gi=function(A,e,t,n,i,r){if(A<-9999||A>9999)return Go(A,4,i.length>0);var s=Math.abs(A),a=i;if(s===0)return e[0]+a;for(var o=0;s>0&&o<=4;o++){var l=s%10;l===0&&Pt(r,xs)&&a!==""?a=e[l]+a:l>1||l===1&&o===0||l===1&&o===1&&Pt(r,pr)||l===1&&o===1&&Pt(r,gr)&&A>100||l===1&&o>1&&Pt(r,Ao)?a=e[l]+(o>0?t[o-1]:"")+a:l===1&&o>0&&(a=t[o-1]+a),s=Math.floor(s/10)}return(A<0?n:"")+a},av="\u5341\u767E\u5343\u842C",ov="\u62FE\u4F70\u4EDF\u842C",lv="\u30DE\u30A4\u30CA\u30B9",ff="\uB9C8\uC774\uB108\uC2A4",Go=function(A,e,t){var n=t?". ":"",i=t?"\u3001":"",r=t?", ":"",s=t?" ":"";switch(e){case 0:return"\u2022"+s;case 1:return"\u25E6"+s;case 2:return"\u25FE"+s;case 5:var a=Tt(A,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return AA(A,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",i);case 6:return ws(A,1,3999,Av,3,n).toLowerCase();case 7:return ws(A,1,3999,Av,3,n);case 8:return Tt(A,945,969,!1,n);case 9:return Tt(A,97,122,!1,n);case 10:return Tt(A,65,90,!1,n);case 11:return Tt(A,1632,1641,!0,n);case 12:case 49:return ws(A,1,9999,sv,3,n);case 35:return ws(A,1,9999,sv,3,n).toLowerCase();case 13:return Tt(A,2534,2543,!0,n);case 14:case 30:return Tt(A,6112,6121,!0,n);case 15:return AA(A,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",i);case 16:return AA(A,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",i);case 17:case 48:return Gi(A,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",av,"\u8CA0",i,pr|gr|Ao);case 47:return Gi(A,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",ov,"\u8CA0",i,xs|pr|gr|Ao);case 42:return Gi(A,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",av,"\u8D1F",i,pr|gr|Ao);case 41:return Gi(A,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",ov,"\u8D1F",i,xs|pr|gr|Ao);case 26:return Gi(A,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",lv,i,0);case 25:return Gi(A,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",lv,i,xs|pr|gr);case 31:return Gi(A,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",ff,r,xs|pr|gr);case 33:return Gi(A,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",ff,r,0);case 32:return Gi(A,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",ff,r,xs|pr|gr);case 18:return Tt(A,2406,2415,!0,n);case 20:return ws(A,1,19999,vQ,3,n);case 21:return Tt(A,2790,2799,!0,n);case 22:return Tt(A,2662,2671,!0,n);case 22:return ws(A,1,10999,mQ,3,n);case 23:return AA(A,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return AA(A,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return Tt(A,3302,3311,!0,n);case 28:return AA(A,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",i);case 29:return AA(A,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",i);case 34:return Tt(A,3792,3801,!0,n);case 37:return Tt(A,6160,6169,!0,n);case 38:return Tt(A,4160,4169,!0,n);case 39:return Tt(A,2918,2927,!0,n);case 40:return Tt(A,1776,1785,!0,n);case 43:return Tt(A,3046,3055,!0,n);case 44:return Tt(A,3174,3183,!0,n);case 45:return Tt(A,3664,3673,!0,n);case 46:return Tt(A,3872,3881,!0,n);case 3:default:return Tt(A,48,57,!0,n)}},nC="data-html2canvas-ignore",cv=function(){function A(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new gQ,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(e,t){var n=this,i=wQ(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var r=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,a=i.contentWindow,o=a.document,l=xQ(i).then(function(){return un(n,void 0,void 0,function(){var c,u;return An(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(bQ),a&&(a.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==t.top||a.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yQ(o)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(o,u)}).then(function(){return i})]:[2,i]}})})});return o.open(),o.write(_Q(document.doctype)+"<html></html>"),EQ(this.referenceElement.ownerDocument,r,s),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),l},A.prototype.createElementClone=function(e){if(Cd(e,2))debugger;if(jx(e))return this.createCanvasClone(e);if(nv(e))return this.createVideoClone(e);if(iv(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Md(t)&&(Md(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),rv(t)?this.createCustomElementClone(t):t},A.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return df(e.style,t),t},A.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(r,s){return s&&typeof s.cssText=="string"?r+s.cssText:r},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),r.name!=="SecurityError")throw r}return e.cloneNode(!1)},A.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var r=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&r)s.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var a=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},A.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},A.prototype.appendChildNode=function(e,t,n){(!Ss(t)||!pQ(t)&&!t.hasAttribute(nC)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ss(t)||!iv(t))&&e.appendChild(this.cloneNode(t,n))},A.prototype.cloneChildNodes=function(e,t,n){for(var i=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(Ss(r)&&eC(r)&&typeof r.assignedNodes=="function"){var s=r.assignedNodes();s.length&&s.forEach(function(a){return i.appendChildNode(t,a,n)})}else this.appendChildNode(t,r,n)},A.prototype.cloneNode=function(e,t){if(Zx(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ss(e)&&(bd(e)||Hc(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var r=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&bd(i)&&(this.clonedReferenceElement=i),Zp(i)&&SQ(i);var o=this.counters.parse(new G0(this.context,r)),l=this.resolvePseudoContent(e,i,s,wo.BEFORE);rv(e)&&(t=!0),nv(e)||this.cloneChildNodes(e,i,t),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,a,wo.AFTER);return c&&i.appendChild(c),this.counters.pop(o),(r&&(this.options.copyStyles||Hc(e))&&!$x(e)||t)&&df(r,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(tu(e)||nu(e))&&(tu(i)||nu(i))&&(i.value=e.value),i}return e.cloneNode(!1)},A.prototype.resolvePseudoContent=function(e,t,n,i){var r=this;if(!!n){var s=n.content,a=t.ownerDocument;if(!(!a||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new G0(this.context,n));var o=new u2(this.context,n),l=a.createElement("html2canvaspseudoelement");df(n,l),o.content.forEach(function(u){if(u.type===0)l.appendChild(a.createTextNode(u.value));else if(u.type===22){var h=a.createElement("img");h.src=u.value,h.style.opacity="1",l.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(it);f.length&&l.appendChild(a.createTextNode(e.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var d=u.values.filter(oa),p=d[0],v=d[1];if(p&&it(p)){var g=r.counters.getCounterValue(p.value),m=v&&it(v)?xd.parse(r.context,v.value):3;l.appendChild(a.createTextNode(Go(g,m,!1)))}}else if(u.name==="counters"){var w=u.values.filter(oa),p=w[0],B=w[1],v=w[2];if(p&&it(p)){var y=r.counters.getCounterValues(p.value),C=v&&it(v)?xd.parse(r.context,v.value):3,x=B&&B.type===0?B.value:"",E=y.map(function(N){return Go(N,C,!1)}).join(x);l.appendChild(a.createTextNode(E))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(a.createTextNode(N0(o.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(N0(o.quotes,--r.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(u.value))}}),l.className=Td+" "+Sd;var c=i===wo.BEFORE?" "+Td:" "+Sd;return Hc(t)?t.className.baseValue+=c:t.className+=c,l}}},A.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},A}(),wo;(function(A){A[A.BEFORE=0]="BEFORE",A[A.AFTER=1]="AFTER"})(wo||(wo={}));var wQ=function(A,e){var t=A.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(nC,"true"),A.body.appendChild(t),t},BQ=function(A){return new Promise(function(e){if(A.complete){e();return}if(!A.src){e();return}A.onload=e,A.onerror=e})},yQ=function(A){return Promise.all([].slice.call(A.images,0).map(BQ))},xQ=function(A){return new Promise(function(e,t){var n=A.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=A.onload=function(){n.onload=A.onload=null;var r=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(r),e(A))},50)}})},CQ=["all","d","content"],df=function(A,e){for(var t=A.length-1;t>=0;t--){var n=A.item(t);CQ.indexOf(n)===-1&&e.style.setProperty(n,A.getPropertyValue(n))}return e},_Q=function(A){var e="";return A&&(e+="<!DOCTYPE ",A.name&&(e+=A.name),A.internalSubset&&(e+=A.internalSubset),A.publicId&&(e+='"'+A.publicId+'"'),A.systemId&&(e+='"'+A.systemId+'"'),e+=">"),e},EQ=function(A,e,t){A&&A.defaultView&&(e!==A.defaultView.pageXOffset||t!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(e,t)},bQ=function(A){var e=A[0],t=A[1],n=A[2];e.scrollLeft=t,e.scrollTop=n},MQ=":before",TQ=":after",Td="___html2canvas___pseudoelement_before",Sd="___html2canvas___pseudoelement_after",uv=`{
    content: "" !important;
    display: none !important;
}`,SQ=function(A){FQ(A,"."+Td+MQ+uv+`
         .`+Sd+TQ+uv)},FQ=function(A,e){var t=A.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,A.appendChild(n)}},iC=function(){function A(){}return A.getOrigin=function(e){var t=A._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},A.isSameOrigin=function(e){return A.getOrigin(e)===A._origin},A.setContext=function(e){A._link=e.document.createElement("a"),A._origin=A.getOrigin(e.location.href)},A._origin="about:blank",A}(),UQ=function(){function A(e,t){this.context=e,this._options=t,this._cache={}}return A.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(gf(e)||QQ(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},A.prototype.match=function(e){return this._cache[e]},A.prototype.loadImage=function(e){return un(this,void 0,void 0,function(){var t,n,i,r,s=this;return An(this,function(a){switch(a.label){case 0:return t=iC.isSameOrigin(e),n=!pf(e)&&this._options.useCORS===!0&&jt.SUPPORT_CORS_IMAGES&&!t,i=!pf(e)&&!t&&!gf(e)&&typeof this._options.proxy=="string"&&jt.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!pf(e)&&!gf(e)&&!i&&!n?[2]:(r=e,i?[4,this.proxy(r)]:[3,2]);case 1:r=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,l){var c=new Image;c.onload=function(){return o(c)},c.onerror=l,(RQ(r)||n)&&(c.crossOrigin="anonymous"),c.src=r,c.complete===!0&&setTimeout(function(){return o(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},A.prototype.has=function(e){return typeof this._cache[e]!="undefined"},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(r,s){var a=jt.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")r(o.response);else{var u=new FileReader;u.addEventListener("load",function(){return r(u.result)},!1),u.addEventListener("error",function(h){return s(h)},!1),u.readAsDataURL(o.response)}else s("Failed to proxy resource "+i+" with status code "+o.status)},o.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),t._options.imageTimeout){var c=t._options.imageTimeout;o.timeout=c,o.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+i)}}o.send()})},A}(),DQ=/^data:image\/svg\+xml/i,IQ=/^data:image\/.*;base64,/i,LQ=/^data:image\/.*/i,QQ=function(A){return jt.SUPPORT_SVG_DRAWING||!HQ(A)},pf=function(A){return LQ.test(A)},RQ=function(A){return IQ.test(A)},gf=function(A){return A.substr(0,4)==="blob"},HQ=function(A){return A.substr(-3).toLowerCase()==="svg"||DQ.test(A)},Ee=function(){function A(e,t){this.type=0,this.x=e,this.y=t}return A.prototype.add=function(e,t){return new A(this.x+e,this.y+t)},A}(),Bs=function(A,e,t){return new Ee(A.x+(e.x-A.x)*t,A.y+(e.y-A.y)*t)},bc=function(){function A(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return A.prototype.subdivide=function(e,t){var n=Bs(this.start,this.startControl,e),i=Bs(this.startControl,this.endControl,e),r=Bs(this.endControl,this.end,e),s=Bs(n,i,e),a=Bs(i,r,e),o=Bs(s,a,e);return t?new A(this.start,n,s,o):new A(o,a,r,this.end)},A.prototype.add=function(e,t){return new A(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A}(),Kn=function(A){return A.type===1},PQ=function(){function A(e){var t=e.styles,n=e.bounds,i=io(t.borderTopLeftRadius,n.width,n.height),r=i[0],s=i[1],a=io(t.borderTopRightRadius,n.width,n.height),o=a[0],l=a[1],c=io(t.borderBottomRightRadius,n.width,n.height),u=c[0],h=c[1],f=io(t.borderBottomLeftRadius,n.width,n.height),d=f[0],p=f[1],v=[];v.push((r+o)/n.width),v.push((d+u)/n.width),v.push((s+p)/n.height),v.push((l+h)/n.height);var g=Math.max.apply(Math,v);g>1&&(r/=g,s/=g,o/=g,l/=g,u/=g,h/=g,d/=g,p/=g);var m=n.width-o,w=n.height-h,B=n.width-u,y=n.height-p,C=t.borderTopWidth,x=t.borderRightWidth,E=t.borderBottomWidth,M=t.borderLeftWidth,H=ut(t.paddingTop,e.bounds.width),N=ut(t.paddingRight,e.bounds.width),O=ut(t.paddingBottom,e.bounds.width),Q=ut(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||s>0?vt(n.left+M/3,n.top+C/3,r-M/3,s-C/3,et.TOP_LEFT):new Ee(n.left+M/3,n.top+C/3),this.topRightBorderDoubleOuterBox=r>0||s>0?vt(n.left+m,n.top+C/3,o-x/3,l-C/3,et.TOP_RIGHT):new Ee(n.left+n.width-x/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?vt(n.left+B,n.top+w,u-x/3,h-E/3,et.BOTTOM_RIGHT):new Ee(n.left+n.width-x/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?vt(n.left+M/3,n.top+y,d-M/3,p-E/3,et.BOTTOM_LEFT):new Ee(n.left+M/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=r>0||s>0?vt(n.left+M*2/3,n.top+C*2/3,r-M*2/3,s-C*2/3,et.TOP_LEFT):new Ee(n.left+M*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=r>0||s>0?vt(n.left+m,n.top+C*2/3,o-x*2/3,l-C*2/3,et.TOP_RIGHT):new Ee(n.left+n.width-x*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?vt(n.left+B,n.top+w,u-x*2/3,h-E*2/3,et.BOTTOM_RIGHT):new Ee(n.left+n.width-x*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?vt(n.left+M*2/3,n.top+y,d-M*2/3,p-E*2/3,et.BOTTOM_LEFT):new Ee(n.left+M*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=r>0||s>0?vt(n.left+M/2,n.top+C/2,r-M/2,s-C/2,et.TOP_LEFT):new Ee(n.left+M/2,n.top+C/2),this.topRightBorderStroke=r>0||s>0?vt(n.left+m,n.top+C/2,o-x/2,l-C/2,et.TOP_RIGHT):new Ee(n.left+n.width-x/2,n.top+C/2),this.bottomRightBorderStroke=u>0||h>0?vt(n.left+B,n.top+w,u-x/2,h-E/2,et.BOTTOM_RIGHT):new Ee(n.left+n.width-x/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=d>0||p>0?vt(n.left+M/2,n.top+y,d-M/2,p-E/2,et.BOTTOM_LEFT):new Ee(n.left+M/2,n.top+n.height-E/2),this.topLeftBorderBox=r>0||s>0?vt(n.left,n.top,r,s,et.TOP_LEFT):new Ee(n.left,n.top),this.topRightBorderBox=o>0||l>0?vt(n.left+m,n.top,o,l,et.TOP_RIGHT):new Ee(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||h>0?vt(n.left+B,n.top+w,u,h,et.BOTTOM_RIGHT):new Ee(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?vt(n.left,n.top+y,d,p,et.BOTTOM_LEFT):new Ee(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||s>0?vt(n.left+M,n.top+C,Math.max(0,r-M),Math.max(0,s-C),et.TOP_LEFT):new Ee(n.left+M,n.top+C),this.topRightPaddingBox=o>0||l>0?vt(n.left+Math.min(m,n.width-x),n.top+C,m>n.width+x?0:Math.max(0,o-x),Math.max(0,l-C),et.TOP_RIGHT):new Ee(n.left+n.width-x,n.top+C),this.bottomRightPaddingBox=u>0||h>0?vt(n.left+Math.min(B,n.width-M),n.top+Math.min(w,n.height-E),Math.max(0,u-x),Math.max(0,h-E),et.BOTTOM_RIGHT):new Ee(n.left+n.width-x,n.top+n.height-E),this.bottomLeftPaddingBox=d>0||p>0?vt(n.left+M,n.top+Math.min(y,n.height-E),Math.max(0,d-M),Math.max(0,p-E),et.BOTTOM_LEFT):new Ee(n.left+M,n.top+n.height-E),this.topLeftContentBox=r>0||s>0?vt(n.left+M+Q,n.top+C+H,Math.max(0,r-(M+Q)),Math.max(0,s-(C+H)),et.TOP_LEFT):new Ee(n.left+M+Q,n.top+C+H),this.topRightContentBox=o>0||l>0?vt(n.left+Math.min(m,n.width+M+Q),n.top+C+H,m>n.width+M+Q?0:o-M+Q,l-(C+H),et.TOP_RIGHT):new Ee(n.left+n.width-(x+N),n.top+C+H),this.bottomRightContentBox=u>0||h>0?vt(n.left+Math.min(B,n.width-(M+Q)),n.top+Math.min(w,n.height+C+H),Math.max(0,u-(x+N)),h-(E+O),et.BOTTOM_RIGHT):new Ee(n.left+n.width-(x+N),n.top+n.height-(E+O)),this.bottomLeftContentBox=d>0||p>0?vt(n.left+M+Q,n.top+y,Math.max(0,d-(M+Q)),p-(E+O),et.BOTTOM_LEFT):new Ee(n.left+M+Q,n.top+n.height-(E+O))}return A}(),et;(function(A){A[A.TOP_LEFT=0]="TOP_LEFT",A[A.TOP_RIGHT=1]="TOP_RIGHT",A[A.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",A[A.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(et||(et={}));var vt=function(A,e,t,n,i){var r=4*((Math.sqrt(2)-1)/3),s=t*r,a=n*r,o=A+t,l=e+n;switch(i){case et.TOP_LEFT:return new bc(new Ee(A,l),new Ee(A,l-a),new Ee(o-s,e),new Ee(o,e));case et.TOP_RIGHT:return new bc(new Ee(A,e),new Ee(A+s,e),new Ee(o,l-a),new Ee(o,l));case et.BOTTOM_RIGHT:return new bc(new Ee(o,e),new Ee(o,e+a),new Ee(A+s,l),new Ee(A,l));case et.BOTTOM_LEFT:default:return new bc(new Ee(o,l),new Ee(o-s,l),new Ee(A,e+a),new Ee(A,e))}},iu=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},OQ=function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]},ru=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},NQ=function(){function A(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return A}(),Mc=function(){function A(e,t){this.path=e,this.target=t,this.type=1}return A}(),GQ=function(){function A(e){this.opacity=e,this.type=2,this.target=6}return A}(),kQ=function(A){return A.type===0},rC=function(A){return A.type===1},VQ=function(A){return A.type===2},hv=function(A,e){return A.length===e.length?A.some(function(t,n){return t===e[n]}):!1},zQ=function(A,e,t,n,i){return A.map(function(r,s){switch(s){case 0:return r.add(e,t);case 1:return r.add(e+n,t);case 2:return r.add(e+n,t+i);case 3:return r.add(e,t+i)}return r})},AC=function(){function A(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return A}(),sC=function(){function A(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new PQ(this.container),this.container.styles.opacity<1&&this.effects.push(new GQ(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new NQ(n,i,r))}if(this.container.styles.overflowX!==0){var s=iu(this.curves),a=ru(this.curves);hv(s,a)?this.effects.push(new Mc(s,6)):(this.effects.push(new Mc(s,2)),this.effects.push(new Mc(a,4)))}}return A.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var r=n.effects.filter(function(o){return!rC(o)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,r),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=iu(n.curves),a=ru(n.curves);hv(s,a)||i.unshift(new Mc(a,6))}}else i.unshift.apply(i,r);n=n.parent}return i.filter(function(o){return Pt(o.target,e)})},A}(),Fd=function(A,e,t,n){A.container.elements.forEach(function(i){var r=Pt(i.flags,4),s=Pt(i.flags,2),a=new sC(i,A);Pt(i.styles.display,2048)&&n.push(a);var o=Pt(i.flags,8)?[]:n;if(r||s){var l=r||i.styles.isPositioned()?t:e,c=new AC(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some(function(d,p){return u>d.element.container.styles.zIndex.order?(h=p,!1):h>0}),l.negativeZIndex.splice(h,0,c)}else if(u>0){var f=0;l.positiveZIndex.some(function(d,p){return u>=d.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Fd(a,c,r?c:t,o)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Fd(a,e,t,o);Pt(i.flags,8)&&aC(i,o)})},aC=function(A,e){for(var t=A instanceof Ed?A.start:1,n=A instanceof Ed?A.reversed:!1,i=0;i<e.length;i++){var r=e[i];r.container instanceof zx&&typeof r.container.value=="number"&&r.container.value!==0&&(t=r.container.value),r.listValue=Go(t,r.container.styles.listStyleType,!0),t+=n?-1:1}},KQ=function(A){var e=new sC(A,null),t=new AC(e),n=[];return Fd(e,t,t,n),aC(e.container,n),t},fv=function(A,e){switch(e){case 0:return qn(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return qn(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return qn(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);case 3:default:return qn(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},WQ=function(A,e){switch(e){case 0:return qn(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return qn(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return qn(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);case 3:default:return qn(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}},XQ=function(A,e){switch(e){case 0:return qn(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return qn(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return qn(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);case 3:default:return qn(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}},YQ=function(A,e){switch(e){case 0:return Tc(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return Tc(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return Tc(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);case 3:default:return Tc(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}},Tc=function(A,e){var t=[];return Kn(A)?t.push(A.subdivide(.5,!1)):t.push(A),Kn(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},qn=function(A,e,t,n){var i=[];return Kn(A)?i.push(A.subdivide(.5,!1)):i.push(A),Kn(t)?i.push(t.subdivide(.5,!0)):i.push(t),Kn(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Kn(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},oC=function(A){var e=A.bounds,t=A.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Au=function(A){var e=A.styles,t=A.bounds,n=ut(e.paddingLeft,t.width),i=ut(e.paddingRight,t.width),r=ut(e.paddingTop,t.width),s=ut(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+r+s))},JQ=function(A,e){return A===0?e.bounds:A===2?Au(e):oC(e)},ZQ=function(A,e){return A===0?e.bounds:A===2?Au(e):oC(e)},mf=function(A,e,t){var n=JQ(Cs(A.styles.backgroundOrigin,e),A),i=ZQ(Cs(A.styles.backgroundClip,e),A),r=qQ(Cs(A.styles.backgroundSize,e),t,n),s=r[0],a=r[1],o=io(Cs(A.styles.backgroundPosition,e),n.width-s,n.height-a),l=jQ(Cs(A.styles.backgroundRepeat,e),o,r,n,i),c=Math.round(n.left+o[0]),u=Math.round(n.top+o[1]);return[l,c,u,s,a]},ys=function(A){return it(A)&&A.value===Qs.AUTO},Sc=function(A){return typeof A=="number"},qQ=function(A,e,t){var n=e[0],i=e[1],r=e[2],s=A[0],a=A[1];if(!s)return[0,0];if(Lt(s)&&a&&Lt(a))return[ut(s,t.width),ut(a,t.height)];var o=Sc(r);if(it(s)&&(s.value===Qs.CONTAIN||s.value===Qs.COVER)){if(Sc(r)){var l=t.width/t.height;return l<r!=(s.value===Qs.COVER)?[t.width,t.width/r]:[t.height*r,t.height]}return[t.width,t.height]}var c=Sc(n),u=Sc(i),h=c||u;if(ys(s)&&(!a||ys(a))){if(c&&u)return[n,i];if(!o&&!h)return[t.width,t.height];if(h&&o){var f=c?n:i*r,d=u?i:n/r;return[f,d]}var p=c?n:t.width,v=u?i:t.height;return[p,v]}if(o){var g=0,m=0;return Lt(s)?g=ut(s,t.width):Lt(a)&&(m=ut(a,t.height)),ys(s)?g=m*r:(!a||ys(a))&&(m=g/r),[g,m]}var w=null,B=null;if(Lt(s)?w=ut(s,t.width):a&&Lt(a)&&(B=ut(a,t.height)),w!==null&&(!a||ys(a))&&(B=c&&u?w/n*i:t.height),B!==null&&ys(s)&&(w=c&&u?B/i*n:t.width),w!==null&&B!==null)return[w,B];throw new Error("Unable to calculate background-size for element")},Cs=function(A,e){var t=A[e];return typeof t=="undefined"?A[0]:t},jQ=function(A,e,t,n,i){var r=e[0],s=e[1],a=t[0],o=t[1];switch(A){case 2:return[new Ee(Math.round(n.left),Math.round(n.top+s)),new Ee(Math.round(n.left+n.width),Math.round(n.top+s)),new Ee(Math.round(n.left+n.width),Math.round(o+n.top+s)),new Ee(Math.round(n.left),Math.round(o+n.top+s))];case 3:return[new Ee(Math.round(n.left+r),Math.round(n.top)),new Ee(Math.round(n.left+r+a),Math.round(n.top)),new Ee(Math.round(n.left+r+a),Math.round(n.height+n.top)),new Ee(Math.round(n.left+r),Math.round(n.height+n.top))];case 1:return[new Ee(Math.round(n.left+r),Math.round(n.top+s)),new Ee(Math.round(n.left+r+a),Math.round(n.top+s)),new Ee(Math.round(n.left+r+a),Math.round(n.top+s+o)),new Ee(Math.round(n.left+r),Math.round(n.top+s+o))];default:return[new Ee(Math.round(i.left),Math.round(i.top)),new Ee(Math.round(i.left+i.width),Math.round(i.top)),new Ee(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ee(Math.round(i.left),Math.round(i.height+i.top))]}},$Q="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",dv="Hidden Text",eR=function(){function A(e){this._data={},this._document=e}return A.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),i.src=$Q,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(dv)),n.appendChild(r),n.appendChild(i);var a=i.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(dv)),n.style.lineHeight="normal",i.style.verticalAlign="super";var o=i.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:a,middle:o}},A.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]=="undefined"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},A}(),lC=function(){function A(e,t){this.context=e,this.options=t}return A}(),tR=1e4,nR=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new eR(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),VQ(t)&&(this.ctx.globalAlpha=t.opacity),kQ(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),rC(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return un(this,void 0,void 0,function(){var n;return An(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return un(this,void 0,void 0,function(){return An(this,function(n){switch(n.label){case 0:if(Pt(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var r=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var s=Yp(t.text);s.reduce(function(a,o){return r.ctx.fillText(o,a,t.bounds.top+i),a+r.ctx.measureText(o).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=aR(t.fontFamily).join(", "),r=rl(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,r,i].join(" "),i,r]},e.prototype.renderTextNode=function(t,n){return un(this,void 0,void 0,function(){var i,r,s,a,o,l,c,u,h=this;return An(this,function(f){return i=this.createFontStyle(n),r=i[0],s=i[1],a=i[2],this.ctx.font=r,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(s,a),l=o.baseline,c=o.middle,u=n.paintOrder,t.textBounds.forEach(function(d){u.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=Vt(n.color),h.renderTextWithLetterSpacing(d,n.letterSpacing,l);var v=n.textShadow;v.length&&d.text.trim().length&&(v.slice(0).reverse().forEach(function(g){h.ctx.shadowColor=Vt(g.color),h.ctx.shadowOffsetX=g.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=g.offsetY.number*h.options.scale,h.ctx.shadowBlur=g.blur.number,h.renderTextWithLetterSpacing(d,n.letterSpacing,l)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Vt(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+l),d.bounds.width,1);break;case 2:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:h.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+c),d.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&d.text.trim().length&&(h.ctx.strokeStyle=Vt(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+l)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=Au(t),s=ru(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return un(this,void 0,void 0,function(){var n,i,r,s,a,o,m,m,l,c,u,h,B,f,d,y,p,v,g,m,w,B,y;return An(this,function(C){switch(C.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,r=n.styles,s=0,a=n.textNodes,C.label=1;case 1:return s<a.length?(o=a[s],[4,this.renderTextNode(o,r)]):[3,4];case 2:C.sent(),C.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof Gx))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return m=C.sent(),this.renderReplacedElement(n,i,m),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof kx&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Vx))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return m=C.sent(),this.renderReplacedElement(n,i,m),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Xx&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=C.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof Jp&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===$c?n.checked&&(this.ctx.save(),this.path([new Ee(n.bounds.left+u*.39363,n.bounds.top+u*.79),new Ee(n.bounds.left+u*.16,n.bounds.top+u*.5549),new Ee(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new Ee(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new Ee(n.bounds.left+u*.72983,n.bounds.top+u*.23),new Ee(n.bounds.left+u*.84,n.bounds.top+u*.34085),new Ee(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=Vt(tv),this.ctx.fill(),this.ctx.restore()):n.type===eu&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Vt(tv),this.ctx.fill(),this.ctx.restore())),iR(n)&&n.value.length){switch(h=this.createFontStyle(r),B=h[0],f=h[1],d=this.fontMetrics.getMetrics(B,f).baseline,this.ctx.font=B,this.ctx.fillStyle=Vt(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=AR(n.styles.textAlign),y=Au(n),p=0,n.styles.textAlign){case 1:p+=y.width/2;break;case 2:p+=y.width;break}v=y.add(p,0,0,-y.height/2+1),this.ctx.save(),this.path([new Ee(y.left,y.top),new Ee(y.left+y.width,y.top),new Ee(y.left+y.width,y.top+y.height),new Ee(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new vo(n.value,v),r.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];m=void 0,w=g.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return m=C.sent(),this.ctx.drawImage(m,n.bounds.left-(m.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(B=this.createFontStyle(r)[0],this.ctx.font=B,this.ctx.fillStyle=Vt(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new $i(n.bounds.left,n.bounds.top+ut(n.styles.paddingTop,n.bounds.width),n.bounds.width,P0(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new vo(t.listValue,y),r.letterSpacing,P0(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return un(this,void 0,void 0,function(){var n,i,g,r,s,g,a,o,g,l,c,g,u,h,g,f,d,g,p,v,g;return An(this,function(m){switch(m.label){case 0:if(Pt(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:m.sent(),n=0,i=t.negativeZIndex,m.label=2;case 2:return n<i.length?(g=i[n],[4,this.renderStack(g)]):[3,5];case 3:m.sent(),m.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:m.sent(),r=0,s=t.nonInlineLevel,m.label=7;case 7:return r<s.length?(g=s[r],[4,this.renderNode(g)]):[3,10];case 8:m.sent(),m.label=9;case 9:return r++,[3,7];case 10:a=0,o=t.nonPositionedFloats,m.label=11;case 11:return a<o.length?(g=o[a],[4,this.renderStack(g)]):[3,14];case 12:m.sent(),m.label=13;case 13:return a++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,m.label=15;case 15:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,18];case 16:m.sent(),m.label=17;case 17:return l++,[3,15];case 18:u=0,h=t.inlineLevel,m.label=19;case 19:return u<h.length?(g=h[u],[4,this.renderNode(g)]):[3,22];case 20:m.sent(),m.label=21;case 21:return u++,[3,19];case 22:f=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,m.label=23;case 23:return f<d.length?(g=d[f],[4,this.renderStack(g)]):[3,26];case 24:m.sent(),m.label=25;case 25:return f++,[3,23];case 26:p=0,v=t.positiveZIndex,m.label=27;case 27:return p<v.length?(g=v[p],[4,this.renderStack(g)]):[3,30];case 28:m.sent(),m.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,r){var s=Kn(i)?i.start:i;r===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),Kn(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,r){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,r),this.ctx.fill(),this.ctx.translate(-i,-r)},e.prototype.resizeImage=function(t,n,i){var r;if(t.width===n&&t.height===i)return t;var s=(r=this.canvas.ownerDocument)!==null&&r!==void 0?r:document,a=s.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,i);var o=a.getContext("2d");return o.drawImage(t,0,0,t.width,t.height,0,0,n,i),a},e.prototype.renderBackgroundImage=function(t){return un(this,void 0,void 0,function(){var n,i,r,s,a,o;return An(this,function(l){switch(l.label){case 0:n=t.styles.backgroundImage.length-1,i=function(c){var u,h,f,H,I,V,Q,F,E,d,H,I,V,Q,F,p,v,g,m,w,B,y,C,x,E,M,H,N,O,Q,F,G,I,V,te,ie,ae,ee,fe,ne,me,we;return An(this,function(j){switch(j.label){case 0:if(c.type!==0)return[3,5];u=void 0,h=c.url,j.label=1;case 1:return j.trys.push([1,3,,4]),[4,r.context.cache.match(h)];case 2:return u=j.sent(),[3,4];case 3:return j.sent(),r.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(f=mf(t,n,[u.width,u.height,u.width/u.height]),H=f[0],I=f[1],V=f[2],Q=f[3],F=f[4],E=r.ctx.createPattern(r.resizeImage(u,Q,F),"repeat"),r.renderRepeat(H,E,I,V)),[3,6];case 5:kI(c)?(d=mf(t,n,[null,null,null]),H=d[0],I=d[1],V=d[2],Q=d[3],F=d[4],p=HI(c.angle,Q,F),v=p[0],g=p[1],m=p[2],w=p[3],B=p[4],y=document.createElement("canvas"),y.width=Q,y.height=F,C=y.getContext("2d"),x=C.createLinearGradient(g,w,m,B),R0(c.stops,v).forEach(function(Fe){return x.addColorStop(Fe.stop,Vt(Fe.color))}),C.fillStyle=x,C.fillRect(0,0,Q,F),Q>0&&F>0&&(E=r.ctx.createPattern(y,"repeat"),r.renderRepeat(H,E,I,V))):VI(c)&&(M=mf(t,n,[null,null,null]),H=M[0],N=M[1],O=M[2],Q=M[3],F=M[4],G=c.position.length===0?[Kp]:c.position,I=ut(G[0],Q),V=ut(G[G.length-1],F),te=PI(c,I,V,Q,F),ie=te[0],ae=te[1],ie>0&&ae>0&&(ee=r.ctx.createRadialGradient(N+I,O+V,0,N+I,O+V,ie),R0(c.stops,ie*2).forEach(function(Fe){return ee.addColorStop(Fe.stop,Vt(Fe.color))}),r.path(H),r.ctx.fillStyle=ee,ie!==ae?(fe=t.bounds.left+.5*t.bounds.width,ne=t.bounds.top+.5*t.bounds.height,me=ae/ie,we=1/me,r.ctx.save(),r.ctx.translate(fe,ne),r.ctx.transform(1,0,0,me,0,0),r.ctx.translate(-fe,-ne),r.ctx.fillRect(N,we*(O-ne)+ne,Q,F*we),r.ctx.restore()):r.ctx.fill())),j.label=6;case 6:return n--,[2]}})},r=this,s=0,a=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<a.length?(o=a[s],[5,i(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return un(this,void 0,void 0,function(){return An(this,function(r){return this.path(fv(i,n)),this.ctx.fillStyle=Vt(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,r){return un(this,void 0,void 0,function(){var s,a;return An(this,function(o){switch(o.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,r)]:[3,2];case 1:return o.sent(),[2];case 2:return s=WQ(r,i),this.path(s),this.ctx.fillStyle=Vt(t),this.ctx.fill(),a=XQ(r,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return un(this,void 0,void 0,function(){var n,i,r,s,a,o,l,c,u=this;return An(this,function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!Lr(n.backgroundColor)||n.backgroundImage.length,r=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=rR(Cs(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),Lr(n.backgroundColor)||(this.ctx.fillStyle=Vt(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var d=iu(t.curves),p=f.inset?0:tR,v=zQ(d,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(d),u.ctx.clip(),u.mask(v)):(u.mask(d),u.ctx.clip(),u.path(v)),u.ctx.shadowOffsetX=f.offsetX.number+p,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=Vt(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?Vt(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:a=0,o=0,l=r,h.label=3;case 3:return o<l.length?(c=l[o],c.style!==0&&!Lr(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,t.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,t.curves)];case 10:h.sent(),h.label=11;case 11:a++,h.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,r,s){return un(this,void 0,void 0,function(){var a,o,l,c,u,h,f,d,p,v,g,m,w,B,y,C,y,C;return An(this,function(x){return this.ctx.save(),a=YQ(r,i),o=fv(r,i),s===2&&(this.path(o),this.ctx.clip()),Kn(o[0])?(l=o[0].start.x,c=o[0].start.y):(l=o[0].x,c=o[0].y),Kn(o[1])?(u=o[1].end.x,h=o[1].end.y):(u=o[1].x,h=o[1].y),i===0||i===2?f=Math.abs(l-u):f=Math.abs(c-h),this.ctx.beginPath(),s===3?this.formatPath(a):this.formatPath(o.slice(0,2)),d=n<3?n*3:n*2,p=n<3?n*2:n,s===3&&(d=n,p=n),v=!0,f<=d*2?v=!1:f<=d*2+p?(g=f/(2*d+p),d*=g,p*=g):(m=Math.floor((f+p)/(d+p)),w=(f-m*d)/(m-1),B=(f-(m+1)*d)/m,p=B<=0||Math.abs(p-w)<Math.abs(p-B)?w:B),v&&(s===3?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Vt(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Kn(o[0])&&(y=o[3],C=o[0],this.ctx.beginPath(),this.formatPath([new Ee(y.end.x,y.end.y),new Ee(C.start.x,C.start.y)]),this.ctx.stroke()),Kn(o[1])&&(y=o[1],C=o[2],this.ctx.beginPath(),this.formatPath([new Ee(y.end.x,y.end.y),new Ee(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return un(this,void 0,void 0,function(){var n;return An(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Vt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=KQ(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(lC),iR=function(A){return A instanceof Wx||A instanceof Kx?!0:A instanceof Jp&&A.type!==eu&&A.type!==$c},rR=function(A,e){switch(A){case 0:return iu(e);case 2:return OQ(e);case 1:default:return ru(e)}},AR=function(A){switch(A){case 1:return"center";case 2:return"right";case 0:default:return"left"}},sR=["-apple-system","system-ui"],aR=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(e){return sR.indexOf(e)===-1}):A},oR=function(A){pi(e,A);function e(t,n){var i=A.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return un(this,void 0,void 0,function(){var n,i;return An(this,function(r){switch(r.label){case 0:return n=_d(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,lR(n)];case 1:return i=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Vt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(lC),lR=function(A){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},cR=function(){function A(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ac([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ac([this.id,this.getTime()+"ms"],e))},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ac([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,ac([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.instances={},A}(),uR=function(){function A(e,t){var n;this.windowBounds=t,this.instanceName="#"+A.instanceCount++,this.logger=new cR({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new UQ(this,e)}return A.instanceCount=1,A}(),uH=function(A,e){return e===void 0&&(e={}),hR(A,e)};typeof window!="undefined"&&iC.setContext(window);var hR=function(A,e){return un(void 0,void 0,void 0,function(){var t,n,i,r,s,a,o,l,c,u,h,f,d,p,v,g,m,w,B,y,x,C,x,E,M,H,N,O,Q,F,G,I,V,te,ie,ae,ee,fe,ne,me;return An(this,function(we){switch(we.label){case 0:if(!A||typeof A!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=A.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(M=e.imageTimeout)!==null&&M!==void 0?M:15e3,proxy:e.proxy,useCORS:(H=e.useCORS)!==null&&H!==void 0?H:!1},r=ld({logging:(N=e.logging)!==null&&N!==void 0?N:!0,cache:e.cache},i),s={windowWidth:(O=e.windowWidth)!==null&&O!==void 0?O:n.innerWidth,windowHeight:(Q=e.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(F=e.scrollX)!==null&&F!==void 0?F:n.pageXOffset,scrollY:(G=e.scrollY)!==null&&G!==void 0?G:n.pageYOffset},a=new $i(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),o=new uR(r,a),l=(I=e.foreignObjectRendering)!==null&&I!==void 0?I:!1,c={allowTaint:(V=e.allowTaint)!==null&&V!==void 0?V:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),u=new cv(o,A,c),h=u.clonedReferenceElement,h?[4,u.toIFrame(t,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=we.sent(),d=Zp(h)||dQ(h)?zU(h.ownerDocument):Fu(o,h),p=d.width,v=d.height,g=d.left,m=d.top,w=fR(o,h,e.backgroundColor),B={canvas:e.canvas,backgroundColor:w,scale:(ie=(te=e.scale)!==null&&te!==void 0?te:n.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((ae=e.x)!==null&&ae!==void 0?ae:0)+g,y:((ee=e.y)!==null&&ee!==void 0?ee:0)+m,width:(fe=e.width)!==null&&fe!==void 0?fe:Math.ceil(p),height:(ne=e.height)!==null&&ne!==void 0?ne:Math.ceil(v)},l?(o.logger.debug("Document cloned, using foreign object rendering"),x=new oR(o,B),[4,x.render(h)]):[3,3];case 2:return y=we.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+g+","+m+" with size "+p+"x"+v+" using computed rendering"),o.logger.debug("Starting DOM parsing"),C=Jx(o,h),w===C.styles.backgroundColor&&(C.styles.backgroundColor=Yi.TRANSPARENT),o.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),x=new nR(o,B),[4,x.render(C)];case 4:y=we.sent(),we.label=5;case 5:return((me=e.removeContainer)!==null&&me!==void 0?me:!0)&&(cv.destroy(f)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,y]}})})},fR=function(A,e,t){var n=e.ownerDocument,i=n.documentElement?go(A,getComputedStyle(n.documentElement).backgroundColor):Yi.TRANSPARENT,r=n.body?go(A,getComputedStyle(n.body).backgroundColor):Yi.TRANSPARENT,s=typeof t=="string"?go(A,t):t===null?Yi.TRANSPARENT:4294967295;return e===n.documentElement?Lr(i)?Lr(r)?s:r:i:s};/**
 * postprocessing v6.24.1 build Mon Feb 21 2022
 * https://github.com/vanruesc/postprocessing
 * Copyright 2015-2022 Raoul van Rschen
 * @license Zlib
 */var dR="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",pR=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,gR=class extends Pn{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new pt(null),opacity:new pt(1)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:pR,vertexShader:dR});this.toneMapped=!1}setInputBuffer(A){this.uniforms.inputBuffer.value=A}getOpacity(A){return this.uniforms.opacity.value}setOpacity(A){this.uniforms.opacity.value=A}},mR=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=linearToRelativeLuminance(texture2D(inputBuffer,vUv).rgb);float lLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv0).rgb);float lTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=linearToRelativeLuminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=linearToRelativeLuminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,vR=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,cC={DEPTH:0,LUMA:1,COLOR:2},wR=class extends Pn{constructor(A=new ce,e=cC.COLOR){super({name:"EdgeDetectionMaterial",defines:{LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new pt(null),depthBuffer:new pt(null),predicationBuffer:new pt(null),texelSize:new pt(A)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:mR,vertexShader:vR});this.toneMapped=!1,this.setEdgeDetectionMode(e)}setDepthBuffer(A,e=RA){this.uniforms.depthBuffer.value=A,this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(A){this.defines.DEPTH_PACKING=A.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}setEdgeDetectionMode(A){this.defines.EDGE_DETECTION_MODE=A.toFixed(0),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}setLocalContrastAdaptationFactor(A){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=A.toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}setEdgeDetectionThreshold(A){this.defines.EDGE_THRESHOLD=A.toFixed("6"),this.defines.DEPTH_THRESHOLD=(A*.1).toFixed("6"),this.needsUpdate=!0}getPredicationMode(){return Number(this.defines.PREDICATION_MODE)}setPredicationMode(A){this.defines.PREDICATION_MODE=A.toFixed(0),this.needsUpdate=!0}setPredicationBuffer(A){this.uniforms.predicationBuffer.value=A}getPredicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}setPredicationThreshold(A){this.defines.PREDICATION_THRESHOLD=A.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return Number(this.defines.PREDICATION_SCALE)}setPredicationScale(A){this.defines.PREDICATION_SCALE=A.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}setPredicationStrength(A){this.defines.PREDICATION_STRENGTH=A.toFixed("6"),this.needsUpdate=!0}setSize(A,e){this.uniforms.texelSize.value.set(1/A,1/e)}},BR=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,yR="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",oi={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},Ud=class extends Pn{constructor(A,e,t,n,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Vo.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new pt(null),depthBuffer:new pt(null),resolution:new pt(new ce),texelSize:new pt(new ce),cameraNear:new pt(.3),cameraFar:new pt(1e3),aspect:new pt(1),time:new pt(0)},blending:Qn,depthWrite:!1,depthTest:!1,dithering:i});this.toneMapped=!1,A&&this.setShaderParts(A),e&&this.setDefines(e),t&&this.setUniforms(t),this.adoptCameraSettings(n)}setInputBuffer(A){this.uniforms.inputBuffer.value=A}setDepthBuffer(A,e=RA){this.uniforms.depthBuffer.value=A,this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(A){this.defines.DEPTH_PACKING=A.toFixed(0),this.needsUpdate=!0}setShaderParts(A){return this.fragmentShader=BR.replace(oi.FRAGMENT_HEAD,A.get(oi.FRAGMENT_HEAD)).replace(oi.FRAGMENT_MAIN_UV,A.get(oi.FRAGMENT_MAIN_UV)).replace(oi.FRAGMENT_MAIN_IMAGE,A.get(oi.FRAGMENT_MAIN_IMAGE)),this.vertexShader=yR.replace(oi.VERTEX_HEAD,A.get(oi.VERTEX_HEAD)).replace(oi.VERTEX_MAIN_SUPPORT,A.get(oi.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(A){for(const e of A.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(A){for(const e of A.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(A){this.extensions={};for(const e of A)this.extensions[e]=!0;return this}isOutputEncodingEnabled(A){return this.defines.ENCODE_OUTPUT!==void 0}setOutputEncodingEnabled(A){this.isOutputEncodingEnabled()!==A&&(A?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}setDeltaTime(A){this.uniforms.time.value+=A}adoptCameraSettings(A){A&&(this.uniforms.cameraNear.value=A.near,this.uniforms.cameraFar.value=A.far,A instanceof It?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(A,e){const t=this.uniforms;t.resolution.value.set(A,e),t.texelSize.value.set(1/A,1/e),t.aspect.value=A/e}static get Section(){return oi}},xR=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,CR="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",_R=class extends Pn{constructor(A=new ce,e=new ce){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new pt(null),searchTexture:new pt(null),areaTexture:new pt(null),resolution:new pt(e),texelSize:new pt(A)},blending:Qn,depthWrite:!1,depthTest:!1,fragmentShader:xR,vertexShader:CR});this.toneMapped=!1}setInputBuffer(A){this.uniforms.inputBuffer.value=A}setLookupTextures(A,e){this.uniforms.searchTexture.value=A,this.uniforms.areaTexture.value=e}setOrthogonalSearchSteps(A){const e=Math.min(Math.max(A,0),112);this.defines.MAX_SEARCH_STEPS_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=e.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(A){const e=Math.min(Math.max(A,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=e.toFixed("1"),this.needsUpdate=!0}setCornerRounding(A){const e=Math.min(Math.max(A,0),100);this.defines.CORNER_ROUNDING=e.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(e/100).toFixed("4"),this.needsUpdate=!0}get diagonalDetection(){return this.isDiagonalDetectionEnabled()}set diagonalDetection(A){this.setDiagonalDetectionEnabled(A)}isDiagonalDetectionEnabled(){return this.defines.DISABLE_DIAG_DETECTION===void 0}setDiagonalDetectionEnabled(A){A?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}get cornerRounding(){return this.isCornerRoundingEnabled()}set cornerRounding(A){this.setCornerRoundingEnabled(A)}isCornerRoundingEnabled(){return this.defines.DISABLE_CORNER_DETECTION===void 0}setCornerRoundingEnabled(A){A?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}setSize(A,e){const t=this.uniforms;t.texelSize.value.set(1/A,1/e),t.resolution.value.set(A,e)}},ER=new ha,dr=null;function bR(){if(dr===null){const A=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);dr=new Ie,dr.setAttribute!==void 0?(dr.setAttribute("position",new Pe(A,3)),dr.setAttribute("uv",new Pe(e,2))):(dr.addAttribute("position",new Pe(A,3)),dr.addAttribute("uv",new Pe(e,2)))}return dr}var VA=class{constructor(A="Pass",e=new Fr,t=ER){this.name=A,this.renderer=null,this.scene=e,this.camera=t,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(A){if(this.rtt===A){const e=this.getFullscreenMaterial();e!==null&&(e.needsUpdate=!0),this.rtt=!A}}setRenderer(A){this.renderer=A}isEnabled(){return this.enabled}setEnabled(A){this.enabled=A}getFullscreenMaterial(){return this.screen!==null?this.screen.material:null}setFullscreenMaterial(A){let e=this.screen;e!==null?e.material=A:(e=new gt(bR(),A),e.frustumCulled=!1,this.scene===null&&(this.scene=new Fr),this.scene.add(e),this.screen=e)}getDepthTexture(){return null}setDepthTexture(A,e=0){}render(A,e,t,n,i){throw new Error("Render method not implemented!")}setSize(A,e){}initialize(A,e,t){}dispose(){const A=this.getFullscreenMaterial();A!==null&&A.dispose();for(const e of Object.keys(this)){const t=this[e];if(t!==null&&typeof t.dispose=="function"){if(t instanceof Fr)continue;this[e].dispose()}}}},MR=class extends VA{constructor(A,e=!0){super("CopyPass");this.setFullscreenMaterial(new gR),this.needsSwap=!1,this.renderTarget=A,A===void 0&&(this.renderTarget=new fn(1,1,{minFilter:tt,magFilter:tt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.resize=e}get texture(){return this.getTexture()}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(A){this.resize=A}render(A,e,t,n,i){this.getFullscreenMaterial().setInputBuffer(e.texture),A.setRenderTarget(this.renderToScreen?null:this.renderTarget),A.render(this.scene,this.camera)}setSize(A,e){this.resize&&this.renderTarget.setSize(A,e)}initialize(A,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==bi&&(this.getFullscreenMaterial().defines.FRAMEBUFFER_PRECISION_HIGH="1"))}},TR=class extends VA{constructor(){super("ClearMaskPass",null,null);this.needsSwap=!1}render(A,e,t,n,i){const r=A.state.buffers.stencil;r.setLocked(!1),r.setTest(!1)}},vf=new ve,qp=class extends VA{constructor(A=!0,e=!0,t=!1){super("ClearPass",null,null);this.needsSwap=!1,this.color=A,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(A,e,t){this.color=A,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(A){this.overrideClearColor=A}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(A){this.overrideClearAlpha=A}render(A,e,t,n,i){const r=this.overrideClearColor,s=this.overrideClearAlpha,a=A.getClearAlpha(),o=r!==null,l=s>=0;o?(vf.copy(A.getClearColor(vf)),A.setClearColor(r,l?s:a)):l&&A.setClearAlpha(s),A.setRenderTarget(this.renderToScreen?null:e),A.clear(this.color,this.depth,this.stencil),o?A.setClearColor(vf,a):l&&A.setClearAlpha(a)}},wf=!1,pv=class{constructor(A=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(A),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case Cn:t=this.materialsFlatShadedDoubleSide;break;case ct:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case Cn:t=this.materialsDoubleSide;break;case ct:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}setMaterial(A){if(this.disposeMaterials(),this.material=A,A!==null){const e=this.materials=[A.clone(),A.clone(),A.clone()];for(const t of e)t.uniforms=Object.assign({},A.uniforms),t.side=Ei;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const n=t.clone();return n.uniforms=Object.assign({},A.uniforms),n.side=ct,n}),this.materialsDoubleSide=e.map(t=>{const n=t.clone();return n.uniforms=Object.assign({},A.uniforms),n.side=Cn,n}),this.materialsFlatShaded=e.map(t=>{const n=t.clone();return n.uniforms=Object.assign({},A.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=e.map(t=>{const n=t.clone();return n.uniforms=Object.assign({},A.uniforms),n.flatShading=!0,n.side=ct,n}),this.materialsFlatShadedDoubleSide=e.map(t=>{const n=t.clone();return n.uniforms=Object.assign({},A.uniforms),n.flatShading=!0,n.side=Cn,n})}}render(A,e,t){const n=A.shadowMap.enabled;if(A.shadowMap.enabled=!1,wf){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),A.render(e,t);for(const r of i)r[0].material=r[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,A.render(e,t),e.overrideMaterial=i}A.shadowMap.enabled=n}disposeMaterials(){if(this.material!==null){const A=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of A)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return wf}static set workaroundEnabled(A){wf=A}},hH=class extends VA{constructor(A,e,t=null){super("RenderPass",A,e);this.needsSwap=!1,this.clearPass=new qp,this.overrideMaterialManager=t===null?null:new pv(t),this.backgroundDisabled=!1,this.shadowMapDisabled=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(A){super.renderToScreen=A,this.clearPass.renderToScreen=A}get overrideMaterial(){return this.getOverrideMaterial()}set overrideMaterial(A){this.setOverrideMaterial(A)}getOverrideMaterial(){const A=this.overrideMaterialManager;return A!==null?A.material:null}setOverrideMaterial(A){const e=this.overrideMaterialManager;A!==null?e!==null?e.setMaterial(A):this.overrideMaterialManager=new pv(A):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}get clear(){return this.clearPass.isEnabled()}set clear(A){this.clearPass.setEnabled(A)}getSelection(){return this.selection}setSelection(A){this.selection=A}isBackgroundDisabled(){return this.backgroundDisabled}setBackgroundDisabled(A){this.backgroundDisabled=A}isShadowMapDisabled(){return this.shadowMapDisabled}setShadowMapDisabled(A){this.shadowMapDisabled=A}getClearPass(){return this.clearPass}render(A,e,t,n,i){const r=this.scene,s=this.camera,a=this.selection,o=s.layers.mask,l=r.background,c=A.shadowMap.autoUpdate,u=this.renderToScreen?null:e;a!==null&&s.layers.set(a.getLayer()),this.shadowMapDisabled&&(A.shadowMap.autoUpdate=!1),(this.backgroundDisabled||this.clearPass.overrideClearColor!==null)&&(r.background=null),this.clearPass.isEnabled()&&this.clearPass.render(A,e),A.setRenderTarget(u),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(A,r,s):A.render(r,s),s.layers.mask=o,r.background=l,A.shadowMap.autoUpdate=c}},_t={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},SR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",FR="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",UR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",DR="float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",IR="float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",LR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",QR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",RR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",HR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",PR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",OR="float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",NR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",GR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",kR="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",VR="float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",zR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",KR="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",WR="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",XR=new Map([[_t.SKIP,null],[_t.ADD,SR],[_t.ALPHA,FR],[_t.AVERAGE,UR],[_t.COLOR_BURN,DR],[_t.COLOR_DODGE,IR],[_t.DARKEN,LR],[_t.DIFFERENCE,QR],[_t.EXCLUSION,RR],[_t.LIGHTEN,HR],[_t.MULTIPLY,PR],[_t.DIVIDE,OR],[_t.NEGATION,NR],[_t.NORMAL,GR],[_t.OVERLAY,kR],[_t.REFLECT,VR],[_t.SCREEN,zR],[_t.SOFT_LIGHT,KR],[_t.SUBTRACT,WR]]),YR=class extends fi{constructor(A,e=1){super();this.blendFunction=A,this.opacity=new pt(e)}getOpacity(){return this.opacity.value}setOpacity(A){this.opacity.value=A}getBlendFunction(){return this.blendFunction}setBlendFunction(A){this.blendFunction=A,this.dispatchEvent({type:"change"})}getShaderCode(){return XR.get(this.blendFunction)}},Qr={NONE:0,DEPTH:1,CONVOLUTION:2},JR=class extends fi{constructor(A,e,{attributes:t=Qr.NONE,blendFunction:n=_t.SCREEN,defines:i=new Map,uniforms:r=new Map,extensions:s=null,vertexShader:a=null}={}){super();this.name=A,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=r,this.extensions=s,this.blendMode=new YR(n),this.blendMode.addEventListener("change",o=>this.setChanged())}getName(){return this.name}setRenderer(A){this.renderer=A}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(A){this.attributes=A,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(A){this.fragmentShader=A,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(A){this.vertexShader=A,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(A,e=RA){}update(A,e,t){}setSize(A,e){}initialize(A,e,t){}dispose(){for(const A of Object.keys(this)){const e=this[A];if(e!==null&&typeof e.dispose=="function"){if(e instanceof Fr)continue;this[A].dispose()}}}};function gv(A,e,t){for(const n of e){const i="$1"+A+n.charAt(0).toUpperCase()+n.slice(1),r=new RegExp("([^\\.])(\\b"+n+"\\b)","g");for(const s of t.entries())s[1]!==null&&t.set(s[0],s[1].replace(r,i))}}function ZR(A,e,t,n,i,r,s){const a=new Map([["fragment",e.getFragmentShader()],["vertex",e.getVertexShader()]]),o=a.get("fragment")!==void 0&&/mainImage/.test(a.get("fragment")),l=a.get("fragment")!==void 0&&/mainUv/.test(a.get("fragment"));let c=[],u=[],h=!1,f=!1;if(a.get("fragment")===void 0)console.error("Missing fragment shader",e);else if(l&&(s&Qr.CONVOLUTION)!==0)console.error("Effects that transform UV coordinates are incompatible with convolution effects",e);else if(!o&&!l)console.error("The fragment shader contains neither a mainImage nor a mainUv function",e);else{const d=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,p=Ud.Section;if(l){const g="	"+A+`MainUv(UV);
`;t.set(p.FRAGMENT_MAIN_UV,t.get(p.FRAGMENT_MAIN_UV)+g),h=!0}if(a.get("vertex")!==null&&/mainSupport/.test(a.get("vertex"))){let g="	"+A+"MainSupport(";g+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(a.get("vertex"))?`vUv);
`:`);
`,t.set(p.VERTEX_MAIN_SUPPORT,t.get(p.VERTEX_MAIN_SUPPORT)+g),c=c.concat([...a.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(m=>m[1])),u=u.concat(c).concat([...a.get("vertex").matchAll(d)].map(m=>m[1]))}u=u.concat([...a.get("fragment").matchAll(d)].map(g=>g[1])),u=u.concat([...e.getDefines().keys()].map(g=>g.replace(/\([\w\s,]*\)/g,""))),u=u.concat([...e.getUniforms().keys()]),e.getUniforms().forEach((g,m)=>r.set(A+m.charAt(0).toUpperCase()+m.slice(1),g)),e.getDefines().forEach((g,m)=>i.set(A+m.charAt(0).toUpperCase()+m.slice(1),g)),gv(A,u,i),gv(A,u,a);const v=e.getBlendMode();if(n.set(v.blendFunction,v),o){const g=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;let m=A+"MainImage(color0, UV, ";(s&Qr.DEPTH)!==0&&g.test(a.get("fragment"))&&(m+="depth, ",f=!0),m+=`color1);
	`;const w=A+"BlendOpacity";r.set(w,v.opacity),m+="color0 = blend"+v.getBlendFunction()+"(color0, color1, "+w+`);

	`,t.set(p.FRAGMENT_MAIN_IMAGE,t.get(p.FRAGMENT_MAIN_IMAGE)+m),m="uniform float "+w+`;

`,t.set(p.FRAGMENT_HEAD,t.get(p.FRAGMENT_HEAD)+m)}t.set(p.FRAGMENT_HEAD,t.get(p.FRAGMENT_HEAD)+a.get("fragment")+`
`),a.get("vertex")!==null&&t.set(p.VERTEX_HEAD,t.get(p.VERTEX_HEAD)+a.get("vertex")+`
`)}return{varyings:c,transformedUv:h,readDepth:f}}var fH=class extends VA{constructor(A,...e){super("EffectPass");this.setFullscreenMaterial(new Ud(null,null,null,A)),this.effects=e.sort((t,n)=>n.attributes-t.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.getFullscreenMaterial().isOutputEncodingEnabled()}set encodeOutput(A){this.getFullscreenMaterial().setOutputEncodingEnabled(A)}get dithering(){return this.getFullscreenMaterial().dithering}set dithering(A){const e=this.getFullscreenMaterial();e.dithering=A,e.needsUpdate=!0}verifyResources(){const A=this.renderer.capabilities;let e=Math.min(A.maxFragmentUniforms,A.maxVertexUniforms);this.uniformCount>e&&console.warn("The current rendering context doesn't support more than "+e+" uniforms, but "+this.uniformCount+" were defined"),e=A.maxVaryings,this.varyingCount>e&&console.warn("The current rendering context doesn't support more than "+e+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){const A=Ud.Section,e=new Map([[A.FRAGMENT_HEAD,""],[A.FRAGMENT_MAIN_UV,""],[A.FRAGMENT_MAIN_IMAGE,""],[A.VERTEX_HEAD,""],[A.VERTEX_MAIN_SUPPORT,""]]),t=new Map,n=new Map,i=new Map,r=new Set;let s=0,a=0,o=0,l=!1,c=!1;for(const h of this.effects)if(h.getBlendMode().getBlendFunction()===_t.SKIP)o|=h.getAttributes()&Qr.DEPTH;else if((o&h.getAttributes()&Qr.CONVOLUTION)!==0)console.error("Convolution effects cannot be merged",h);else{o|=h.getAttributes();const f=ZR("e"+s++,h,e,t,n,i,o);if(a+=f.varyings.length,l=l||f.transformedUv,c=c||f.readDepth,h.getExtensions()!==null)for(const d of h.getExtensions())r.add(d)}const u=/\bblend\b/g;for(const h of t.values()){const f=h.getShaderCode().replace(u,"blend"+h.getBlendFunction());e.set(A.FRAGMENT_HEAD,e.get(A.FRAGMENT_HEAD)+f+`
`)}if((o&Qr.DEPTH)!==0){if(c){const h=`float depth = readDepth(UV);

	`;e.set(A.FRAGMENT_MAIN_IMAGE,h+e.get(A.FRAGMENT_MAIN_IMAGE))}this.needsDepthTexture=this.getDepthTexture()===null}else this.needsDepthTexture=!1;if(l){const h=`vec2 transformedUv = vUv;
`;e.set(A.FRAGMENT_MAIN_UV,h+e.get(A.FRAGMENT_MAIN_UV)),n.set("UV","transformedUv")}else n.set("UV","vUv");e.forEach((h,f,d)=>d.set(f,h.trim().replace(/^#/,`
#`))),this.uniformCount=i.size,this.varyingCount=a,this.skipRendering=s===0,this.needsSwap=!this.skipRendering,this.getFullscreenMaterial().setShaderParts(e).setExtensions(r).setUniforms(i).setDefines(n)}recompile(A){this.updateMaterial(),this.verifyResources()}setRenderer(A){super.setRenderer(A);for(const e of this.effects)e.setRenderer(A)}getDepthTexture(){return this.getFullscreenMaterial().uniforms.depthBuffer.value}setDepthTexture(A,e=RA){this.getFullscreenMaterial().setDepthBuffer(A,e);for(const t of this.effects)t.setDepthTexture(A,e)}render(A,e,t,n,i){for(const r of this.effects)r.update(A,e,n);if(!this.skipRendering||this.renderToScreen){const r=this.getFullscreenMaterial();r.setInputBuffer(e.texture),r.setDeltaTime(n),A.setRenderTarget(this.renderToScreen?null:t),A.render(this.scene,this.camera)}}setSize(A,e){this.getFullscreenMaterial().setSize(A,e);for(const t of this.effects)t.setSize(A,e)}initialize(A,e,t){for(const n of this.effects)n.initialize(A,e,t),n.addEventListener("change",i=>this.handleEvent(i));this.updateMaterial(),this.verifyResources(A),t!==void 0&&t!==bi&&(this.getFullscreenMaterial().defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const A of this.effects)A.dispose()}handleEvent(A){switch(A.type){case"change":this.recompile();break}}},qR=class extends VA{constructor(A,e){super("MaskPass",A,e);this.needsSwap=!1,this.clearPass=new qp(!1,!1,!0),this.inverse=!1}get clear(){return this.clearPass.isEnabled()}set clear(A){this.clearPass.enabled=A}getClearPass(){return this.clearPass}isInverted(){return this.inverse}setInverted(A){this.inverse=A}render(A,e,t,n,i){const r=A.getContext(),s=A.state.buffers,a=this.scene,o=this.camera,l=this.clearPass,c=this.inverse?0:1,u=1-c;s.color.setMask(!1),s.depth.setMask(!1),s.color.setLocked(!0),s.depth.setLocked(!0),s.stencil.setTest(!0),s.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),s.stencil.setFunc(r.ALWAYS,c,4294967295),s.stencil.setClear(u),s.stencil.setLocked(!0),this.clear&&(this.renderToScreen?l.render(A,null):(l.render(A,e),l.render(A,t))),this.renderToScreen?(A.setRenderTarget(null),A.render(a,o)):(A.setRenderTarget(e),A.render(a,o),A.setRenderTarget(t),A.render(a,o)),s.color.setLocked(!1),s.depth.setLocked(!1),s.stencil.setLocked(!1),s.stencil.setFunc(r.EQUAL,1,4294967295),s.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),s.stencil.setLocked(!0)}},mv=class extends VA{constructor(A,e="inputBuffer"){super("ShaderPass");this.setFullscreenMaterial(A),this.inputBufferUniform=null,this.setInput(e)}setInput(A){const e=this.getFullscreenMaterial();if(this.inputBufferUniform=null,e!==null){const t=e.uniforms;t!==void 0&&t[A]!==void 0&&(this.inputBufferUniform=t[A])}}render(A,e,t,n,i){this.inputBufferUniform!==null&&e!==null&&(this.inputBufferUniform.value=e.texture),A.setRenderTarget(this.renderToScreen?null:t),A.render(this.scene,this.camera)}initialize(A,e,t){t!==void 0&&t!==bi&&(this.getFullscreenMaterial().defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Bf=1/1e3,jR=1e3,$R=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1}setFixedDeltaEnabled(A){return this.fixedDeltaEnabled=A,this}setAutoResetEnabled(A){return typeof document!="undefined"&&document.hidden!==void 0&&(A?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this)),this}getDelta(){return this.delta*Bf}getFixedDelta(){return this.fixedDelta*Bf}setFixedDelta(A){return this.fixedDelta=A*jR,this}getElapsed(){return this.elapsed*Bf}getTimescale(){return this.timescale}setTimescale(A){return this.timescale=A,this}update(A){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=A!==void 0?A:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(A){document.hidden||(this.currentTime=performance.now())}dispose(){typeof document!="undefined"&&document.removeEventListener("visibilitychange",this)}},dH=class{constructor(A=null,{depthBuffer:e=!0,stencilBuffer:t=!1,multisampling:n=0,frameBufferType:i}={}){this.renderer=null,this.inputBuffer=this.createBuffer(e,t,i,n),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new MR,this.depthTexture=null,this.passes=[],this.timer=new $R,this.autoRenderToScreen=!0,this.setRenderer(A)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(A){const e=this.inputBuffer,t=this.multisampling;t>0&&A>0?(this.inputBuffer.samples=A,this.outputBuffer.samples=A,this.inputBuffer.dispose(),this.outputBuffer.dispose()):t!==A&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(e.depthBuffer,e.stencilBuffer,e.texture.type,A),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(A){if(this.renderer=A,A!==null){const e=A.getSize(new ce),t=A.getContext().getContextAttributes().alpha,n=this.inputBuffer.texture.type;A.autoClear=!1,this.setSize(e.width,e.height);for(const i of this.passes)i.setRenderer(A),i.initialize(A,t,n)}}replaceRenderer(A,e=!0){const t=this.renderer,n=t.domElement.parentNode;return this.setRenderer(A),e&&n!==null&&(n.removeChild(t.domElement),n.appendChild(A.domElement)),t}createDepthTexture(){const A=this.depthTexture=new up;return this.inputBuffer.depthTexture=A,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(A.format=SA,A.type=_A):A.type=Is,A}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const A of this.passes)A.setDepthTexture(null)}}createBuffer(A,e,t,n){const i=this.renderer===null?new ce:this.renderer.getDrawingBufferSize(new ce),r={minFilter:tt,magFilter:tt,stencilBuffer:e,depthBuffer:A,type:t};let s;return n>0?(s=Number(Vo.replace(/\D+/g,""))<138?new fu(i.width,i.height,r):new fn(i.width,i.height,r),s.ignoreDepthForMultisampleCopy=!1,s.samples=n):s=new fn(i.width,i.height,r),s.texture.name="EffectComposer.Buffer",s.texture.generateMipmaps=!1,s}addPass(A,e){const t=this.passes,n=this.renderer,i=n.getDrawingBufferSize(new ce),r=n.getContext().getContextAttributes().alpha,s=this.inputBuffer.texture.type;if(A.setRenderer(n),A.setSize(i.width,i.height),A.initialize(n,r,s),this.autoRenderToScreen&&(t.length>0&&(t[t.length-1].renderToScreen=!1),A.renderToScreen&&(this.autoRenderToScreen=!1)),e!==void 0?t.splice(e,0,A):t.push(A),this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!0),A.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const a=this.createDepthTexture();for(A of t)A.setDepthTexture(a)}else A.setDepthTexture(this.depthTexture)}removePass(A){const e=this.passes,t=e.indexOf(A);if(t!==-1&&e.splice(t,1).length>0){if(this.depthTexture!==null){const r=(a,o)=>a||o.needsDepthTexture;e.reduce(r,!1)||(A.getDepthTexture()===this.depthTexture&&A.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&t===e.length&&(A.renderToScreen=!1,e.length>0&&(e[e.length-1].renderToScreen=!0))}}removeAllPasses(){const A=this.passes;this.deleteDepthTexture(),A.length>0&&(this.autoRenderToScreen&&(A[A.length-1].renderToScreen=!1),this.passes=[])}render(A){const e=this.renderer,t=this.copyPass;let n=this.inputBuffer,i=this.outputBuffer,r=!1,s,a,o;A===void 0&&(A=this.timer.update().getDelta());for(const l of this.passes)l.isEnabled()&&(l.render(e,n,i,A,r),l.needsSwap&&(r&&(t.renderToScreen=l.renderToScreen,s=e.getContext(),a=e.state.buffers.stencil,a.setFunc(s.NOTEQUAL,1,4294967295),t.render(e,n,i,A,r),a.setFunc(s.EQUAL,1,4294967295)),o=n,n=i,i=o),l instanceof qR?r=!0:l instanceof TR&&(r=!1))}setSize(A,e,t){const n=this.renderer;if(A===void 0||e===void 0){const r=n.getSize(new ce);A=r.width,e=r.height}n.setSize(A,e,t);const i=n.getDrawingBufferSize(new ce);this.inputBuffer.setSize(i.width,i.height),this.outputBuffer.setSize(i.width,i.height);for(const r of this.passes)r.setSize(i.width,i.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const A of this.passes)A.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}};new D;new Se;new ve;new D;new D;var eH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",tH="data:image/png;base64,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",nH="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",iH="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",Ja={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},pH=class extends JR{constructor(A,e,t=Ja.HIGH,n=cC.COLOR){super("SMAAEffect",nH,{vertexShader:iH,blendFunction:_t.NORMAL,attributes:Qr.CONVOLUTION|Qr.DEPTH,uniforms:new Map([["weightMap",new pt(null)]])});this.renderTargetEdges=new fn(1,1,{minFilter:tt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new qp(!0,!1,!1),this.clearPass.setOverrideClearColor(new ve(0)),this.clearPass.setOverrideClearAlpha(1),this.edgeDetectionPass=new mv(new wR(new ce,n)),this.weightsPass=new mv(new _R);const i=new Et(A);i.name="SMAA.Search",i.magFilter=Bt,i.minFilter=Bt,i.generateMipmaps=!1,i.needsUpdate=!0,i.flipY=!0;const r=new Et(e);r.name="SMAA.Area",r.magFilter=tt,r.minFilter=tt,r.generateMipmaps=!1,r.needsUpdate=!0,r.flipY=!1,this.weightsPass.getFullscreenMaterial().setLookupTextures(i,r),this.applyPreset(t)}getEdgesTexture(){return this.renderTargetEdges.texture}getWeightsTexture(){return this.renderTargetWeights.texture}get edgeDetectionMaterial(){return this.getEdgeDetectionMaterial()}get colorEdgesMaterial(){return this.getEdgeDetectionMaterial()}getEdgeDetectionMaterial(){return this.edgeDetectionPass.getFullscreenMaterial()}get weightsMaterial(){return this.weightsPass.getFullscreenMaterial()}getWeightsMaterial(){return this.weightsPass.getFullscreenMaterial()}setEdgeDetectionThreshold(A){this.getEdgeDetectionMaterial().setEdgeDetectionThreshold(A)}setOrthogonalSearchSteps(A){this.getWeightsMaterial().setOrthogonalSearchSteps(A)}applyPreset(A){const e=this.edgeDetectionMaterial,t=this.weightsMaterial;switch(A){case Ja.LOW:e.setEdgeDetectionThreshold(.15),t.setOrthogonalSearchSteps(4),t.setDiagonalDetectionEnabled(!1),t.setCornerRoundingEnabled(!1);break;case Ja.MEDIUM:e.setEdgeDetectionThreshold(.1),t.setOrthogonalSearchSteps(8),t.setDiagonalDetectionEnabled(!1),t.setCornerRoundingEnabled(!1);break;case Ja.HIGH:e.setEdgeDetectionThreshold(.1),t.setOrthogonalSearchSteps(16),t.setDiagonalSearchSteps(8),t.setCornerRounding(25),t.setDiagonalDetectionEnabled(!0),t.setCornerRoundingEnabled(!0);break;case Ja.ULTRA:e.setEdgeDetectionThreshold(.05),t.setOrthogonalSearchSteps(32),t.setDiagonalSearchSteps(16),t.setCornerRounding(25),t.setDiagonalDetectionEnabled(!0),t.setCornerRoundingEnabled(!0);break}}setDepthTexture(A,e=RA){this.edgeDetectionMaterial.setDepthBuffer(A,e)}update(A,e,t){this.clearPass.render(A,this.renderTargetEdges),this.edgeDetectionPass.render(A,e,this.renderTargetEdges),this.weightsPass.render(A,this.renderTargetEdges,this.renderTargetWeights)}setSize(A,e){const t=this.edgeDetectionPass.getFullscreenMaterial(),n=this.weightsPass.getFullscreenMaterial();t.setSize(A,e),n.setSize(A,e),this.renderTargetEdges.setSize(A,e),this.renderTargetWeights.setSize(A,e)}dispose(){const A=this.weightsPass.getFullscreenMaterial().uniforms;A.searchTexture.value.dispose(),A.areaTexture.value.dispose(),super.dispose()}static get searchImageDataURL(){return eH}static get areaImageDataURL(){return tH}};export{cH as A,wy as C,oH as D,bo as E,aH as G,tt as L,sH as O,Or as R,pH as S,Fp as T,vy as V,Wi as a,dH as b,hH as c,kU as d,fH as e,AH as f,b_ as g,uH as h,lH as i};
